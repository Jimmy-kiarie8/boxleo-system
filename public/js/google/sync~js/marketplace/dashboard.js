(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{401:function(t,e,r){"use strict";var o=r(2);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i={data:function(){return{dialog:!1,form:{vendor_id:"",sheet_name:"",post_spreadsheet_id:""},select_vendor:!1}},created:function(){var t=this;eventBus.$on("openSheet",(function(e){t.dialog=!0,0==e?(t.select_vendor=!0,t.sellers.length<1&&t.getSellers()):(t.form.vendor_id=e,t.getSheet(e))}))},methods:{save:function(){var t={data:this.form,model:"sheets"};this.$store.dispatch("postItems",t).then((function(){}))},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})},getSheet:function(t){var e=this,r={model:"sheets",update:"updateSheet",id:t};this.$store.dispatch("showItem",r).then((function(t){t.data.length>0?(e.form.sheet_name=t.data.sheet_name,e.form.post_spreadsheet_id=t.data.post_spreadsheet_id):(e.form.sheet_name="",e.form.post_spreadsheet_id="")}))},close:function(){this.dialog=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["errors","loading","sheets","sellers"]))},l=r(0),c=Object(l.a)(i,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[t._v("Google Sheets")])]),t._v(" "),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-divider"),t._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[t.select_vendor?e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Vendor")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"client",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.vendor_id?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.vendor_id[0]))]):t._e()],1):t._e(),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Sheet name")]),t._v(" "),e("el-input",{attrs:{placeholder:"Sheet1"},model:{value:t.form.sheet_name,callback:function(e){t.$set(t.form,"sheet_name",e)},expression:"form.sheet_name"}}),t._v(" "),t.errors.sheet_name?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.sheet_name[0]))]):t._e()],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Spreadsheet id")]),t._v(" "),e("el-input",{attrs:{placeholder:"123 mainst"},model:{value:t.form.post_spreadsheet_id,callback:function(e){t.$set(t.form,"post_spreadsheet_id",e)},expression:"form.post_spreadsheet_id"}}),t._v(" "),t.errors.post_spreadsheet_id?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.post_spreadsheet_id[0]))]):t._e()],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Close")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:"",loading:t.loading,disabled:t.loading},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=c.exports},534:function(t,e,r){"use strict";r.r(e);var o=r(2),n=r(401);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={data:function(){return{dialog:!1,form:{},intervals:[{value:.5,label:"30 Minutes"},{value:1,label:"1 Hour"},{value:2,label:"2 Hours"},{value:4,label:"4 Hours"},{value:24,label:"1 Day"}]}},methods:{close:function(){this.dialog=!1},change_sync:function(){"Auto"==this.form.sync_option?(this.form.auto_sync=!0,this.form.product_webhook=!1,this.form.order_webhook=!1):"Webhook"==this.form.sync_option&&(this.form.product_webhook=!0,this.form.order_webhook=!0,this.form.auto_sync=!1)},getOu:function(){this.$store.dispatch("getItems",{model:"countries",update:"updateCountry"})},update:function(){var t={model:"sheet_update",id:this.form.id,data:this.form};this.$store.dispatch("patchItems",t)}},created:function(){var t=this;eventBus.$on("GoogleSettingsEvent",(function(e){t.form=e,t.dialog=!0,t.getOu()}))},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["countries"]))},c=r(0),u=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{persistent:"","max-width":"600px",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{attrs:{elevation:"3"}},[e("v-card-title",{attrs:{"grey-title":""}},[t._v("\n            "+t._s(t.form.shopify_name)+" Settings\n            "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{text:"",icon:"",color:"primary"},on:{click:t.close}},[e("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Sheet name")]),t._v(" "),e("el-input",{attrs:{placeholder:"Sheet1"},model:{value:t.form.sheet_name,callback:function(e){t.$set(t.form,"sheet_name",e)},expression:"form.sheet_name"}})],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Spreadsheet id")]),t._v(" "),e("el-input",{attrs:{placeholder:""},model:{value:t.form.post_spreadsheet_id,callback:function(e){t.$set(t.form,"post_spreadsheet_id",e)},expression:"form.post_spreadsheet_id"}})],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Last update Order No.")]),t._v(" "),e("el-input",{attrs:{placeholder:"BLX001"},model:{value:t.form.lastUpdatedOrderNumber,callback:function(e){t.$set(t.form,"lastUpdatedOrderNumber",e)},expression:"form.lastUpdatedOrderNumber"}})],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Last time.")]),t._v(" "),e("el-date-picker",{attrs:{type:"datetime",placeholder:"Select date and time"},model:{value:t.form.last_order_synced,callback:function(e){t.$set(t.form,"last_order_synced",e)},expression:"form.last_order_synced"}})],1),t._v(" "),e("label",{attrs:{for:""}},[t._v("Operating unit")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",placeholder:"Operating unit"},model:{value:t.form.country_id,callback:function(e){t.$set(t.form,"country_id",e)},expression:"form.country_id"}},t._l(t.countries,(function(t){return e("el-option",{key:t.id,attrs:{label:t.country,value:t.id}})})),1),t._v(" "),e("el-tooltip",{attrs:{content:"Automatically synchronize orders at a given time interval",placement:"top"}},[e("v-checkbox",{attrs:{label:"Auto sync"},model:{value:t.form.auto_sync,callback:function(e){t.$set(t.form,"auto_sync",e)},expression:"form.auto_sync"}})],1),t._v(" "),e("label",{attrs:{for:""}},[t._v("Time interval")]),t._v(" "),t.form.auto_sync?e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",placeholder:"Time interval"},model:{value:t.form.sync_interval,callback:function(e){t.$set(t.form,"sync_interval",e)},expression:"form.sync_interval"}},t._l(t.intervals,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e(),t._v(" "),e("label",{attrs:{for:""}},[t._v("Order number prefix")]),t._v(" "),e("el-input",{attrs:{placeholder:"eg SHP_"},model:{value:t.form.order_prefix,callback:function(e){t.$set(t.form,"order_prefix",e)},expression:"form.order_prefix"}}),t._v(" "),e("el-radio-group",{model:{value:t.form.sync_all,callback:function(e){t.$set(t.form,"sync_all",e)},expression:"form.sync_all"}},[e("el-radio",{attrs:{label:1}},[t._v("Sync all")]),t._v(" "),e("el-radio",{attrs:{label:0}},[t._v("Sync scheduled only")])],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",text:""},on:{click:t.update}},[t._v("Update")])],1)],1)],1)}),[],!1,null,null,null).exports;function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function m(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=v(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f={components:{createStore:n.a,settings:u},data:function(){return{activeName:"first",search:"",s_color:"#47bf6c",headers:[{text:"Merchant",value:"vendor.name"},{text:"Sheet Name",value:"sheet_name"},{text:"Status",value:"active"},{text:"Default",value:"is_current"},{text:"Last update",value:"last_order_synced"},{text:"Created On",value:"created_at"},{text:"Actions",value:"actions",sortable:!1}]}},methods:{handleClick:function(t,e){this.getStores(t.label)},openApi:function(){eventBus.$emit("openSheet",0)},getStores:function(t){var e={model:"/sheets?status="+t,update:"updateSheet"};this.$store.dispatch("getItems",e)},openStore:function(t){this.$router.push({name:"google_sync",params:{id:t.id,last_sync:t.last_order_synced}})},syncSheet:function(t){var e={model:"sheet_sync/"+t,data:{id:t}};this.$store.dispatch("postItems",e).then((function(t){}))},syncOrders:function(t){var e={model:"google_sync/"+t,data:{id:t}};this.$store.dispatch("postItems",e).then((function(t){}))},makeCurrent:function(t){var e=this,r={model:"google_current",id:t.id,data:t};this.$store.dispatch("patchItems",r).then((function(t){e.getStores("Current")}))},changeStatus:function(t){var e=this,r={model:"google_status",id:t.id,data:t};this.$store.dispatch("patchItems",r).then((function(t){e.getStores("Current")}))},openSettings:function(t){eventBus.$emit("GoogleSettingsEvent",t)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["sheets","loading"])),mounted:function(){this.getStores("Current")}},p={components:{myStores:Object(c.a)(f,(function(){var t=this,e=t._self._c;return e("div",[e("v-card",{staticClass:"mx-auto",staticStyle:{"padding-bottom":"30px"},attrs:{"max-width":"100%",outlined:""}},[e("v-list-item",{attrs:{"three-line":""}},[e("v-list-item-content",[e("div",{staticClass:"text-overline mb-4"},[t._v("\n                    Logixsaas\n                ")]),t._v(" "),e("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v("\n                    Google Sheets\n                ")]),t._v(" "),e("v-list-item-subtitle",{staticStyle:{overflow:"visible"}},[t._v("Integrating your googlesheets with Logixsaas bridges the gap between your sales channel and inventory, giving you the ability to tackle any number of online orders with ease while keeping the stock in continuous sync in both platforms.")])],1),t._v(" "),e("v-list-item-avatar",{staticStyle:{width:"200px !important",height:"200px !important",margin:"0 !important"},attrs:{tile:"",size:"200"}},[e("v-icon",{staticStyle:{"font-size":"190px"},attrs:{color:t.s_color}},[t._v("mdi-google-spreadsheet")])],1)],1),t._v(" "),e("v-list-item",{attrs:{"three-line":""}},[e("v-list-item-content",[e("div",{staticClass:"text-overline mb-4"},[t._v("\n                    Share\n                ")]),t._v(" "),e("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v("\n                    Google Sheets\n                ")]),t._v(" "),e("v-list-item-subtitle",{staticStyle:{overflow:"visible"}},[t._v("To connect, share your googlesheet with "),e("b",[t._v("sheets@courier-55c5e.iam.gserviceaccount.com")]),t._v(", then add Sheet. ")])],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{outlined:"",rounded:"",text:""},on:{click:t.openApi}},[t._v("\n                Add Sheet\n            ")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("h3",[t._v("Connected Stores")]),t._v(" "),e("v-btn",{attrs:{color:"primary",text:"",icon:""},on:{click:function(e){return t.getStores("Current")}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-refresh")])],1),t._v(" "),e("v-card-title",[e("v-spacer"),t._v(" "),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"Current",name:"first"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"All",name:"second"}})],1),t._v(" "),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.sheets,search:t.search,loading:t.loading},scopedSlots:t._u([{key:"item.active",fn:function(t){var r=t.item;return[e("el-tooltip",{attrs:{content:r.active?"active":"Not active",placement:"top"}},[e("v-avatar",{staticStyle:{cursor:"pointer"},attrs:{color:r.active?"green":"red",small:""}})],1)]}},{key:"item.is_current",fn:function(t){var r=t.item;return[e("el-tooltip",{attrs:{content:r.is_current?"Default":"Not Default",placement:"top"}},[e("v-avatar",{staticStyle:{cursor:"pointer"},attrs:{color:r.is_current?"green":"red",small:""}})],1)]}},{key:"item.virtual",fn:function(t){var r=t.item;return[e("el-tooltip",{attrs:{content:r.virtual?"Inventory is not being tracked":"Inventory is being tracked",placement:"top"}},[e("v-avatar",{staticStyle:{cursor:"pointer"},attrs:{color:r.virtual?"red":"green",small:""}})],1)]}},{key:"item.actions",fn:function(r){var o=r.item;return[e("div",{staticStyle:{"min-width":"160px"}},[o.active?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openStore(o)}},slot:"activator"},n),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-eye")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Open store")])]):t._e(),t._v(" "),o.active?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openSettings(o)}},slot:"activator"},n),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-cogs")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Store settings")])]):t._e(),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.changeStatus(o)}},slot:"activator"},n),[e("v-icon",{attrs:{small:"",color:o.active?"success":"red"},domProps:{textContent:t._s(o.active?"mdi-check-circle":"mdi-cancel")}})],1)]}}],null,!0)},[t._v(" "),o.active?e("span",[t._v("Deactivate")]):e("span",[t._v("Activate")])]),t._v(" "),o.active?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.syncOrders(o.id)}},slot:"activator"},n),[e("v-icon",{attrs:{small:"",color:"primary"}},[t._v("mdi-sync-circle")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Sync")])]):t._e(),t._v(" "),o.active?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.syncSheet(o.id)}},slot:"activator"},n),[e("v-icon",{attrs:{small:"",color:"success"}},[t._v("mdi-file-sync")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Push Updates")])]):t._e(),t._v(" "),o.active?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.makeCurrent(o)}},slot:"activator"},n),[0==o.is_current?e("v-icon",{attrs:{small:"",color:"primary"}},[t._v("mdi-thumb-up")]):e("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-thumb-down")])],1)]}}],null,!0)},[t._v(" "),e("span",{domProps:{textContent:t._s(0==o.is_current?"Make default":"Make as not default")}})]):t._e()],1)]}}])}),t._v(" "),e("createStore"),t._v(" "),e("settings")],1)}),[],!1,null,null,null).exports},data:function(){return{}}},_=Object(c.a)(p,(function(){var t=this._self._c;return t("div",[t("v-card",{staticStyle:{margin:"auto"},attrs:{width:"90%"}},[t("myStores")],1)],1)}),[],!1,null,null,null);e.default=_.exports}}]);