/*! For license information please see reports.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1117:function(t,e,r){"use strict";r.r(e);var a=r(2),o=r(269),n=r.n(o);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={components:{draggable:n.a},data:function(){return{dialog:!1,deliver_status:[{value:"Open"},{value:"Inprogress"},{value:"Shipped"},{value:"Delivered"},{value:"Confirmed"},{value:"Closed"}],operators:[{value:"AND"},{value:"OR"}],conditions:[{value:"is",op:"="},{value:"is not",op:"!="},{value:"is greater than",op:">"},{value:"is greater than or equal to",op:">="},{value:"is less than than equal to",op:"<="},{value:"is less than than",op:"<"},{value:"contains",op:"LIKE"},{value:"doesn't contain"},{value:"is in"},{value:"is not in"},{value:"starts with"}],radio:"1",form:{conditions:[{condition:"",row:{Type:""},operator:"When",value:""}]},available_rows:[],controlOnStart:!0,table_column:{}}},methods:{getColumns:function(){var t=this;this.$store.dispatch("getItems",{model:"table_column",update:"updateColumnList"}).then((function(e){t.table_column=e.data}))},save:function(){this.form.table_column=this.table_column;var t={data:this.form,model:"custom_reports"};this.$store.dispatch("postItems",t).then((function(t){}))},remove:function(t){this.form.conditions.splice(t,1)},getApp:function(){this.$store.dispatch("showItem",{model:"custom_reports",id:1,update:"updateTableRows"})},getRows:function(){this.$store.dispatch("searchItems",{model:"table_rows",search:"sales",update:"updateTableRows"})},get_row:function(){var t=this;axios.get("table_rows/sales").then((function(e){t.available_rows=e.data})).catch((function(t){console.log(t)}))},getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},add_row:function(){this.form.conditions.push({condition:"",row:{Type:""},operator:"AND",value:""})},clone:function(t){return{label:t.label}},pullFunction:function(){return!this.controlOnStart||"clone"},start:function(t){var e=t.originalEvent;this.controlOnStart=e.ctrlKey},close:function(){this.dialog=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(a.b)(["table_rows","statuses","loading"])),mounted:function(){this.getRows(),this.get_row(),this.getStatus()},created:function(){var t=this;eventBus.$on("openCreateReport",(function(e){t.dialog=!0,t.getColumns()}))}},u=r(0),d=Object(u.a)(c,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"750px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{staticStyle:{padding:"20px 20px"}},[e("v-card-title",{attrs:{"primary-title":""}},[e("v-btn",{attrs:{text:"",icon:"",color:"primary"},on:{click:t.close}},[e("v-spacer"),t._v(" "),e("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),e("v-card-text",[e("label",{attrs:{for:""}},[t._v("Name")]),t._v(" "),e("el-input",{attrs:{placeholder:"Please input"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),e("h3",{staticStyle:{"text-align":"center"}},[t._v("Define the criteria ( if any )")]),t._v(" "),e("hr"),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),t._l(t.form.conditions,(function(r,a){return e("v-layout",{key:a,staticStyle:{"margin-top":"20px"},attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm2:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select",disabled:0==a},model:{value:r.operator,callback:function(e){t.$set(r,"operator",e)},expression:"items.operator"}},t._l(t.operators,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"20px"},attrs:{sm3:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select","value-key":"key"},model:{value:r.row,callback:function(e){t.$set(r,"row",e)},expression:"items.row"}},t._l(t.table_rows,(function(t,r){return e("el-option",{key:r,attrs:{label:t.label,value:t}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm3:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:r.condition,callback:function(e){t.$set(r,"condition",e)},expression:"items.condition"}},t._l(t.conditions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),r.condition?e("v-flex",{attrs:{sm2:""}},[t.form.conditions.length>0?e("div",["tinyint(1)"==t.form.conditions[a].row.Type?e("div",[e("el-radio",{attrs:{label:"true"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}},[t._v("True")]),t._v(" "),e("el-radio",{attrs:{label:"false"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}},[t._v("False")])],1):"Inprogress"==t.form.conditions[a].row.Default?e("div",["delivery_status"==t.form.conditions[a].row.Field?e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}},t._l(t.statuses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.status,value:t.status}})})),1):e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}},t._l(t.deliver_status,(function(t,r){return e("el-option",{key:r,attrs:{label:t.value,value:t.value}})})),1)],1):"datetime"==t.form.conditions[a].row.Type||"timestamp"==t.form.conditions[a].row.Type?e("div",[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}})],1):e("div",[e("el-input",{attrs:{type:-1!==t.form.conditions[a].row.Type.indexOf("int")||-1!==t.form.conditions[a].row.Type.indexOf("decimal")?"number":"text",placeholder:"Please input"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}})],1)]):t._e()]):t._e(),t._v(" "),a>0?e("v-flex",{staticStyle:{margin:"5px 0 0 20px"},attrs:{sm1:""}},[e("v-btn",{attrs:{text:"",icon:"",color:"pink"},on:{click:function(e){return t.remove(a)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)],1):t._e()],1)})),t._v(" "),e("v-btn",{staticStyle:{"margin-top":"20px"},attrs:{small:"",text:"",color:"primary"},on:{click:t.add_row}},[e("v-icon",[t._v("mdi-plus")]),t._v(" "),e("span",[t._v("Add Criteria")])],1),t._v(" "),e("v-layout",{staticStyle:{"margin-top":"40px","padding-left":"10px"},attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("draggable",{model:{value:t.table_column,callback:function(e){t.table_column=e},expression:"table_column"}},t._l(t.table_column,(function(r){return e("v-layout",{key:r.id,staticStyle:{"margin-top":"10px"},attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm1:""}},[e("el-checkbox",{model:{value:r.checked,callback:function(e){t.$set(r,"checked",e)},expression:"item.checked"}})],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("el-select",{attrs:{placeholder:"Select"},model:{value:r.field,callback:function(e){t.$set(r,"field",e)},expression:"item.field"}},t._l(t.table_column,(function(t,r){return e("el-option",{key:r,attrs:{label:t.field,value:t.field}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("el-input",{attrs:{placeholder:"Please input"},model:{value:r.label,callback:function(e){t.$set(r,"label",e)},expression:"item.label"}})],1),t._v(" "),e("v-flex",{attrs:{sm1:""}},[e("v-icon",[t._v("mdi-drag")])],1)],1)})),1)],1)],1)],2),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:t.close}},[t._v("Close")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports;function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=p(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v={components:{draggable:n.a},data:function(){return{dialog:!1,deliver_status:[{value:"Open"},{value:"Inprogress"},{value:"Shipped"},{value:"Delivered"},{value:"Confirmed"},{value:"Closed"}],operators:[{value:"AND"},{value:"OR"}],conditions:[{value:"is",op:"="},{value:"is not",op:"!="},{value:"is greater than",op:">"},{value:"is greater than or equal to",op:">="},{value:"is less than than equal to",op:"<="},{value:"is less than than",op:"<"},{value:"contains",op:"LIKE"},{value:"doesn't contain"},{value:"is in"},{value:"is not in"},{value:"starts with"}],radio:"1",form:{conditions:[{condition:"",row:{Type:""},operator:"When",value:""}]},available_rows:[],controlOnStart:!0,table_column:{}}},methods:{getColumns:function(t){var e=this,r={model:"table_column?id="+t,update:"updateColumnList"};this.$store.dispatch("getItems",r).then((function(t){e.table_column=t.data}))},save:function(){this.form.table_column=this.table_column;var t={data:this.form,id:this.form.id,model:"custom_reports"};this.$store.dispatch("patchItems",t).then((function(t){}))},remove:function(t){this.form.conditions.splice(t,1)},getApp:function(){this.$store.dispatch("showItem",{model:"custom_reports",id:1,update:"updateTableRows"})},getRows:function(){this.$store.dispatch("searchItems",{model:"table_rows",search:"sales",update:"updateTableRows"})},get_row:function(){var t=this;axios.get("table_rows/sales").then((function(e){t.available_rows=e.data})).catch((function(t){console.log(t)}))},getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},add_row:function(){this.form.conditions.push({condition:"",row:{Type:""},operator:"AND",value:""})},clone:function(t){return{label:t.label}},pullFunction:function(){return!this.controlOnStart||"clone"},start:function(t){var e=t.originalEvent;this.controlOnStart=e.ctrlKey},close:function(){this.dialog=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(a.b)(["table_rows","statuses","loading"])),mounted:function(){this.getRows(),this.get_row(),this.getStatus()},created:function(){var t=this;eventBus.$on("openEditReport",(function(e){t.form=e,t.dialog=!0,t.getColumns(e.id)}))}};function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=_(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b={props:["user"],components:{Create:d,Edit:Object(u.a)(v,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"750px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{staticStyle:{padding:"20px 20px"}},[e("v-card-title",{attrs:{"primary-title":""}},[e("v-btn",{attrs:{text:"",icon:"",color:"primary"},on:{click:t.close}},[e("v-spacer"),t._v(" "),e("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),e("v-card-text",[e("label",{attrs:{for:""}},[t._v("Name")]),t._v(" "),e("el-input",{attrs:{placeholder:"Please input"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),e("h3",{staticStyle:{"text-align":"center"}},[t._v("Define the criteria ( if any )")]),t._v(" "),e("hr"),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),t._l(t.form.conditions,(function(r,a){return e("v-layout",{key:a,staticStyle:{"margin-top":"20px"},attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm2:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select",disabled:0==a},model:{value:r.operator,callback:function(e){t.$set(r,"operator",e)},expression:"items.operator"}},t._l(t.operators,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"20px"},attrs:{sm3:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select","value-key":"key"},model:{value:r.row,callback:function(e){t.$set(r,"row",e)},expression:"items.row"}},t._l(t.table_rows,(function(t,r){return e("el-option",{key:r,attrs:{label:t.label,value:t}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm3:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:r.condition,callback:function(e){t.$set(r,"condition",e)},expression:"items.condition"}},t._l(t.conditions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),r.condition?e("v-flex",{attrs:{sm2:""}},[t.form.conditions.length>0?e("div",["tinyint(1)"==t.form.conditions[a].row.Type?e("div",[e("el-radio",{attrs:{label:"true"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}},[t._v("True")]),t._v(" "),e("el-radio",{attrs:{label:"false"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}},[t._v("False")])],1):"Inprogress"==t.form.conditions[a].row.Default?e("div",["delivery_status"==t.form.conditions[a].row.Field?e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}},t._l(t.statuses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.status,value:t.status}})})),1):e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}},t._l(t.deliver_status,(function(t,r){return e("el-option",{key:r,attrs:{label:t.value,value:t.value}})})),1)],1):"datetime"==t.form.conditions[a].row.Type||"timestamp"==t.form.conditions[a].row.Type?e("div",[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}})],1):e("div",[e("el-input",{attrs:{type:-1!==t.form.conditions[a].row.Type.indexOf("int")||-1!==t.form.conditions[a].row.Type.indexOf("decimal")?"number":"text",placeholder:"Please input"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"items.value"}})],1)]):t._e()]):t._e(),t._v(" "),a>0?e("v-flex",{staticStyle:{margin:"5px 0 0 20px"},attrs:{sm1:""}},[e("v-btn",{attrs:{text:"",icon:"",color:"pink"},on:{click:function(e){return t.remove(a)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)],1):t._e()],1)})),t._v(" "),e("v-btn",{staticStyle:{"margin-top":"20px"},attrs:{small:"",text:"",color:"primary"},on:{click:t.add_row}},[e("v-icon",[t._v("mdi-plus")]),t._v(" "),e("span",[t._v("Add Criteria")])],1),t._v(" "),e("v-layout",{staticStyle:{"margin-top":"40px","padding-left":"10px"},attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("draggable",{model:{value:t.table_column,callback:function(e){t.table_column=e},expression:"table_column"}},t._l(t.table_column,(function(r){return e("v-layout",{key:r.id,staticStyle:{"margin-top":"10px"},attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm1:""}},[e("el-checkbox",{model:{value:r.checked,callback:function(e){t.$set(r,"checked",e)},expression:"item.checked"}})],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("el-select",{attrs:{placeholder:"Select"},model:{value:r.field,callback:function(e){t.$set(r,"field",e)},expression:"item.field"}},t._l(t.table_column,(function(t,r){return e("el-option",{key:r,attrs:{label:t.field,value:t.field}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("el-input",{attrs:{placeholder:"Please input"},model:{value:r.label,callback:function(e){t.$set(r,"label",e)},expression:"item.label"}})],1),t._v(" "),e("v-flex",{attrs:{sm1:""}},[e("v-icon",[t._v("mdi-drag")])],1)],1)})),1)],1)],1)],2),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:t.close}},[t._v("Close")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",text:"",rounded:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{form:{},search:"",headers:[{text:"Id#",value:"id",type:"number"},{text:"Name",value:"name"},{text:"Created On",value:"created_at"},{text:"Actions",value:"actions",sortable:!1}]}},methods:{openCreate:function(){eventBus.$emit("openCreateReport")},openEdit:function(t){eventBus.$emit("openEditReport",t)},confirm_delete:function(t){var e=this;this.$confirm("This will permanently delete the item. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.deleteItem(t)})).catch((function(){e.$message({type:"error",message:"Delete canceled"})}))},deleteItem:function(t){var e=this;this.$store.dispatch("deleteItem","reports/"+t.id).then((function(t){e.$message({type:"success",message:"Delete completed"})}))},openShow:function(t){eventBus.$emit("openShowReport",t)},get_custom_report:function(t){this.$store.dispatch("getItems",{model:"custom_reports",update:"updateCustomReport"})}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(a.b)(["custom_report","loading"])),mounted:function(){this.get_custom_report()}},g=(r(840),Object(u.a)(b,(function(){var t=this,e=t._self._c;return e("div",[e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("v-card",{staticStyle:{padding:"20px 0"}},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("Dashboard")]),t._v(" "),e("el-breadcrumb-item",[t._v("Custom Reports")])],1)],1)],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("v-card",[e("v-card-title",[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.get_custom_report},slot:"activator"},a),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),e("span",[t._v("Refresh")])]),t._v(" "),e("v-btn",{attrs:{color:"info",text:""},on:{click:t.openCreate}},[t._v("Create Custom Report")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e("v-data-table",{attrs:{headers:t.headers,items:t.custom_report,search:t.search,loading:t.loading},scopedSlots:t._u([{key:"item.actions",fn:function(r){var a=r.item;return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openEdit(a)}},slot:"activator"},o),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-pen")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Edit "+t._s(a.name))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.confirm_delete(a)}},slot:"activator"},o),[e("v-icon",{attrs:{small:"",color:"pink darken-2"}},[t._v("mdi-delete")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Delete "+t._s(a.name))])])]}}])})],1)],1)],1)],1),t._v(" "),e("Create"),t._v(" "),e("Edit")],1)}),[],!1,null,"0b7d7581",null));e.default=g.exports},1147:function(t,e,r){"use strict";r.r(e);var a=r(512),o=r(1),n=r.n(o),i=r(2);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(){d=function(){return e};var t,e={},r=Object.prototype,a=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function p(t,e,r,a){var n=e&&e.prototype instanceof y?e:y,i=Object.create(n.prototype),l=new C(a||[]);return o(i,"_invoke",{value:P(t,r,l)}),i}function m(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var f="suspendedStart",v="executing",_="completed",h={};function y(){}function b(){}function g(){}var x={};u(x,i,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(E([])));S&&S!==r&&a.call(S,i)&&(x=S);var k=g.prototype=y.prototype=Object.create(x);function O(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,n,i,s){var c=m(t[o],t,n);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==l(d)&&a.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var n;o(this,"_invoke",{value:function(t,a){function o(){return new e((function(e,o){r(t,a,e,o)}))}return n=n?n.then(o,o):o()}})}function P(e,r,a){var o=f;return function(n,i){if(o===v)throw Error("Generator is already running");if(o===_){if("throw"===n)throw i;return{value:t,done:!0}}for(a.method=n,a.arg=i;;){var l=a.delegate;if(l){var s=D(l,a);if(s){if(s===h)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===f)throw o=_,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var c=m(e,r,a);if("normal"===c.type){if(o=a.done?_:"suspendedYield",c.arg===h)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(o=_,a.method="throw",a.arg=c.arg)}}}function D(e,r){var a=r.method,o=e.iterator[a];if(o===t)return r.delegate=null,"throw"===a&&e.iterator.return&&(r.method="return",r.arg=t,D(e,r),"throw"===r.method)||"return"!==a&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+a+"' method")),h;var n=m(o,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;var i=n.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function r(){for(;++o<e.length;)if(a.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return n.next=n}}throw new TypeError(l(e)+" is not iterable")}return b.prototype=g,o(k,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},O(j.prototype),u(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,a,o,n){void 0===n&&(n=Promise);var i=new j(p(t,r,a,o),n);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(k),u(k,c,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var a in e)r.push(a);return r.reverse(),function t(){for(;r.length;){var a=r.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(a,o){return l.type="throw",l.arg=e,r.next=a,o&&(r.method="next",r.arg=t),!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=t,i.arg=e,n?(this.method="next",this.next=n.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),$(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var a=r.completion;if("throw"===a.type){var o=a.arg;$(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,a){return this.delegate={iterator:E(e),resultName:r,nextLoc:a},"next"===this.method&&(this.arg=t),h}},e}function p(t,e,r,a,o,n,i){try{var l=t[n](i),s=l.value}catch(t){return void r(t)}l.done?e(s):Promise.resolve(s).then(a,o)}var m={name:"report",props:["user"],components:{Tableview:a.a},data:function(){return{selectedItem:0,stats_data:{total:0,delivered:0,returned:0,dispatched:0,scheduled:0,pending:0},csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),kanban:!1,toggle_exclusive:2,form:{},report_show:!1,reports:[{report:"Delivered",label:"Delivery Report"},{report:"Returned",label:"Returns Report"},{report:"awaiting_returned",label:"Awaiting Return"},{report:"Dispatched",label:"Out Scan Report"},{report:"Status",label:"Merchant Report"},{report:"Remittance",label:"Remittance"},{report:"Product",label:"Product Report"},{report:"Zone",label:"Zone Report"},{report:"Custom",label:"Custom Report"}],m_reports:[{report:"Delivered",label:"Delivery Report"},{report:"Returned",label:"Returns Report"},{report:"Dispatched",label:"Out Scan Report"},{report:"Status",label:"Merchant Report"},{report:"Remittance",label:"Remittance"}],json_fields:{No:"order.st","Order No":"order_no","destination Type":"order.st","Receiver Name":"client.name","Receiver Address":"client.address","Receiver Email":"client.email","Receiver Phone":"client.phone","Receiver Town":"client.city",Product:"product_name","Special Instruction":"customer_notes","Payment Type":"payment_method","Cash On Delivery":"total_price","Order Status":"delivery_status","Delivery Date":"delivery_date",Amount:"total_price"},remittance_json:{"Order No":"order_no","Total Amount":"total_price","Item Quantity":"quantity","Item Description":"product_name","Client Name":"client.name",Location:"client.address",Town:"client.city",Phone:"client.phone","Upsell(Yes or No)":"No",Status:"delivery_status","Status Date":"updated_at","Delivered On":"delivered_on","Delivery Fee":"order.st","Fulfillment Fee":"order.st",COD:"order.st","Order Total":"order.st","Special Remarks":"customer_notes","Custom Reason":"customer_notes"},merchant_json:{"Order No":"order_no","Product Item":"product_name","Receiver Name":"client.name","Receiver Address":"client.address","Receiver Email":"client.email","Receiver Phone":"client.phone","Receiver Gender":"client.gender","Receiver Country":"client.country","Receiver Town":"client.city","Receiver Latitude":"client.city","Receiver Longitude":"client.city","Special Instructions":"customer_notes","Payment Type":"payment_method","Cash On Delivery":"total_price",Insurance:"0","Order Status":"delivery_status","Custom Reason":"customer_notes","Created At":"created_at","Status Date":"updated_at","Schedule Date":"schedule_date","Delivery Date":"delivery_date",Quantity:"quantity",Amount:"total_price",Agent:"agent.name"},awaiting_json:{"Order No":"order_no","Total Amount":"total_price","Product Item":"product_name","Client Name":"client.name","Client Address":"client.address","Client Phone":"client.phone",Status:"delivery_status"},headers:[]}},methods:{getZones:function(){this.$store.dispatch("getItems",{model:"zones",update:"updateZone"})},getRiders:function(){this.$store.dispatch("getItems",{model:"rider/riders",update:"updateRidersList"})},get_report:function(){var t=this,e={model:"reports",update:"updateSaleList",data:this.form};this.$store.dispatch("filterItems",e).then((function(e){t.headers=e.data.table_columns,t.report_show=!0,"Custom"==t.form.report?t.json_fields=e.data.columns:t.json_fields={No:"order.st","Order No":"order_no","destination Type":"order.st","Receiver Name":"client.name","Receiver Address":"client.address","Receiver Email":"client.email","Receiver Phone":"client.phone","Receiver Town":"client.city",Product:"product_name","Special Instruction":"customer_notes","Payment Type":"payment_method","Cash On Delivery":"total_price","Order Status":"delivery_status","Delivery Date":"delivery_date",Amount:"total_price"},t.stats_data=e.data.counts}))},count_data:function(){var t=this,e={model:"count_data",update:"updateEmpty",data:this.form};this.$store.dispatch("filterItems",e).then((function(e){t.stats_data=e.data}))},stats:function(){var t=this;this.sales.sales.data.forEach((function(e){"Delivered"==e.delivery_status?(t.stats_data.delivered+=1,t.stats_data.total+=1):"Returned"==e.delivery_status?(t.stats_data.returned+=1,t.stats_data.total+=1):"Dispatched"==e.delivery_status?(t.stats_data.dispatched+=1,t.stats_data.total+=1):"Scheduled"==e.delivery_status?(t.stats_data.scheduled+=1,t.stats_data.total+=1):(t.stats_data.pending+=1,t.stats_data.total+=1)}))},set_fields:function(t){this.json_fields={No:"","Order No":"order_no","destination Type":"","Receiver Name":"client.name","Receiver Address":"client.address","Receiver Email":"client.email","Receiver Phone":"client.phone","Receiver Town":"client.city",Product:"product_name","Special Instruction":"customer_notes","Payment Type":"payment_method","Cash On Delivery":"total_price","Order Status":"delivery_status","Delivery Date":"delivery_date",Amount:"total_price"}},get_custom_report:function(t){if("Custom"==t){this.$store.dispatch("getItems",{model:"custom_reports",update:"updateCustomReport"})}},getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},downloadPackage:function(){this.$refs.form.submit()},picking_list:function(){this.$refs.picking_form.submit()},report_form:function(){this.$refs.report_form.submit()},export_dispatch:function(){this.$refs.dispatch_form.submit()},ex_download:function(){this.$refs.ex_download.submit()},serialize_d:function(t){var e,r=this;return(e=d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.serialize_data=JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,o){var n=e.apply(t,r);function i(t){p(n,a,o,i,l,"next",t)}function l(t){p(n,a,o,i,l,"throw",t)}i(void 0)}))})()},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})},getFiles:function(){this.$store.dispatch("getItems",{model:"/files",update:"updateFiles"})},getProduct:function(t){if(t.length>2){var e={model:"product_filter_search",update:"updateProductsList",data:{search:t,vendors:this.form.client}};this.$store.dispatch("filterItems",e)}},getOus:function(){this.$store.dispatch("getItems",{model:"ous",update:"updateOu"})},next_page:function(t,e){var r={data:this.form,path:t,page:e,update:"updateSaleList"};this.$store.dispatch("nextPagePost",r)}},mounted:function(){this.getSellers(),this.getStatus(),this.getZones(),this.getRiders(),this.getOus()},computed:c(c({},Object(i.b)(["sellers","statuses","sales","custom_report","loading","errors","products","zones","files","riders","ous"])),{},{serialize_data:function(){var t=u(u(u(u(u(u(u({created_at:this.form.created_at,start_date:this.form.start_date,end_date:this.form.end_date,client:this.form.client,report:this.form.report,delivery_status:this.form.delivery_status,delivered_on:this.form.delivered_on,delivery_start_date:this.form.delivery_start_date,delivery_end_date:this.form.delivery_end_date,returned_on:this.form.returned_on,return_start_date:this.form.return_start_date,return_end_date:this.form.return_end_date},"return_start_date",this.form.return_start_date),"return_end_date",this.form.return_end_date),"status_date",this.form.status_date),"ou_id",this.form.ou_id),"zone_to",this.form.zone_to),"product",this.form.product),"rider_id",this.form.rider_id);return JSON.stringify(t)},serialize_pick:function(){return JSON.stringify(this.packages)},today:function(){return n()().format("yyyy-MM-DD")}})},f=r(0),v=Object(f.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("div",[e("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[e("v-card",{staticStyle:{width:"100%",padding:"30px 0 40px 20px"}},[e("v-progress-linear",{attrs:{color:"primary",active:t.loading,indeterminate:t.loading,rounded:"",height:"4"}}),t._v(" "),e("v-card-text",[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{sm2:""}},[e("label",{attrs:{for:""}},[t._v("Report")]),t._v(" "),t.user.is_vendor?e("el-select",{attrs:{placeholder:"Report",clearable:"",filterable:""},on:{change:t.get_custom_report},model:{value:t.form.report,callback:function(e){t.$set(t.form,"report",e)},expression:"form.report"}},t._l(t.m_reports,(function(t,r){return e("el-option",{key:r,attrs:{label:t.label,value:t.report}})})),1):e("el-select",{attrs:{placeholder:"Report",clearable:"",filterable:""},on:{change:t.get_custom_report},model:{value:t.form.report,callback:function(e){t.$set(t.form,"report",e)},expression:"form.report"}},t._l(t.reports,(function(t,r){return e("el-option",{key:r,attrs:{label:t.label,value:t.report}})})),1),t._v(" "),t.errors.report?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.report[0]))]):t._e()],1),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{sm2:""}},[e("label",{attrs:{for:""}},[t._v("Operating unit")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:t.form.ou_id,callback:function(e){t.$set(t.form,"ou_id",e)},expression:"form.ou_id"}},t._l(t.ous,(function(t){return e("el-option",{key:t.id,attrs:{label:t.ou,value:t.id}})})),1),t._v(" "),t.errors.ou_id?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.ou_id[0]))]):t._e()],1),t._v(" "),"Custom"==t.form.report?e("v-flex",{staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{sm2:""}},[e("label",{attrs:{for:""}},[t._v("Report")]),t._v(" "),e("el-select",{attrs:{placeholder:"Custom Report",clearable:"",filterable:""},model:{value:t.form.custom,callback:function(e){t.$set(t.form,"custom",e)},expression:"form.custom"}},t._l(t.custom_report,(function(t,r){return e("el-option",{key:r,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.custom?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.custom[0]))]):t._e()],1):t._e(),t._v(" "),t.user.is_vendor?t._e():e("v-flex",{staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{sm2:""}},[e("label",{attrs:{for:""}},[t._v("Client")]),t._v(" "),e("el-select",{attrs:{multiple:"",placeholder:"Client",clearable:"",filterable:""},model:{value:t.form.client,callback:function(e){t.$set(t.form,"client",e)},expression:"form.client"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),t.user.is_vendor?t._e():e("v-flex",{staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{sm3:""}},[e("label",{attrs:{for:""}},[t._v("Zone to")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Zone to",clearable:"",filterable:"",multiple:""},model:{value:t.form.zone_to,callback:function(e){t.$set(t.form,"zone_to",e)},expression:"form.zone_to"}},t._l(t.zones,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),t.user.is_vendor||"Dispatched"!=t.form.report?t._e():e("v-flex",{staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{sm3:""}},[e("label",{attrs:{for:""}},[t._v("Rider")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Rider",clearable:"",filterable:""},model:{value:t.form.rider_id,callback:function(e){t.$set(t.form,"rider_id",e)},expression:"form.rider_id"}},t._l(t.riders,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),t.user.is_vendor||"Agents"!=t.form.report?t._e():e("v-flex",{attrs:{sm2:""}},[e("label",{attrs:{for:""}},[t._v("Agent")]),t._v(" "),e("el-select",{attrs:{placeholder:"User",clearable:"",filterable:""},model:{value:t.form.user_name,callback:function(e){t.$set(t.form,"user_name",e)},expression:"form.user_name"}},t._l(t.users.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1)],1),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{sm2:""}},[e("label",{attrs:{for:""}},[t._v("Product")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",multiple:"",placeholder:"type at least 3 characters","remote-method":t.getProduct,loading:t.loading,"value-key":"id",clearable:""},model:{value:t.form.product,callback:function(e){t.$set(t.form,"product",e)},expression:"form.product"}},t._l(t.products.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.product_name,value:t.id}})})),1),t._v(" "),t.errors.product?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.product[0]))]):t._e()],1),t._v(" "),"Status"==t.form.report?e("v-flex",{attrs:{sm2:""}},[e("label",[t._v("Status")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"Select",multiple:""},model:{value:t.form.delivery_status,callback:function(e){t.$set(t.form,"delivery_status",e)},expression:"form.delivery_status"}},t._l(t.statuses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.status,value:t.status}})})),1)],1):t._e(),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm3:""}},[e("div",{staticClass:"block"},[e("label",{staticStyle:{float:"left"}},[t._v("Date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","start-placeholder":"Start Date","end-placeholder":"End Date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:t.form.created_at,callback:function(e){t.$set(t.form,"created_at",e)},expression:"form.created_at"}})],1),t._v(" "),t.errors.start_date?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.start_date[0]))]):t._e()]),t._v(" "),"Delivered"==t.form.report?e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm3:""}},[e("div",{staticClass:"block"},[e("label",{staticStyle:{float:"left"}},[t._v("Delivery Date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","start-placeholder":"Start Date","end-placeholder":"End Date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:t.form.delivered_on,callback:function(e){t.$set(t.form,"delivered_on",e)},expression:"form.delivered_on"}})],1)]):t._e(),t._v(" "),"Dispatched"==t.form.report?e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm3:""}},[e("div",{staticClass:"block"},[e("label",{staticStyle:{float:"left"}},[t._v("Dispatch date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","start-placeholder":"Start Date","end-placeholder":"End Date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:t.form.dispatched_on,callback:function(e){t.$set(t.form,"dispatched_on",e)},expression:"form.dispatched_on"}})],1)]):t._e(),t._v(" "),"Returned"==t.form.report?e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm3:""}},[e("div",{staticClass:"block"},[e("label",{staticStyle:{float:"left"}},[t._v("Return Date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","start-placeholder":"Start Date","end-placeholder":"End Date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:t.form.returned_on,callback:function(e){t.$set(t.form,"returned_on",e)},expression:"form.returned_on"}})],1)]):t._e(),t._v(" "),"awaiting_returned"==t.form.report?e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm3:""}},[e("div",{staticClass:"block"},[e("label",{staticStyle:{float:"left"}},[t._v("Awaiting Return Date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","start-placeholder":"Start Date","end-placeholder":"End Date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:t.form.return_date,callback:function(e){t.$set(t.form,"return_date",e)},expression:"form.return_date"}})],1)]):t._e(),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm3:""}},[e("div",{staticClass:"block"},[e("label",{staticStyle:{float:"left"}},[t._v("Status Date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"right","start-placeholder":"Start Date","end-placeholder":"End Date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:t.form.status_date,callback:function(e){t.$set(t.form,"status_date",e)},expression:"form.status_date"}})],1)]),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm2:""}},[e("v-btn-toggle",{staticStyle:{"margin-top":"22px"},attrs:{dense:"","background-color":"primary",dark:""}},[e("v-btn",{on:{click:t.get_report}},[e("v-icon",[t._v("mdi-magnify")])],1),t._v(" "),t.report_show?e("v-btn",["Status"==t.form.report?e("download-excel",{attrs:{data:t.sales.sales.data,fields:t.merchant_json,name:t.today+t.form.report+" report.xls"}},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},slot:"activator"},a),[e("v-icon",[t._v("mdi-file-excel")])],1)]}}],null,!1,337623251)},[t._v(" "),e("span",[t._v("Download report")])])],1):"awaiting_returned"==t.form.report?e("download-excel",{attrs:{data:t.sales.sales.data,fields:t.awaiting_json,name:t.today+t.form.report+" report.xls"}},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},slot:"activator"},a),[e("v-icon",[t._v("mdi-file-excel")])],1)]}}],null,!1,337623251)},[t._v(" "),e("span",[t._v("Download report")])])],1):e("download-excel",{attrs:{data:t.sales.sales.data,fields:"Dispatched"==t.form.report?t.json_fields:t.remittance_json,name:t.today+t.form.report+" report.xls"}},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},slot:"activator"},a),[e("v-icon",[t._v("mdi-file-excel")])],1)]}}],null,!1,337623251)},[t._v(" "),e("span",[t._v("Download report")])])],1)],1):t._e(),t._v(" "),t.report_show?e("v-btn",[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.report_form},slot:"activator"},a),[e("v-icon",[t._v("mdi-file-excel")])],1)]}}],null,!1,3337217265)},[t._v(" "),e("span",[t._v("Download report")])])],1):t._e()],1)],1)],1)],1),t._v(" "),e("v-spacer")],1),t._v(" "),e("v-chip-group",{attrs:{mandatory:""}},[t.sales.sales?e("v-chip",[t._v("\n                    Total "+t._s(t.sales.sales.total)+"\n                ")]):t._e(),t._v(" "),t._l(t.stats_data,(function(r,a){return e("v-chip",{key:a,attrs:{color:"Delivered"==a?"success":"primary"}},[t._v("\n                    "+t._s(a)+" "+t._s(r)+"\n                ")])}))],2),t._v(" "),t.sales.sales?e("v-flex",{staticStyle:{"margin-top":"30px"},attrs:{sm12:""}},[t.sales.sales.last_page>1?e("v-pagination",{attrs:{length:t.sales.sales.last_page,"total-visible":"5",circle:""},on:{input:function(e){return t.next_page(t.sales.sales.path,t.sales.sales.current_page)}},model:{value:t.sales.sales.current_page,callback:function(e){t.$set(t.sales.sales,"current_page",e)},expression:"sales.sales.current_page"}}):t._e()],1):t._e(),t._v(" "),t.report_show?e("Tableview",{attrs:{headers:t.headers,report:"Report"}}):t._e()],1)],1),t._v(" "),e("form",{ref:"report_form",attrs:{action:"/report_download",method:"post",target:"_blank"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"packages"},domProps:{value:t.serialize_data}})]),t._v(" "),e("form",{ref:"form",attrs:{action:"/package_download",method:"post",target:"_blank"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"packages"},domProps:{value:t.serialize_data}})]),t._v(" "),e("form",{ref:"picking_form",attrs:{action:"/picking_list",method:"post",target:"_blank"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"packages"},domProps:{value:t.serialize_pick}})]),t._v(" "),e("form",{ref:"dispatch_form",attrs:{action:"/export_dispatch",method:"post",target:"_blank"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"packages"},domProps:{value:t.serialize_data}})]),t._v(" "),e("form",{ref:"ex_download",attrs:{action:"/ex_download",method:"post",target:"_blank"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"packages"},domProps:{value:t.serialize_data}})])])}),[],!1,null,null,null);e.default=v.exports},1148:function(t,e,r){"use strict";r.r(e);var a=r(512),o=r(2);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={components:{Tableview:a.a},data:function(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),kanban:!1,toggle_exclusive:2,form:{},report_show:!1,reports:[{report:"Delivered"},{report:"Returned"},{report:"Dispatched"},{report:"Status"},{report:"Product"},{report:"Custom"}],form_data:null,headers:[]}},created:function(){},methods:{remit_charges:function(){this.$refs.remit_form.submit()},get_report:function(){var t=this;this.form.report="Remittance";var e={model:"remit",update:"updateSaleList",data:this.form};this.$store.dispatch("filterItems",e).then((function(e){t.getRemit(),t.headers=e.data.table_columns,t.report_show=!0}))},get_custom_report:function(t){if("Custom"==t){this.$store.dispatch("getItems",{model:"custom_reports",update:"updateCustomReport"})}},getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},downloadPackage:function(){eventBus.$emit("downloadEvent")},picking_list:function(){this.$refs.picking_form.submit()},export_dispatch:function(){this.$refs.dispatch_form.submit()},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})},ResetItem:function(){this.$store.dispatch("resetItems",{update:"updateSaleList"})},getRemit:function(){var t=0,e=0;this.sales.sales&&this.sales.sales.forEach((function(r){t+=parseInt(r.total_price),e+=parseInt(r.shipping_charges)})),this.form.remit={amount:t,charge:e},this.serialize_data()},serialize_data:function(){var t={start_date:this.form.start_date,end_date:this.form.end_date,client:this.form.client,remit:this.form.remit};this.form_data=JSON.stringify(t)}},mounted:function(){this.getSellers(),this.getStatus()},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["sellers","statuses","sales","custom_report","loading","errors"]))},c=r(0),u=Object(c.a)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",[e("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[e("v-progress-linear",{attrs:{active:t.loading,indeterminate:"",rounded:"",height:"3"}}),t._v(" "),e("v-card",{staticStyle:{width:"100%",padding:"30px 0 40px 20px"}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticStyle:{"margin-left":"10px","margin-bottom":"20px"},attrs:{sm2:""}},[e("label",{attrs:{for:""}},[t._v("Client")]),t._v(" "),e("el-select",{attrs:{placeholder:"Client",clearable:"",filterable:""},model:{value:t.form.client,callback:function(e){t.$set(t.form,"client",e)},expression:"form.client"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm2:""}},[e("div",{staticClass:"block"},[e("label",{staticStyle:{float:"left"}},[t._v("Start date")]),t._v(" "),e("el-date-picker",{attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1),t._v(" "),t.errors.start_date?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.start_date[0]))]):t._e()]),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm2:""}},[e("div",{staticClass:"block"},[e("label",{staticStyle:{float:"left"}},[t._v("End date")]),t._v(" "),e("el-date-picker",{attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1),t._v(" "),t.errors.end_date?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.end_date[0]))]):t._e()]),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm2:""}},[e("v-btn-toggle",{staticStyle:{"margin-top":"22px"},attrs:{dense:"",dark:""}},[e("v-btn",{on:{click:t.get_report}},[e("v-icon",[t._v("mdi-magnify")])],1),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.remit_charges},slot:"activator"},a),[e("v-icon",{attrs:{color:"white"}},[t._v("mdi-check-circle-outline")])],1)]}}])},[t._v(" "),e("span",[t._v("Remit. We will send you an email of the report")])])],1)],1)],1),t._v(" "),e("v-spacer")],1),t._v(" "),t.report_show?e("Tableview",{attrs:{headers:t.headers,form:t.form,report:"Remitance"}}):t._e()],1)],1),t._v(" "),e("form",{ref:"remit_form",attrs:{action:"/remittance_download",method:"post",target:"_blank"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"packages"},domProps:{value:t.form_data}})])])}),[],!1,null,null,null);e.default=u.exports},512:function(t,e,r){"use strict";var a=r(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={props:["headers","form","report"],data:function(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),search:""}},created:function(){var t=this;eventBus.$on("downloadEvent",(function(e){t.downloadPackage()})),eventBus.$on("defaultHeaderEvent",(function(t){}))},methods:{downloadPackage:function(){this.$refs.form.submit()}},computed:i(i({},Object(a.b)(["sales","loading"])),{},{remmit:function(){var t=0,e=0;return"Remitance"===this.report&&this.sales.sales.forEach((function(r){t+=parseInt(r.total_price),e+=parseInt(r.shipping_charges)})),{amount:t,charge:e}}})},c=r(0),u=Object(c.a)(s,(function(){var t=this,e=t._self._c;return e("v-card",{staticStyle:{width:"100%",padding:"0 20px"}},[e("v-card-title",[t._v("\n        Report\n        "),e("v-spacer"),t._v(" "),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),"Remitance"===t.report?e("v-chip-group",{attrs:{mandatory:""}},[e("v-chip",{attrs:{color:"primary"}},[t._v("\n            Total COD: "+t._s(t.remmit.amount)+"\n        ")]),t._v(" "),e("v-chip",{attrs:{color:"error"}},[t._v("\n            Total Charges: "+t._s(t.remmit.charge)+"\n        ")]),t._v(" "),e("v-chip",{attrs:{color:"success"}},[t._v("\n            Total Remmit: "+t._s(t.remmit.amount-t.remmit.charge)+"\n        ")])],1):t._e(),t._v(" "),e("v-data-table",{attrs:{headers:t.headers,items:"Remitance"===t.report?t.sales.sales:t.sales.sales.data,search:t.search,loading:t.loading}})],1)}),[],!1,null,null,null);e.a=u.exports},649:function(t,e,r){var a=r(841);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(4)(a,o);a.locals&&(t.exports=a.locals)},840:function(t,e,r){"use strict";r(649)},841:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".el-input--prefix .el-input__inner[data-v-0b7d7581]{border-radius:50px!important}.v-toolbar__content[data-v-0b7d7581],.v-toolbar__extension[data-v-0b7d7581]{height:auto!important}.v-avatar[data-v-0b7d7581]{height:10px!important;width:10px!important;margin-left:40%!important}",""])}}]);