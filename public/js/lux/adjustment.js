(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1140:function(t,e,o){"use strict";o.r(e);var r=o(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function n(t,e,o){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i={name:"adjustment",components:{},data:function(){return n(n({color:"#f0f0f0",hasvariant:"no_variant",loading:!1,dialog:!1,form:{products_arr:[],shipping_charges:0,adjustment:0}},"dialog",!1),"product_item",[])},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(r.b)(["warehouses","statuses","sellers","products"])),methods:{goToSales:function(){this.$router.push({name:"sales"})},update:function(){this.form.sub_total=this.sub_total,this.form.total=this.total;var t={data:this.form,model:"sales"};this.$store.dispatch("postItems",t).then((function(t){}))},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})},getProduct:function(t){if(t.length>2){var e={model:"product_search",update:"updateProductsList",search:t};this.$store.dispatch("searchItems",e)}},openDialog:function(){this.dialog=!0},add_another:function(t){var e=this;if(Object.keys(this.product_item).length<1)this.$message({type:"error",message:"Please select an item"});else{var o=!1;if(this.form.products_arr.forEach((function(t){e.product_item.id==t.id&&(o=!0)})),o)this.$message({type:"error",message:"Item already exists in the list"});else{for(var r=0;r<this.product_item.warehouses.length;r++){var a=this.product_item.warehouses[r];console.log(a.pivot.onhand,this.form.warehouse_id,a.id),this.form.warehouse_id==a.id&&(this.product_item.onhand=a.pivot.onhand)}this.form.products_arr.push(this.product_item),this.product_item={},"close"==t&&this.close()}}},remove:function(t){this.form.products_arr.splice(t,1)},close:function(){this.dialog=!1},getWarehouses:function(){this.$store.dispatch("getItems",{model:"/warehouses",update:"updateWarehouseList"})}},created:function(){},mounted:function(){this.getSellers(),this.getWarehouses()}},l=(o(804),o(0)),c=Object(l.a)(i,(function(){var t=this,e=t._self._c;return e("div",[e("div",[e("v-layout",{attrs:{"justify-center":"",wrap:"","align-center":""}},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{staticStyle:{margin:"0 10px"},attrs:{xs12:"",sm7:""}},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{attrs:{xs12:"",sm12:""}},[e("v-hover",{staticStyle:{padding:"20px 20px 20px 0"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.hover;return e("v-card",{staticClass:"mx-auto",class:"elevation-".concat(r?12:2),attrs:{width:"100%"}},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{staticStyle:{padding:"7px 0"},attrs:{xs12:"",sm11:"","offset-sm1":""}},[e("h4",[t._v("New Adjustment")])]),t._v(" "),e("v-divider"),t._v(" "),e("v-flex",{staticStyle:{padding:"7px 0"},attrs:{xs12:"",sm5:"","offset-sm1":""}},[e("label",{staticStyle:{color:"#52627d"},attrs:{for:""}},[t._v("Reference Number")]),t._v(" "),e("el-input",{attrs:{placeholder:"John doe"},model:{value:t.form.reference_no,callback:function(e){t.$set(t.form,"reference_no",e)},expression:"form.reference_no"}})],1),t._v(" "),e("v-flex",{staticStyle:{padding:"7px 0"},attrs:{xs4:"",sm5:"","offset-sm1":""}},[e("label",{staticStyle:{color:"#52627d"},attrs:{for:""}},[t._v("Reason*")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"type at least 3 characters","remote-method":t.getSellers,loading:t.loading},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{staticStyle:{padding:"7px 0"},attrs:{xs4:"",sm5:"","offset-sm1":""}},[e("label",{attrs:{for:""}},[t._v("Warehouse*")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"Warehouse"},model:{value:t.form.warehouse_id,callback:function(e){t.$set(t.form,"warehouse_id",e)},expression:"form.warehouse_id"}},t._l(t.warehouses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm11:"","offset-sm1":""}},[e("label",{attrs:{for:""}},[t._v("Comment*")]),t._v(" "),e("el-input",{attrs:{type:"textarea",placeholder:"Please input",maxlength:"200","show-word-limit":""},model:{value:t.form.customer_notes,callback:function(e){t.$set(t.form,"customer_notes",e)},expression:"form.customer_notes"}})],1)],1)],1)}}])})],1)],1)],1),t._v(" "),e("v-flex",{attrs:{xs12:"",sm3:"","offset-sm1":""}},[e("v-card",{attrs:{color:t.color}},[e("v-card-title",[t._v("\n                            Heads up!\n                        ")]),t._v(" "),e("v-card-text",[e("p",[t._v("Tell us about your product. The unique barcode will help us scan and identify the product.")]),t._v(" "),e("br"),t._v(" "),e("p",[t._v("Once you set the re-order point, we will notify you when the on-hand level matches the re-order point, so you can send us more inventory!")])])],1)],1)],1),t._v(" "),e("div",{staticStyle:{margin:"50px 0 0 0"}}),t._v(" "),t.form.warehouse_id?e("v-hover",{staticStyle:{padding:"20px 20px 20px 0",margin:"0 10px"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.hover;return e("v-card",{staticClass:"mx-auto",class:"elevation-".concat(r?12:2),attrs:{width:"100%"}},[e("h4",{staticStyle:{"text-align":"center"}},[t._v(" Product Details")]),t._v(" "),e("v-layout",{attrs:{wrap:""}},[e("v-flex",{staticStyle:{"margin-left":"75px"},attrs:{xs12:"",sm11:""}},[e("table",{staticClass:"table table-hover table-striped table-bordered"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Item Details")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Available Quantity")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("New Available Quantity")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Quantity adjustment")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Action")])])]),t._v(" "),e("tbody",t._l(t.form.products_arr,(function(o,r){return e("tr",{key:r},[e("th",{attrs:{scope:"row"}},[t._v(t._s(r+1))]),t._v(" "),e("td",[t._v("\n                                            "+t._s(o.product_name)+"\n                                        ")]),t._v(" "),e("td",[e("el-input",{model:{value:o.onhand,callback:function(e){t.$set(o,"onhand",e)},expression:"product.onhand"}})],1),t._v(" "),e("td",[e("el-input",{model:{value:o.new_onhand,callback:function(e){t.$set(o,"new_onhand",e)},expression:"product.new_onhand"}})],1),t._v(" "),e("td",[t._v("\n                                            "+t._s(parseInt(o.new_onhand)-parseInt(o.onhand))+"\n\n                                            ")]),t._v(" "),e("td",[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(o){var a=o.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.remove(r)}},slot:"activator"},a),[e("v-icon",{attrs:{color:"pink darken-2",small:""}},[t._v("mdi-delete")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Remove")])])],1)])})),0)]),t._v(" "),e("v-btn",{staticStyle:{"text-transform":"none"},attrs:{small:"",color:"primary",rounded:""},on:{click:t.openDialog}},[e("v-icon",[t._v("mdi-plus")]),t._v(" "),e("span",[t._v("Add another")])],1)],1),t._v(" "),e("v-flex",{staticStyle:{margin:"30px 0 0 75px"},attrs:{xs12:"",sm6:""}},[e("label",{attrs:{for:""}},[t._v("Comment")]),t._v(" "),e("el-input",{attrs:{type:"textarea",placeholder:"Please input",maxlength:"200","show-word-limit":""},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1)],1)],1)}}],null,!1,2531644798)}):t._e(),t._v(" "),e("v-footer",{staticStyle:{background:"#e2e0e0 !important"},attrs:{app:""}},[e("v-spacer"),t._v(" "),e("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"primary",rounded:""},on:{click:t.update}},[e("v-icon",[t._v("mdi-update")]),t._v(" "),e("span",[t._v("Update")])],1),t._v(" "),e("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"primary",rounded:""},on:{click:t.goToSales}},[e("v-icon",[t._v("mdi-close-circle")]),t._v(" "),e("span",[t._v("Close")])],1)],1)],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"Items",visible:t.dialog,width:"30%","before-close":t.close},on:{"update:visible":function(e){t.dialog=e}}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"type at least 3 characters","remote-method":t.getProduct,loading:t.loading},model:{value:t.product_item,callback:function(e){t.product_item=e},expression:"product_item"}},t._l(t.products.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.product_name,"value-key":t.id,value:t}})})),1),t._v(" "),Object.keys(this.product_item).length>0?e("div",[e("label",{staticStyle:{color:"#52627d"},attrs:{for:""}},[t._v("Quantity")]),t._v(" "),e("el-input",{attrs:{placeholder:"1"},model:{value:t.product_item.quantity,callback:function(e){t.$set(t.product_item,"quantity",e)},expression:"product_item.quantity"}})],1):t._e(),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_another("continue")}}},[t._v("Save & continue adding")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_another("close")}}},[t._v("Save & close")])],1)],1)],1)}),[],!1,null,"50fc1552",null);e.default=c.exports},632:function(t,e,o){var r=o(805);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o(4)(r,a);r.locals&&(t.exports=r.locals)},804:function(t,e,o){"use strict";o(632)},805:function(t,e,o){(t.exports=o(3)(!1)).push([t.i,'.icon-image[data-v-1bd51565][data-v-50fc1552]:before{content:"\\E920";font-size:100px}.image-flex-wrapper[data-v-1bd51565][data-v-50fc1552]{position:relative;margin-right:1em;text-align:center;display:flex;flex-direction:column}.image-flex-wrapper .image-wrapper[data-v-1bd51565][data-v-50fc1552]{padding:.5em;border-radius:6px;box-shadow:0 0 10px 0 rgba(0,0,0,.25);border:none;height:10em;width:10em}.icon-image[data-v-1bd51565][data-v-50fc1552]{background-color:#f9fafb;font-size:5em;color:rgba(0,0,0,.21);height:100%;width:100%;display:flex;justify-content:center;align-items:center;border-radius:6px}[class*=" icon-"][data-v-50fc1552],[class^=icon-][data-v-50fc1552]{font-family:Speedball-App!important;font-family:icomoon!important;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}',""])}}]);