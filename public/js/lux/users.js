(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1094:function(e,t,r){"use strict";r.r(t);var o=r(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i={data:function(){return{dialog:!1,form:{},payload:{model:"users"}}},created:function(){var e=this;eventBus.$on("openCreateUser",(function(t){e.dialog=!0,e.getRole(),e.getCountries()}))},methods:{save:function(){this.payload.data=this.form,this.$store.dispatch("postItems",this.payload).then((function(e){eventBus.$emit("userEvent")}))},close:function(){this.dialog=!1},getRole:function(){this.$store.dispatch("getItems",{model:"roles",update:"updateRoleList"})},getCountries:function(){this.$store.dispatch("getItems",{model:"ous",update:"updateOu"})}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(o.b)(["roles","ous","loading","errors"]))},l=r(0),c=Object(l.a)(i,(function(){var e=this,t=e._self._c;return t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[e._v("Create User")])]),e._v(" "),t("v-divider"),e._v(" "),t("v-card-text",[t("div",[t("label",{attrs:{for:""}},[e._v("Full Name")]),e._v(" "),t("el-input",{attrs:{placeholder:"John Doe"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),e.errors.name?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.name[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Email Address")]),e._v(" "),t("el-input",{attrs:{placeholder:"john@gmail.com"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),e.errors.email?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.email[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Phone Number")]),e._v(" "),t("el-input",{attrs:{placeholder:"+1..."},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),e._v(" "),e.errors.phone?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.phone[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Address")]),e._v(" "),t("el-input",{attrs:{placeholder:"main st"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),e._v(" "),e.errors.address?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.address[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Ou")]),e._v(" "),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select"},model:{value:e.form.ou_id,callback:function(t){e.$set(e.form,"ou_id",t)},expression:"form.ou_id"}},e._l(e.ous,(function(e){return t("el-option",{key:e.id,attrs:{label:e.ou,value:e.id}})})),1),e._v(" "),e.errors.ou_id?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.ou_id[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Role")]),e._v(" "),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",clearable:"",filterable:""},model:{value:e.form.role_id,callback:function(t){e.$set(e.form,"role_id",t)},expression:"form.role_id"}},e._l(e.roles,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v(" "),e.errors.role_id?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.role_id[0]))]):e._e()],1)]),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Close")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports;function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={data:function(){return{dialog:!1,form:{},payload:{model:"users"},gender:[{value:"Male",lable:"Male"},{value:"Female",lable:"Female"}]}},created:function(){var e=this;eventBus.$on("openEditUser",(function(t){e.form=t,e.dialog=!0,e.getRole(),e.getCountries()}))},methods:{save:function(){var e={data:this.form,id:this.form.id,model:"users"};this.$store.dispatch("patchItems",e).then((function(e){eventBus.$emit("userEvent")}))},close:function(){this.dialog=!1},getCountries:function(){this.$store.dispatch("getItems",{model:"ous",update:"updateOu"})},getRole:function(){this.$store.dispatch("getItems",{model:"roles",update:"updateRoleList"})}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(o.b)(["ous","roles","errors","loading"]))},m=Object(l.a)(p,(function(){var e=this,t=e._self._c;return t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[e._v("Edit User")])]),e._v(" "),t("v-divider"),e._v(" "),t("v-card-text",[t("div",[t("label",{attrs:{for:""}},[e._v("Full Name")]),e._v(" "),t("el-input",{attrs:{placeholder:"John Doe"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),e.errors.name?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.name[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Email Address")]),e._v(" "),t("el-input",{attrs:{placeholder:"john@gmail.com"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),e.errors.email?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.email[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Phone Number")]),e._v(" "),t("el-input",{attrs:{placeholder:"+1..."},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),e._v(" "),e.errors.phone?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.phone[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Address")]),e._v(" "),t("el-input",{attrs:{placeholder:"main st"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),e._v(" "),e.errors.address?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.address[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Agent SIP")]),e._v(" "),t("el-input",{attrs:{placeholder:"Box..."},model:{value:e.form.agent_sip,callback:function(t){e.$set(e.form,"agent_sip",t)},expression:"form.agent_sip"}}),e._v(" "),e.errors.agent_sip?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.agent_sip[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Ou")]),e._v(" "),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select"},model:{value:e.form.ou_id,callback:function(t){e.$set(e.form,"ou_id",t)},expression:"form.ou_id"}},e._l(e.ous,(function(e){return t("el-option",{key:e.id,attrs:{label:e.ou,value:e.id}})})),1),e._v(" "),e.errors.ou_id?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.ou_id[0]))]):e._e()],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Role")]),e._v(" "),t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",clearable:"",filterable:""},model:{value:e.form.role_id,callback:function(t){e.$set(e.form,"role_id",t)},expression:"form.role_id"}},e._l(e.roles,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v(" "),e.errors.role_id?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.role_id[0]))]):e._e()],1),e._v(" "),t("v-divider"),e._v(" "),t("h3",{staticClass:"text-center"},[e._v("Settings")]),e._v(" "),t("v-divider"),e._v(" "),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs6:"",sm4:""}},[t("v-checkbox",{attrs:{label:"Can Call"},model:{value:e.form.can_call,callback:function(t){e.$set(e.form,"can_call",t)},expression:"form.can_call"}})],1),e._v(" "),t("v-flex",{attrs:{xs6:"",sm4:""}},[t("v-checkbox",{attrs:{label:"Can Receive Calls"},model:{value:e.form.can_receive_calls,callback:function(t){e.$set(e.form,"can_receive_calls",t)},expression:"form.can_receive_calls"}})],1),e._v(" "),t("v-flex",{attrs:{xs6:"",sm4:""}},[t("v-checkbox",{attrs:{label:"Can Get Orders"},model:{value:e.form.can_receive_orders,callback:function(t){e.$set(e.form,"can_receive_orders",t)},expression:"form.can_receive_orders"}})],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Close")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,f={data:function(){return{dialog:!1,show:!1,loading:!1,form:{password:""},errors:{},rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"},emailMatch:function(){return"The email and password you entered don't match"}}}},created:function(){var e=this;eventBus.$on("openPasswordEvent",(function(t){e.dialog=!0,e.form.id=t}))},methods:{passwordChange:function(){var e=this,t={data:this.form,id:this.form.id,model:"change_password"};this.$store.dispatch("patchItems",t).then((function(t){e.form.password="",e.close()}))},close:function(){this.dialog=!1}}},b=Object(l.a)(f,(function(){var e=this,t=e._self._c;return t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[e._v("Change password")])]),e._v(" "),t("v-divider"),e._v(" "),t("v-card-text",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{sm12:""}},[t("v-card-text",[t("div",[t("v-text-field",{attrs:{"append-icon":e.show?"visibility":"visibility_off",type:e.show?"text":"password",name:"input-10-1",label:"New password",counter:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),e.errors.password?t("small",{staticClass:"has-text-danger"},[e._v(e._s(e.errors.password[0]))]):e._e()])],1)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Close")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:e.passwordChange}},[e._v("Update")])],1)],1)],1)],1)}),[],!1,null,null,null).exports;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={data:function(){return{e1:!0,loader:!1,loading:!1,selected:[],dialog:!1,form:{}}},methods:{save:function(){var e=this;this.loading=!0,axios.post("/userpermisions/".concat(this.form.id),{selected:this.selected}).then((function(t){e.loading=!1,e.$emit("alertRequest"),e.close()})).catch((function(t){e.loading=!1,e.errors=t.response.data.errors}))},resetForm:function(){},close:function(){this.dialog=!1},getPermissions:function(){this.$store.dispatch("getItems",{model:"permissions/web",update:"updatePermissionList"})}},created:function(){var e=this;eventBus.$on("permEvent",(function(t){e.dialog=!0,e.selected=t.data,e.form.id=t.id,e.getPermissions()}))},computed:y(y({},Object(o.b)(["permissions"])),{},{sortPerm:function(){return _.orderBy(this.permissions,"name","asc")}}),mounted:function(){}},O=Object(l.a)(w,(function(){var e=this,t=e._self._c;return t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",{attrs:{fixed:""}},[t("span",{staticClass:"headline"},[e._v("Permissions")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{icon:"",dark:""},on:{click:e.close}},[t("v-icon",{attrs:{color:"black"}},[e._v("close")])],1)],1),e._v(" "),t("v-card-text",[t("v-layout",{attrs:{wrap:""}},e._l(e.sortPerm,(function(r){return t("v-flex",{key:r.id,attrs:{xs6:"",sm3:""}},[t("v-checkbox",{attrs:{label:r.name,value:r.name},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)})),1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Close")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{disabled:e.loading,text:"",color:"primary",loading:e.loading},on:{click:e.save}},[e._v("Submit")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,k={props:["user","form"],data:function(){return{headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},filePlaced:!1,dialog:!1,loading:!1,users_upload:{}}},methods:{close:function(){this.dialog=!1},previewFiles:function(){},handleSuccess:function(e,t){this.$store.dispatch("page_loader",!1),eventBus.$emit("userResponseEvent",e),this.users_upload=e},handleError:function(e,t){this.$store.dispatch("page_loader",!1),this.$message.error("Error!")},beforeUpload:function(e){this.$store.dispatch("page_loader",!0),console.log(e);e.type},upload:function(){this.$refs.upload.submit()}},created:function(){var e=this;eventBus.$on("fileUploadEvent",(function(t){e.upload()}))}},S=Object(l.a)(k,(function(){var e=this,t=e._self._c;return t("v-card",{staticStyle:{"overflow-x":"hidden"}},[t("v-card-title",[e._v("\n        Upload Excel Shipments\n    ")]),e._v(" "),t("v-container",{attrs:{"grid-list-md":""}},[t("v-card-text",[t("v-layout",{attrs:{wrap:""}},[t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"/get_users","auto-upload":!1,data:e.form,headers:e.headers,"on-success":e.handleSuccess,"on-error":e.handleError,"before-upload":e.beforeUpload}},[t("i",{staticClass:"el-icon-upload"}),e._v(" "),t("div",{staticClass:"el-upload__text"},[e._v("\n                        Drop file here or "),t("em",[e._v("click to upload")])]),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n                        xlsx/csv files with a size less than 500kb\n                    ")])]),e._v(" "),t("v-tooltip",{staticStyle:{"margin-left":"30px"},attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,s=r.attrs;return[t("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",s,!1),o),[t("v-icon",{attrs:{color:"primary lighten-1"}},[e._v("\n                                mdi-download\n                            ")])],1)]}}])},[e._v(" "),t("span",[e._v("Download Template")])]),e._v(" "),t("v-spacer")],1)],1)],1)],1)}),[],!1,null,null,null).exports;function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=j(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E={props:["users","e1"],data:function(){return{search:"",valid:!1,invalid_row:[],headers:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Phone",value:"phone"},{text:"Address",value:"address"},{text:"Actions",value:"actions"}]}},methods:{remove:function(e){var t=this.users.users.indexOf(e);this.users.users.splice(t,1)}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(o.b)(["loading"]))},U=(r(747),Object(l.a)(E,(function(){var e=this,t=e._self._c;return t("v-card",[t("v-card-title",{attrs:{"primary-title":""}}),e._v(" "),2==e.e1?t("v-card-text",[t("el-collapse",{attrs:{accordion:""}},[e.users.exist_users.length>0?t("el-collapse-item",{attrs:{name:"1"}},[t("template",{staticStyle:{color:"red"},slot:"title"},[t("span",[t("b",{staticStyle:{color:"red"}},[e._v(e._s(e.users.exist_users.length)+" Users Exists")]),t("i",{staticClass:"header-icon el-icon-info"})])]),e._v(" "),t("div",[t("v-list",{attrs:{dense:"","two-line":""}},[t("v-list-item-group",{attrs:{color:"primary"}},e._l(e.users.exist_users,(function(r,o){return t("v-list-item",{key:o},[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(r.user_no)+" ")])],1)],1)})),1)],1)],1)],2):e._e()],1),e._v(" "),t("v-data-table",{attrs:{headers:e.headers,items:e.users.users,search:e.search,loading:e.loading},scopedSlots:e._u([{key:"item.actions",fn:function(r){var o=r.item;return[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.remove(o)}},slot:"activator"},s),[t("v-icon",{attrs:{small:"",color:"pink darken-2"}},[e._v("mdi-delete")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Remove")])])]}}],null,!1,2071260215)})],1):e._e()],1)}),[],!1,null,"f000f3aa",null).exports);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=D(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I={props:["users"],data:function(){return{expanded:[],singleExpand:!1,headers:[{text:"User id",value:"user_id"},{text:"Quantity",value:"Users.quantity"},{text:"User name",value:"user_name"},{text:"Address",value:"address"},{text:"Phone",value:"phone"},{text:"Special instructions",value:"special_instructions"},{text:"Total price",value:"total_amount"},{text:"Actions",value:"actions"}]}},methods:{getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},remove:function(e){var t=this.users.users.indexOf(e);this.users.users.splice(t,1)}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(o.b)(["statuses"])),mounted:function(){this.getStatus()}},N={name:"excel",props:["user"],components:{myFileUpload:S,myDisplayUsers:U,myMapping:Object(l.a)(I,(function(){var e=this,t=e._self._c;return t("div",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users.Users,"single-expand":e.singleExpand,expanded:e.expanded,"item-key":"id","show-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[t("v-toolbar",{attrs:{flat:""}},[t("v-toolbar-title",[e._v("Expandable Table")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-switch",{staticClass:"mt-2",attrs:{label:"Single expand"},model:{value:e.singleExpand,callback:function(t){e.singleExpand=t},expression:"singleExpand"}})],1)]},proxy:!0},{key:"expanded-item",fn:function(r){var o=r.item;return[t("table",{staticClass:"table table-responsive table-hover",staticStyle:{width:"400px"}},[t("tbody",e._l(e.users.Users,(function(r,s){return r.user_id==o.user_id?t("tr",{key:s},[t("td",{attrs:{colspan:"1"}},[t("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:r.user_name,callback:function(t){e.$set(r,"user_name",t)},expression:"user.user_name"}},e._l(e.users.data,(function(e,r){return t("el-option",{key:r,attrs:{label:e.user_name,value:e.user_name}})})),1)],1),e._v(" "),t("td",{attrs:{colspan:"1"}},[t("el-input-number",{attrs:{min:1},model:{value:r.quantity,callback:function(t){e.$set(r,"quantity",t)},expression:"user.quantity"}})],1)]):e._e()})),0)])]}}])})],1)}),[],!1,null,null,null).exports},data:function(){return{dialog:!1,loading:!1,e1:1,form:{vendor_id:"",warehouse_id:"",platform:"Excel"},users:[],upload_type:"1",options:"Users with single users"}},methods:{goToStep2:function(){this.form.platform="Excel",this.loading=!0,eventBus.$emit("fileUploadEvent")},importUsers:function(){this.form.users=this.users.users;var e={data:this.form,model:"usersUpload"};this.$store.dispatch("postItems",e).then((function(e){eventBus.$emit("MenuEvent")}))},close:function(){this.dialog=!1}},created:function(){var e=this;eventBus.$on("openExcelUploadEvent",(function(t){e.dialog=!0})),eventBus.$on("userResponseEvent",(function(t){e.users=t,e.loading=!1,e.e1=2}))},computed:{}};function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function F(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=A(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q={props:["user"],components:{Create:c,Edit:m,PermUser:O,myPassword:b,myUpload:Object(l.a)(N,(function(){var e=this,t=e._self._c;return t("v-dialog",{attrs:{persistent:"",width:"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[t("v-stepper-header",[t("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Upload Details")]),e._v(" "),t("v-divider"),e._v(" "),t("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("Upload users")])],1),e._v(" "),t("v-stepper-items",[t("v-stepper-content",{attrs:{step:"1"}},[t("myFileUpload",{attrs:{form:e.form,user:e.user}}),e._v(" "),t("v-btn",{staticStyle:{"text-transform":"none",color:"#fff"},attrs:{color:"red",rounded:""},on:{click:e.goToStep2}},[t("v-icon",[e._v("mdi-chevron-right")]),e._v(" "),t("span",[e._v("Next")])],1),e._v(" "),t("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")])],1),e._v(" "),t("v-stepper-content",{attrs:{step:"2"}},[t("myDisplayUsers",{attrs:{users:e.users,e1:e.e1}}),e._v(" "),t("v-btn",{staticStyle:{"text-transform":"none",color:"#fff"},attrs:{color:"red",rounded:""},on:{click:e.importUsers}},[t("v-icon",[e._v("mdi-import")]),e._v(" "),t("span",[e._v("Import")])],1),e._v(" "),t("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=1}}},[e._v("Back")]),e._v(" "),t("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Close")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{form:{},loader:!1,search:"",users_det:{data:[]},users_search:[],temp:"",checkedRows:[],headers:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Phone No.",value:"phone"},{text:"Status.",value:"active"},{text:"Created On",value:"created_at"},{text:"Actions",value:"actions",sortable:!1}]}},methods:{break_update:function(e,t){var r=this;this.form={on_break:t};var o={data:this.form,id:e,model:"/on_break"};this.$store.dispatch("patchItems",o).then((function(e){r.getUsers()}))},userActive:function(e,t){var r=this,o={data:{status:t},id:e,model:"/user-active"};this.$store.dispatch("patchItems",o).then((function(e){r.getUsers()}))},openCreate:function(){eventBus.$emit("openCreateUser")},openUpload:function(){eventBus.$emit("openExcelUploadEvent")},openEdit:function(e){eventBus.$emit("openEditUser",e)},openPerm:function(e){console.log(e);var t={model:"getUserPerm",update:"updateUserPermission",id:e};this.$store.dispatch("showItem",t).then((function(t){eventBus.$emit("permEvent",{data:t.data,id:e})}))},openPassword:function(e){eventBus.$emit("openPasswordEvent",e)},confirm_delete:function(e){var t=this;this.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.deleteItem(e)})).catch((function(){t.$message({type:"error",message:"Delete canceled"})}))},deleteItem:function(e){var t=this;this.$store.dispatch("deleteItem","users/"+e.id).then((function(e){t.$message({type:"success",message:"Delete completed"}),t.getUsers()}))},openShow:function(e){eventBus.$emit("openShowUser",e)},getUsers:function(){this.$store.dispatch("getItems",{model:"users",update:"updateUsersList"})},updateSelected:function(e){var t=this;this.checkedRows.length<1?eventBus.$emit("errorEvent","Please select atleast one row"):this.$store.dispatch("updateSelected",{url:e,checked:this.checkedRows}).then((function(e){eventBus.$emit("alertRequest","Updated"),t.checkedRows=[],t.getUsers()}))},selectionChanged:function(e){this.checkedRows=e.selectedRows},next_page:function(e,t){var r={path:e,page:t,update:"updateUsersList"};this.$store.dispatch("nextPage",r)}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(o.b)(["users","loading","user_permissions","permissions"])),mounted:function(){eventBus.$emit("LoadingEvent"),this.getUsers()},created:function(){var e=this;eventBus.$on("userEvent",(function(t){e.getUsers()})),eventBus.$on("responseChooseEvent",(function(e){console.log(e),"Excel"==e?eventBus.$emit("openEditUser"):eventBus.$emit("openCreateUser")}))},beforeRouteEnter:function(e,t,r){r((function(e){e.user.can["User view"]?r():r("/")}))}},L=(r(749),Object(l.a)(q,(function(){var e=this,t=e._self._c;return t("div",[t("v-container",{attrs:{fluid:"","fill-height":""}},[t("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[t("v-flex",{attrs:{sm12:""}},[t("v-card",{staticStyle:{padding:"20px 0"}},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("Dashboard")]),e._v(" "),t("el-breadcrumb-item",[e._v("Users")])],1)],1)],1),e._v(" "),t("v-flex",{attrs:{sm12:""}}),e._v(" "),t("v-flex",{attrs:{sm12:""}},[t("v-card",{staticStyle:{padding:"10px 0"}},[t("v-layout",{attrs:{row:""}},[t("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm1:""}},[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:e.getUsers},slot:"activator"},o),[t("v-icon",{attrs:{color:"blue darken-2",small:""}},[e._v("mdi-refresh")])],1)]}}])},[e._v(" "),t("span",[e._v("Refresh")])])],1),e._v(" "),t("v-flex",{attrs:{sm2:""}},[t("h3",{staticStyle:{"margin-left":"30px !important","margin-top":"10px"}},[e._v("Users")])]),e._v(" "),e.user.can["User create"]?t("v-flex",{attrs:{"offset-sm8":"",sm3:""}},[t("v-btn",{attrs:{color:"info",text:""},on:{click:e.openCreate}},[e._v("New User")]),e._v(" "),t("v-btn",{attrs:{color:"info",text:""},on:{click:e.openUpload}},[e._v("Upload Users")])],1):e._e()],1)],1)],1),e._v(" "),t("v-flex",{attrs:{sm12:""}},[e.users.last_page>1?t("v-pagination",{attrs:{length:e.users.last_page,"total-visible":"5",circle:""},on:{input:function(t){return e.next_page(e.users.path,e.users.current_page)}},model:{value:e.users.current_page,callback:function(t){e.$set(e.users,"current_page",t)},expression:"users.current_page"}}):e._e()],1),e._v(" "),t("v-flex",{attrs:{sm12:""}},[t("v-card",[t("v-card-title",[t("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t("v-data-table",{attrs:{headers:e.headers,items:e.users.data,search:e.search},scopedSlots:e._u([{key:"item.active",fn:function(r){var o=r.item;return[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},slot:"activator"},s),[o.active?t("v-icon",{attrs:{small:"",color:"success"}},[e._v("mdi-check-circle")]):t("v-icon",{attrs:{small:"",color:"red"}},[e._v("mdi-cancel")])],1)]}}],null,!0)},[e._v(" "),t("span",{domProps:{textContent:e._s(o.active?"Active":"Inactive")}})])]}},{key:"item.actions",fn:function(r){var o=r.item;return[e.user.can["User edit"]?t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.openEdit(o)}},slot:"activator"},s),[t("v-icon",{attrs:{small:"",color:"blue darken-2"}},[e._v("mdi-pen")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Edit "+e._s(o.name))])]):e._e(),e._v(" "),e.user.can["User permissions"]?t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.openPerm(o.id)}},slot:"activator"},s),[t("v-icon",{attrs:{small:"",color:"orange darken-2"}},[e._v("mdi-dialpad")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Edit "+e._s(o.name)+"'s permisions")])]):e._e(),e._v(" "),e.user.can["User reset password"]?t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.openPassword(o.id)}},slot:"activator"},s),[t("v-icon",{attrs:{small:"",color:"blue darken-2"}},[e._v("mdi-lock")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Change "+e._s(o.name)+"'s' password")])]):e._e(),e._v(" "),"Super admin"==e.user.roles[0].name?t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:"",href:"/impersonate/take/".concat(o.id,"/web")},slot:"activator"},s),[t("v-icon",{attrs:{small:"",color:"blue darken-2"}},[e._v("mdi-account-arrow-left")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Impersonate "+e._s(o.name))])]):e._e(),e._v(" "),e.user.can["User delete"]?t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.confirm_delete(o)}},slot:"activator"},s),[t("v-icon",{attrs:{small:"",color:"pink darken-2"}},[e._v("mdi-delete")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Delete "+e._s(o.name))])]):e._e(),e._v(" "),o.active?t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.userActive(o.id,!1)}},slot:"activator"},s),[o.active?t("v-icon",{attrs:{small:"",color:"red"}},[e._v("mdi-account-multiple-remove-outline")]):e._e()],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Deactivate User")])]):t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.userActive(o.id,!0)}},slot:"activator"},s),[t("v-icon",{attrs:{small:"",color:"success"}},[e._v("mdi-account-multiple-check-outline")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Activate User")])]),e._v(" "),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.break_update(o.id,o.on_break)}},slot:"activator"},s),[o.on_break?t("v-icon",{attrs:{small:"",color:"primary"}},[e._v("mdi-phone-check")]):t("v-icon",{attrs:{small:"",color:"red"}},[e._v("mdi-phone-cancel")])],1)]}}],null,!0)},[e._v(" "),t("span",{domProps:{textContent:e._s(o.on_break?"Active":"On Break")}})])]}}])})],1)],1)],1)],1),e._v(" "),t("Create"),e._v(" "),t("Edit"),e._v(" "),t("myPassword"),e._v(" "),t("myUpload"),e._v(" "),t("PermUser")],1)}),[],!1,null,"563d4726",null));t.default=L.exports},604:function(e,t,r){var o=r(748);"string"==typeof o&&(o=[[e.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,s);o.locals&&(e.exports=o.locals)},605:function(e,t,r){var o=r(750);"string"==typeof o&&(o=[[e.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,s);o.locals&&(e.exports=o.locals)},747:function(e,t,r){"use strict";r(604)},748:function(e,t,r){(e.exports=r(3)(!1)).push([e.i,".el-collapse-item__header[data-v-f000f3aa]{color:red!important}",""])},749:function(e,t,r){"use strict";r(605)},750:function(e,t,r){(e.exports=r(3)(!1)).push([e.i,".el-input--prefix .el-input__inner[data-v-563d4726]{border-radius:50px!important}.v-toolbar__content[data-v-563d4726],.v-toolbar__extension[data-v-563d4726]{height:auto!important}.v-avatar[data-v-563d4726]{height:10px!important;width:10px!important;margin-left:40%!important}.v-main[data-v-563d4726],.v-main__wrap[data-v-563d4726]{padding:0!important}",""])}}]);