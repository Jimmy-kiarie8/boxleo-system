(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1115:function(e,t,r){"use strict";r.r(t);var n={data:function(){return{dialog:!1,form:{},errors:{},payload:{model:"currencies"}}},created:function(){var e=this;eventBus.$on("openCreateCurrency",(function(t){e.dialog=!0}))},methods:{save:function(){this.payload.data=this.form,this.$store.dispatch("postItems",this.payload).then((function(e){eventBus.$emit("CurrencyEvent")}))},close:function(){this.dialog=!1}},computed:{loading:function(){return this.$store.getters.loading}}},a=r(0),o={data:function(){return{dialog:!1,form:{}}},created:function(){var e=this;eventBus.$on("openEditCurrency",(function(t){e.form=t,e.dialog=!0}))},methods:{save:function(){var e={model:"currencies",data:this.form,id:this.form.id};this.$store.dispatch("patchItems",e).then((function(e){eventBus.$emit("CurrencyEvent")}))},close:function(){this.dialog=!1}},computed:{loading:function(){return this.$store.getters.loading}}},c={props:["user"],components:{Create:Object(a.a)(n,(function(){var e=this,t=e._self._c;return t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[e._v("Create Currency")])]),e._v(" "),t("v-divider"),e._v(" "),t("v-card-text",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{sm12:""}},[t("v-card-text",[t("div",[t("label",{attrs:{for:""}},[e._v("Currency")]),e._v(" "),t("el-input",{attrs:{placeholder:"USD"},model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}})],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Currency code")]),e._v(" "),t("el-input",{attrs:{placeholder:"KES"},model:{value:e.form.currency_code,callback:function(t){e.$set(e.form,"currency_code",t)},expression:"form.currency_code"}})],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Exchange Rate")]),e._v(" "),t("el-input",{attrs:{placeholder:"1.000"},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}})],1)])],1)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Close")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,Edit:Object(a.a)(o,(function(){var e=this,t=e._self._c;return t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[e._v("Create Currency")])]),e._v(" "),t("v-divider"),e._v(" "),t("v-card-text",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{sm12:""}},[t("v-card-text",[t("div",[t("label",{attrs:{for:""}},[e._v("Currency")]),e._v(" "),t("el-input",{attrs:{placeholder:"USD"},model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}})],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Currency code")]),e._v(" "),t("el-input",{attrs:{placeholder:"KES"},model:{value:e.form.currency_code,callback:function(t){e.$set(e.form,"currency_code",t)},expression:"form.currency_code"}})],1),e._v(" "),t("div",[t("label",{attrs:{for:""}},[e._v("Exchange Rate")]),e._v(" "),t("el-input",{attrs:{placeholder:"1.000"},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}})],1)])],1)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Close")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loading,disabled:e.loading},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{form:{},loader:!1,search:"",payload:{model:"currencies",update:"updateCurrencyList"},currency_det:{data:[]},currency_search:[],temp:"",checkedRows:[],columns:[{label:"Id#",field:"id",type:"number"},{label:"Currency",field:"currency"},{label:"Currency Code",field:"currency_code"},{label:"Exchange rate",field:"rate"},{label:"Created On",field:"created_at"},{label:"Actions",field:"actions",sortable:!1}]}},methods:{openCreate:function(){eventBus.$emit("openCreateCurrency")},openEdit:function(e){eventBus.$emit("openEditCurrency",e)},confirm_delete:function(e){var t=this;this.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.deleteItem(e)})).catch((function(){t.$message({type:"error",message:"Delete canceled"})}))},deleteItem:function(e){var t=this;this.$store.dispatch("deleteItem","currency/"+e.id).then((function(e){t.$message({type:"success",message:"Delete completed"}),t.getCurrencies()}))},openShow:function(e){eventBus.$emit("openShowCurrency",e)},getCurrencies:function(){this.$store.dispatch("getItems",this.payload)},updateSelected:function(e){var t=this;this.checkedRows.length<1?eventBus.$emit("errorEvent","Please select atleast one row"):this.$store.dispatch("updateSelected",{url:e,checked:this.checkedRows}).then((function(e){eventBus.$emit("alertRequest","Updated"),t.checkedRows=[],t.getCurrencies()}))},selectionChanged:function(e){this.checkedRows=e.selectedRows},next_page:function(e,t){var r={path:e,page:t,update:"updateCurrenciesList"};this.$store.dispatch("nextPage",r)}},computed:{currency:function(){return this.$store.getters.currency},isLoading:function(){return this.$store.getters.loading}},mounted:function(){eventBus.$emit("LoadingEvent"),this.getCurrencies()},created:function(){var e=this;eventBus.$on("currencyEvent",(function(t){e.getCurrencies()})),eventBus.$on("responseChooseEvent",(function(e){console.log(e),"Excel"==e?eventBus.$emit("openEditCurrency"):eventBus.$emit("openCreateCurrency")}))}},s=(r(796),Object(a.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("v-container",{attrs:{fluid:"","fill-height":""}},[t("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[t("v-flex",{attrs:{sm12:""}},[t("v-card",{staticStyle:{padding:"20px 0"}},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("Dashboard")]),e._v(" "),t("el-breadcrumb-item",[e._v("Currencies")])],1)],1)],1),e._v(" "),t("v-flex",{attrs:{sm12:""}}),e._v(" "),t("v-flex",{attrs:{sm12:""}},[t("v-card",{staticStyle:{padding:"10px 0"}},[t("v-layout",{attrs:{row:""}},[t("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm1:""}},[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:e.getCurrencies},slot:"activator"},n),[t("v-icon",{attrs:{color:"blue darken-2",small:""}},[e._v("mdi-refresh")])],1)]}}])},[e._v(" "),t("span",[e._v("Refresh")])])],1),e._v(" "),t("v-flex",{attrs:{sm2:""}},[t("h3",{staticStyle:{"margin-left":"30px !important","margin-top":"10px"}},[e._v("Currencies")])]),e._v(" "),t("v-flex",{attrs:{"offset-sm8":"",sm2:""}},[t("v-btn",{attrs:{color:"info",text:""},on:{click:e.openCreate}},[e._v("Create Currency")])],1)],1)],1)],1),e._v(" "),t("v-flex",{attrs:{sm12:""}},[e.currency.last_page>1?t("v-pagination",{attrs:{length:e.currency.last_page,"total-visible":"5",circle:""},on:{input:function(t){return e.next_page(e.currency.path,e.currency.current_page)}},model:{value:e.currency.current_page,callback:function(t){e.$set(e.currency,"current_page",t)},expression:"currency.current_page"}}):e._e()],1),e._v(" "),t("v-flex",{attrs:{sm12:""}},[t("vue-good-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"table-hover",attrs:{columns:e.columns,rows:e.currency.data,"search-options":{enabled:!0},"pagination-options":{enabled:!0,mode:"pages"},"sort-options":{enabled:!0,initialSortBy:{field:"id",type:"asc"}}},scopedSlots:e._u([{key:"table-row",fn:function(r){return["created_at"==r.column.field?t("span",[t("span",[t("el-tag",{attrs:{type:"success"}},[e._v(e._s(r.formattedRow.created_at))])],1)]):"actions"==r.column.field?t("span",[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.openEdit(r.row)}},slot:"activator"},a),[t("v-icon",{attrs:{small:"",color:"blue darken-2"}},[e._v("mdi-pen")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Edit "+e._s(r.row.name))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.confirm_delete(r.row)}},slot:"activator"},a),[t("v-icon",{attrs:{small:"",color:"pink darken-2"}},[e._v("mdi-delete")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Delete "+e._s(r.row.name))])])],1):t("span",[e._v(e._s(r.formattedRow[r.column.field]))])]}}])})],1)],1)],1),e._v(" "),t("Create"),e._v(" "),t("Edit")],1)}),[],!1,null,"0a5f3e0d",null));t.default=s.exports},628:function(e,t,r){var n=r(797);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(4)(n,a);n.locals&&(e.exports=n.locals)},796:function(e,t,r){"use strict";r(628)},797:function(e,t,r){(e.exports=r(3)(!1)).push([e.i,".el-input--prefix .el-input__inner[data-v-0a5f3e0d]{border-radius:50px!important}.v-toolbar__content[data-v-0a5f3e0d],.v-toolbar__extension[data-v-0a5f3e0d]{height:auto!important}.v-avatar[data-v-0a5f3e0d]{height:10px!important;width:10px!important;margin-left:40%!important}",""])}}]);