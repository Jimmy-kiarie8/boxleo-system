(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1107:function(t,e,r){"use strict";r.r(e);var o=r(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={data:function(){return{dialog:!1,form:{},search:"",headers:[{text:"Phone",value:"callerNumber"},{text:"Missed On",value:"created_at"},{text:"Actions",value:"actions",sortable:!1}]}},created:function(){var t=this;eventBus.$on("missedCallEvent",(function(){t.dialog=!0,t.getMissed()}))},methods:{call:function(t){var e={phoneNumber:t};eventBus.$emit("callEvent",e)},close:function(){this.dialog=!1},getMissed:function(){this.$store.dispatch("getItems",{update:"updateMissed",model:"missed"})}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["errors","loading","lead","missedcalls"]))},l=r(0),c=Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[t._v("Missed calls")])]),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-data-table",{attrs:{headers:t.headers,items:t.missedcalls.data,search:t.search,loading:t.loading},scopedSlots:t._u([{key:"item.actions",fn:function(r){var o=r.item;return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.call(o.callerNumber)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"success"}},[t._v("mdi-phone")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Call back")])])]}}])})],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Close")]),t._v(" "),e("v-spacer")],1)],1)],1)],1)}),[],!1,null,null,null).exports;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function v(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p={data:function(){return{headers:[{text:"Phone",value:"phoneNumber"}],dialog:!1,form:{phone:""},call_inprogress:!1}},created:function(){var t=this;eventBus.$on("queueEvent",(function(){t.dialog=!0}))},methods:{call:function(){this.$store.dispatch("postItems",{data:{},model:"/queue_call"})},hangup:function(){eventBus.$emit("hangupEvent",this.form.phone)},close:function(){this.dialog=!1},getQueues:function(){this.$store.dispatch("getItems",{update:"updateQueues",model:"queue"})}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["errors","loading","queue"]))},m=Object(l.a)(p,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[t._v("Queued calls")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",dark:"",icon:""},on:{click:t.close}},[e("v-icon",{attrs:{dark:"",small:""}},[t._v("mdi-close")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.getQueues},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),e("span",[t._v("Refresh")])]),t._v(" "),e("v-card-text",[e("v-data-table",{attrs:{headers:t.headers,items:t.queue,loading:t.loading}})],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.loading},on:{click:t.call}},[e("v-icon",{attrs:{color:"success"}},[t._v("mdi-phone")]),t._v(" Next Call\n                ")],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,f=r(510),_=r(511),y=r(663);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var x={props:["user"],data:function(){return{search:"",headers:[{text:"Created At",value:"callStartTime"},{text:"Caller No.",value:"callerNumber"},{text:"Phone",value:"dialDestinationNumber"},{text:"call Session State",value:"callSessionState"},{text:"Duration In Seconds",value:"durationInSeconds"},{text:"Amount",value:"amount"},{text:"Caller Carrier",value:"callerCarrierName"},{text:"Call Status",value:"call_status"},{text:"Actions",value:"actions",sortable:!1}],playing:!1,playing_audio:null,playingAudio:null,proxyUrl:null}},methods:{getCalls:function(){this.$store.dispatch("getItems",{update:"updateCalls",model:"calls"}).then((function(t){console.log("ðŸš€ ~ file: call-list.vue:46 ~ getCalls ~ response:",t)}))},makecall:function(t){var e={call:"redial",phoneNumber:t.dialDestinationNumber,order:t,data:t};eventBus.$emit("callEvent",e)},playAudio:function(t){this.proxyUrl="/audio/".concat(t),this.playing=!0,this.playingAudio=this.proxyUrl}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["calls"])),mounted:function(){}},k=Object(l.a)(x,(function(){var t=this,e=t._self._c;return e("v-card",[e("v-card-title",[e("v-btn",{attrs:{text:"",icon:"",color:"primary"},on:{click:function(e){return t.getCalls()}}},[e("v-icon",[t._v("mdi-refresh")])],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e("v-data-table",{attrs:{headers:t.headers,items:t.calls.data,search:t.search},scopedSlots:t._u([{key:"item.dialDestinationNumber",fn:function(r){return[t._v("\n            "+t._s(r.item.dialDestinationNumber)+"\n            "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(o){var a=o.on,n=o.attrs;return[e("v-btn",t._g(t._b({staticStyle:{float:"right"},attrs:{icon:"",color:"primary"},on:{click:function(e){return t.makecall(r.item,"phone")}}},"v-btn",n,!1),a),[e("v-icon",{attrs:{small:""}},[t._v("mdi-phone")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Call")])])]}},t.user.can["Order view"]?{key:"item.actions",fn:function(r){var o=r.item;return[!t.user.is_vendor&&t.user.can.Recordings?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.playAudio(o.id)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"red darken-2"}},[t._v("mdi-play-circle")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Recordings")])]):t._e()]}}:null],null,!0)}),t._v(" "),e("v-bottom-sheet",{attrs:{inset:""},model:{value:t.playing,callback:function(e){t.playing=e},expression:"playing"}},[e("v-card",{attrs:{tile:""}},[t.playingAudio?e("audio",{staticStyle:{width:"100% !important"},attrs:{controls:"",src:t.proxyUrl}},[t._v("\n            Your browser does not support the "),e("code",[t._v("audio")]),t._v(" element.\n            ")]):t._e()])],1)],1)}),[],!1,null,null,null).exports;function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function w(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=O(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var j={props:["user","tenant"],name:"callcenter",components:{myMissed:c,myQueue:m,myOnline:f.a,myOffline:_.a,mySales:y.default,myCalls:k},data:function(){return{search:"",activeName:"first",headers:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Phone No.",value:"phone"},{text:"Address",value:"address"},{text:"Created On",value:"created_at"},{text:"Actions",value:"actions",sortable:!1}]}},methods:{toggleAudio:function(t){var e=document.getElementById("audio-player");t?e.play():e.pause()},getOnline:function(){this.$store.dispatch("getItems",{update:"updateOnline",model:"user_online",load:"no"})},editDetails:function(t){eventBus.$emit("editEvent",t)},openDetails:function(t){eventBus.$emit("showEvent",t)},call:function(t){console.log(t),"new_call"==t?t={call:"new",phone:""}:"agent_call"==t&&(t={call:"agent",phone:""}),eventBus.$emit("callEvent",t)},missed_call:function(){eventBus.$emit("missedCallEvent")},queue:function(){this.$store.dispatch("postItems",{data:{},model:"dequeue"})},getStats:function(){this.$store.dispatch("getItems",{model:"agent_data",update:"updateAgentData"})}},created:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["loading","agent_data","online"])),mounted:function(){this.getStats()}},P=Object(l.a)(j,(function(){var t=this,e=t._self._c;return e("v-card",{staticStyle:{padding:"20px",width:"100%"}},[e("v-layout",{staticStyle:{"margin-top":"0 !important"},attrs:{"justify-center":"","align-center":"",wrap:""}},[e("v-flex",{attrs:{sm6:""}},[e("v-card",{staticStyle:{padding:"15px 0"}},[e("v-list",{attrs:{dense:""}},[e("v-list-item-group",{attrs:{color:"teal"}},[e("v-list-item",{on:{click:function(e){return t.call("new_call")}}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"success"}},[t._v("mdi-phone")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Make a new Call")])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"teal"}},[e("v-list-item",{on:{click:function(e){return t.call("agent_call")}}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"info"}},[t._v("mdi-face-agent")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Call an agent")])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"teal"}},[e("v-list-item",{on:{click:function(e){return t.missed_call()}}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-phone-missed")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Missed Calls")]),t._v(" "),e("v-list-item-subtitle",[t._v(t._s(t.agent_data.today_missed))])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"red"}},[e("v-list-item",{on:{click:function(e){return t.queue()}}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"danger"}},[t._v("mdi-phone-missed")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Check Queue")]),t._v(" "),e("v-list-item-subtitle",[t._v("...")])],1)],1)],1)],1)],1)],1),t._v(" "),e("v-flex",{attrs:{sm5:"","offset-sm1":""}},[e("v-card",{staticStyle:{padding:"15px 0"}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticStyle:{"text-align":"center"},attrs:{sm5:""}},[e("img",{staticStyle:{"border-radius":"50%",height:"103px"},attrs:{src:t.user.profile_photo_url}}),t._v(" "),e("br"),t._v(" "),e("div",[e("p",[t._v(t._s(t.user.name))]),t._v(" "),e("p",[t._v(t._s(t.user.email))]),t._v(" "),t.online?e("myOnline"):e("myOffline")],1)]),t._v(" "),e("v-divider",{staticStyle:{margin:"0"},attrs:{vertical:""}}),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm6:""}},[e("v-list",{attrs:{dense:""}},[e("v-subheader",[t._v("User")]),t._v(" "),e("v-list-item-group",{attrs:{color:"teal"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",{attrs:{color:"error"}},[t._v("mdi-connection")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Calls connected")]),t._v(" "),e("v-list-item-subtitle",[t._v(t._s(t.agent_data.today_answered))])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"teal"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",{attrs:{color:"success"}},[t._v("mdi-phone-in-talk")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Calls made")]),t._v(" "),e("v-list-item-subtitle",[t._v(t._s(t.agent_data.today_calls))])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"teal"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-phone-cancel")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Calls rejected")]),t._v(" "),e("v-list-item-subtitle",[t._v(t._s(t.agent_data.today_unanswered))])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"teal"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",{attrs:{color:"warning"}},[t._v("mdi-phone-incoming")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Incoming Calls")]),t._v(" "),e("v-list-item-subtitle",[t._v(t._s(t.agent_data.today_incoming))])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("el-tabs",{staticStyle:{width:"100%"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"Orders",name:"first"}},[e("mySales",{attrs:{user:t.user,tenant:t.tenant}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"Calls",name:"second"}},[e("myCalls",{attrs:{user:t.user}})],1)],1)],1),t._v(" "),e("myMissed"),t._v(" "),e("myQueue")],1)}),[],!1,null,"30204afa",null);e.default=P.exports},506:function(t,e,r){"use strict";var o=r(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={data:function(){return{dialog:!1,loading:!1,form:{},comments:[],selectedItem:0,payload:{model:"leaves"},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content"),accept:"application/json"},fileList:[]}},created:function(){var t=this;eventBus.$on("openPod",(function(e){console.log(e),t.dialog=!0,t.form=e,t.getPod()}))},methods:{close:function(){this.dialog=!1},getPod:function(){var t={model:"pods/".concat(this.form.id),update:"updatePod"};this.$store.dispatch("getItems",t)},handlePreview:function(){},handleRemove:function(){},handleError:function(t,e){this.$store.dispatch("page_loader",!1),this.$message.error("Something went wrong. Please check your file!")},handleSuccess:function(t,e){},beforeUpload:function(t){},handleFileUpload:function(){this.$refs.upload.submit()}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["pods"]))},l=r(0),c=Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.dialog?e("v-card",[e("v-card-title",[e("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[t._v("Proof Of delivery")]),t._v(" "),e("VSpacer"),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.close},slot:"activator"},o),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("close")])],1)]}}],null,!1,1092174889)},[t._v(" "),e("span",[t._v("close")])])],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"/pod-upload/".concat(t.form.id),"auto-upload":!0,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,headers:t.headers,"on-success":t.handleSuccess,"on-error":t.handleError}},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),e("em",[t._v("click to upload")])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("Upload you files here!")])])],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("v-list",{attrs:{dense:""}},[e("v-subheader",[t._v(t._s(t.form.order_no))]),t._v(" "),e("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",[t._v("mdi-cash-100")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",{domProps:{textContent:t._s(t.form.total_price)}})],1)],1),t._v(" "),e("v-list-item",[e("v-list-item-icon",[e("v-icon",[t._v("mdi-update")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",{domProps:{textContent:t._s(t.form.delivery_status)}})],1)],1)],1)],1)],1),t._v(" "),t.form.pod?e("v-flex",{attrs:{sm12:""}},[e("el-card",{attrs:{"body-style":{padding:"0px"}}},[e("img",{staticClass:"image",staticStyle:{width:"100%",height:"200px"},attrs:{src:t.form.pod.signature}}),t._v(" "),e("div",{staticStyle:{padding:"14px"}},[e("span",[t._v(t._s(t.form.pod.notes))]),t._v(" "),e("div",{staticClass:"bottom clearfix"},[e("time",{staticClass:"time"},[t._v(t._s(t.form.pod.created_at))])])])])],1):t._e(),t._v(" "),e("v-flex",{attrs:{sm12:""}},[t.pods.length>0?e("v-list",{attrs:{dense:"","two-line":""}},[e("v-subheader",[t._v(t._s(t.form.order_no))]),t._v(" "),e("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},t._l(t.pods,(function(r){return e("v-list-item",{key:r.id,attrs:{href:r.path,target:"_blank"}},[e("v-list-item-icon",[e("v-icon",[t._v("mdi-draw")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",{domProps:{textContent:t._s(t.form.notes)}}),t._v(" "),e("v-list-item-subtitle",{domProps:{textContent:t._s(t.form.created_at)}})],1)],1)})),1)],1):t._e()],1)],1)],1)],1)],1):t._e()],1)],1)}),[],!1,null,null,null);e.a=c.exports},507:function(t,e,r){"use strict";var o=r(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={name:"orderStatus",data:function(){return{pickerOptions:{disabledDate:function(t){return t.getTime()+864e5<Date.now()},shortcuts:[{text:"Today",onClick:function(t){t.$emit("pick",new Date)}},{text:"Tomorrow",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}}]},dialog:!1,form:{customer_notes:"",delivery_date:"",delivery_status:"",zone_from:null,zone_to:null},zone_data:{zone_from:null,zone_to:null}}},created:function(){var t=this;eventBus.$on("multStatusEvent",(function(e){console.log(e),t.dialog=!0,t.selected=e,t.zones.length<1&&t.getZones()}))},methods:{getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},getZones:function(){this.$store.dispatch("getItems",{model:"zones",update:"updateZone"})},updateStatus:function(){var t=this,e={model:"/sales_update",data:{form:this.form,orders:this.selected}};this.$store.dispatch("postItems",e).then((function(){t.close(),eventBus.$emit("saleEvent","mult"),t.form={customer_notes:"",delivery_date:"",delivery_status:"",zone_from:null,zone_to:null}}))},close:function(){this.dialog=!1}},mounted:function(){this.getStatus()},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["statuses","zones","errors","loading"]))},l=r(0),c=Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline",staticStyle:{margin:"auto"}},[t._v("Order Details")])]),t._v(" "),e("VDivider"),t._v(" "),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("label",{staticClass:"col-md-5 col-lg-5"},[t._v("Status")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:t.form.delivery_status,callback:function(e){t.$set(t.form,"delivery_status",e)},expression:"form.delivery_status"}},t._l(t.statuses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.status,value:t.status}})})),1),t._v(" "),t.errors.delivery_status?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.delivery_status[0]))]):t._e()],1),t._v(" "),"Scheduled"==t.form.delivery_status?e("v-flex",{attrs:{sm12:""}},[e("div",{staticClass:"block"},[e("span",{staticClass:"demonstration",staticStyle:{float:"left"}},[t._v("Schedule Date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions,type:"date",placeholder:"Pick a day"},model:{value:t.form.delivery_date,callback:function(e){t.$set(t.form,"delivery_date",e)},expression:"form.delivery_date"}})],1),t._v(" "),t.errors.delivery_date?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.delivery_date[0]))]):t._e()]):t._e(),t._v(" "),"Dispatched"==t.form.delivery_status?e("v-flex",{attrs:{sm12:""}},[e("label",{staticClass:"col-md-5 col-lg-5"},[t._v("Zone from")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:t.form.zone_from,callback:function(e){t.$set(t.form,"zone_from",e)},expression:"form.zone_from"}},t._l(t.zones,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.zone_from?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.zone_from[0]))]):t._e()],1):t._e(),t._v(" "),"Dispatched"==t.form.delivery_status?e("v-flex",{attrs:{sm12:""}},[e("label",{staticClass:"col-md-5 col-lg-5"},[t._v("Zone to")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:t.form.zone_to,callback:function(e){t.$set(t.form,"zone_to",e)},expression:"form.zone_to"}},t._l(t.zones,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.zone_to?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.zone_to[0]))]):t._e()],1):t._e(),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{staticStyle:{color:"#52627d"},attrs:{for:""}},[t._v("Comments")]),t._v(" "),e("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"comments",maxlength:"500","show-word-limit":""},model:{value:t.form.customer_notes,callback:function(e){t.$set(t.form,"customer_notes",e)},expression:"form.customer_notes"}}),t._v(" "),t.errors.customer_notes?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.customer_notes[0]))]):t._e()],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),e("VSpacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.updateStatus}},[t._v("Update")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=c.exports},510:function(t,e,r){"use strict";var o={},a=(r(735),r(0)),n=Object(a.a)(o,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",[t("span",{staticClass:"pulse"})])}],!1,null,"446ca4b9",null);e.a=n.exports},511:function(t,e,r){"use strict";var o={},a=(r(737),r(0)),n=Object(a.a)(o,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",[t("span",{staticClass:"pulse"})])}],!1,null,"6f092efa",null);e.a=n.exports},599:function(t,e,r){var o=r(736);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,a);o.locals&&(t.exports=o.locals)},600:function(t,e,r){var o=r(738);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,a);o.locals&&(t.exports=o.locals)},616:function(t,e,r){var o=r(772);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,a);o.locals&&(t.exports=o.locals)},617:function(t,e,r){var o=r(774);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,a);o.locals&&(t.exports=o.locals)},618:function(t,e,r){var o=r(776);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,a);o.locals&&(t.exports=o.locals)},619:function(t,e,r){var o=r(779);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,a);o.locals&&(t.exports=o.locals)},620:function(t,e,r){var o=r(781);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,a);o.locals&&(t.exports=o.locals)},663:function(t,e,r){"use strict";r.r(e);var o=r(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={data:function(){return{dialog:!1,form:{}}},created:function(){var t=this;eventBus.$on("editEvent",(function(e){console.log("ðŸš€ ~ file: edit.vue:57 ~ created ~ data:",e),t.form=e,t.dialog=!0}))},methods:{save:function(){var t=this,e={data:this.form,id:this.form.id,model:"clients"};this.$store.dispatch("patchItems",e).then((function(e){t.close()}))},close:function(){this.dialog=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["errors","loading"]))},l=r(0),c=Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[t._v("Edit Contact")])]),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",{staticStyle:{"padding-top":"20px"}},[e("div",[e("v-text-field",{attrs:{label:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),t.errors.name?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e()],1),t._v(" "),e("div",[e("v-text-field",{attrs:{label:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),t.errors.email?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.email[0]))]):t._e()],1),t._v(" "),e("div",[e("v-text-field",{attrs:{label:"Phone"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),e("div",[e("v-text-field",{attrs:{label:"Alternative Phone"},model:{value:t.form.alt_phone,callback:function(e){t.$set(t.form,"alt_phone",e)},expression:"form.alt_phone"}})],1),t._v(" "),e("div",[e("v-text-field",{attrs:{label:"Address"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),t._v(" "),t.errors.address?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.address[0]))]):t._e()],1),t._v(" "),e("div",[e("v-text-field",{attrs:{label:"City"},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}}),t._v(" "),t.errors.city?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.city[0]))]):t._e()],1)]),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:t.close}},[t._v("Close")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"red darken-1",text:"",loading:t.loading,disabled:t.loading},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function v(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p={name:"call-details",data:function(){return{dialog:!1,form:{},order:null,search:"",headers:[{text:"Direction",value:"direction"},{text:"Agent",value:"callerNumber"},{text:"Duration In Seconds",value:"durationInSeconds"},{text:"Amount",value:"amount"},{text:"Destination Number",value:"destinationNumber"},{text:"Status",value:"call_status"},{text:"Currency Code",value:"currencyCode"},{text:"Created On",value:"created_at"},{text:"Actions",value:"actions",sortable:!1}],playing:!1,playing_audio:null,proxyUrl:null,playingAudio:null}},created:function(){var t=this;eventBus.$on("showEvent",(function(e){t.order=e,t.dialog=!0,t.showLeads(e.id)}))},methods:{playAudio:function(t){this.proxyUrl="/audio/".concat(t),this.playing=!0,this.playingAudio=this.proxyUrl},close:function(){this.dialog=!1},showLeads:function(t){var e={update:"updateLead",id:t,load:"no",model:"calls"};this.$store.dispatch("showItem",e)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["errors","loading","leads"]))},m=(r(771),Object(l.a)(p,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.dialog?e("v-card",[e("v-card-title",[e("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[t._v("Call history")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"whte",dark:"",icon:""},on:{click:t.close}},[e("v-icon",{attrs:{dark:"",small:""}},[t._v("mdi-close")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-list",{attrs:{dense:""}},[e("v-subheader",[t._v("User")]),t._v(" "),e("v-list-item-group",{attrs:{color:"primary"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-account-circle")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(t.order.client.name))])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"primary"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",{attrs:{color:"success"}},[t._v("mdi-email")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(t.order.client.email))])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"primary"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-phone")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(t.order.client.phone))])],1)],1)],1),t._v(" "),e("v-list-item-group",{attrs:{color:"primary"}},[e("v-list-item",[e("v-list-item-icon",[e("v-icon",{attrs:{color:"warning"}},[t._v("mdi-map-marker")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(t.order.client.address))])],1)],1)],1)],1),t._v(" "),e("v-data-table",{attrs:{headers:t.headers,items:t.leads.data,search:t.search,loading:t.loading},scopedSlots:t._u([{key:"item.callerNumber",fn:function(r){var o=r.item;return["Inbound"==o.direction?e("div",[t._v("\n                            "+t._s(o.dialDestinationNumber)+"\n                        ")]):e("div",[t._v("\n                            "+t._s(o.callerNumber)+"\n                        ")])]}},{key:"item.actions",fn:function(r){var o=r.item;return[o.recordingUrl?e("div",{staticClass:"text-center"},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.playAudio(o.id)}},slot:"activator"},a),[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-play-circle-outline")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Play")])])],1):e("v-chip",{attrs:{color:"primary",small:""}},[t._v("No record")])]}}],null,!1,2795975024)})],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Close")]),t._v(" "),e("v-spacer")],1),t._v(" "),e("v-bottom-sheet",{attrs:{inset:""},model:{value:t.playing,callback:function(e){t.playing=e},expression:"playing"}},[e("v-card",{attrs:{tile:""}},[t.playingAudio?e("audio",{staticStyle:{width:"100% !important"},attrs:{controls:"",src:t.proxyUrl}},[t._v("\n                    Your browser does not support the "),e("code",[t._v("audio")]),t._v(" element.\n                    ")]):t._e()])],1)],1):t._e()],1)],1)}),[],!1,null,null,null).exports),f=r(427),_=r(1095);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function h(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g={props:["user","form","upload_type","tenant"],data:function(){return{headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content"),accept:"application/json"},filePlaced:!1,dialog:!1,loading:!1,loading_file:!1,orders_upload:{},errors:[],search:"",e_header:[{text:"order_id",value:"order_id"},{text:"Client name",value:"client_name"},{text:"address",value:"address"},{text:"phone",value:"phone"},{text:"email",value:"email"},{text:"special Instructions",value:"special_instructions"},{text:"Product name",value:"product_name"},{text:"Status",value:"status"},{text:"Delivery date",value:"delivery_date"},{text:"Total amount",value:"total_amount",type:"number"},{text:"Quantity",value:"quantity",type:"number"},{text:"Actions",value:"actions",sortable:!1}],e_body:[],new_arr:[]}},methods:{previewFiles:function(){var t=this,e=h(h(h(h(h(h({"Waybill number":{prop:"waybill_no",type:String},"order date":{prop:"order_date",type:String},"Order ID":{prop:"order_id",type:String,required:!0},"Client Name":{prop:"client_name",required:!0,type:String},address:{prop:"address",type:String},phone:{prop:"phone",type:String,required:!0},city:{prop:"city",type:String},status:{prop:"status",type:String},"delivery date":{prop:"delivery_date",type:Date}},"phone",{prop:"phone",type:String,required:!0}),"product name",{prop:"product_name",type:String,required:!0}),"Quantity",{prop:"quantity",type:String,required:!0}),"Special Instructions",{prop:"special_instructions",type:String}),"email",{prop:"email",type:String}),"Total Amount",{prop:"total_amount",type:Number,required:!0});this.loading_file=!0;var r=event.target.files?event.target.files[0]:null;Object(_.a)(r,{schema:e}).then((function(e){t.loading_file=!1,t.e_body=e.rows}))},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},close:function(){this.dialog=!1},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})},getWarehouses:function(){this.$store.dispatch("getItems",{model:"/warehouses",update:"updateWarehouseList"})},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this;this.filePlaced=!0;var r=t.target.files;if(r[0].name.lastIndexOf(".")<=0)return alert("please upload a valid orders");var o=new FileReader;o.addEventListener("load",(function(){e.avatar=o.result})),o.readAsDataURL(r[0]),this.orders=r[0]},GetOrders:function(t){var e=this,r=t.target.files[0],o=new FileReader;o.readAsDataURL(r),o.onload=function(t){e.avatar=t.target.result},this.filePlaced=!0;var a=new FormData;a.append("orders",r),this.file=a,console.log(t.target.files)},handleError:function(t,e){this.$store.dispatch("page_loader",!1),this.$message.error("Something went wrong. Please check your excel file! Make sure you've choosen the vendor and warehouse")},handleSuccess:function(t,e){eventBus.$emit("orderResponseEvent",t),this.getProducts(),this.orders_upload=t},beforeUpload:function(t){this.$store.dispatch("page_loader",!0),console.log(t);t.type},upload:function(){this.$refs.upload.submit()},getProducts:function(){var t={model:"client_products",update:"updateProductsList",id:this.user.is_vendor?this.user.id:this.form.vendor_id};this.$store.dispatch("showItem",t)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["sellers","warehouses"])),created:function(){var t=this;eventBus.$on("fileUploadEvent",(function(e){t.upload()}))},mounted:function(){this.getSellers(),this.getWarehouses()}},x=Object(l.a)(g,(function(){var t=this,e=t._self._c;return e("v-card",{staticStyle:{"overflow-x":"hidden"}},[e("v-card-title",[t._v("\n        Upload Excel Shipments\n    ")]),t._v(" "),e("v-container",{attrs:{"grid-list-md":""}},[t.user.is_vendor?t._e():e("div",[e("label",{attrs:{for:""}},[t._v("Vendor")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"client",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.vendor_id?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.vendor_id[0]))]):t._e()],1),t._v(" "),e("div",{staticStyle:{height:"10px"}}),t._v(" "),e("div",[e("label",{attrs:{for:""}},[t._v("Warehouse")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"warehouse",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.warehouse_id,callback:function(e){t.$set(t.form,"warehouse_id",e)},expression:"form.warehouse_id"}},t._l(t.warehouses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.warehouse_id?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.warehouse_id[0]))]):t._e()],1),t._v(" "),e("v-card-text",[e("v-layout",{directives:[{name:"loading",rawName:"v-loading",value:t.loading_file,expression:"loading_file"}],attrs:{wrap:"","element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading"}},[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"/get_orders","auto-upload":!1,data:t.form,headers:t.headers,"on-success":t.handleSuccess,"on-error":t.handleError,"before-upload":t.beforeUpload}},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),e("em",[t._v("click to upload")])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("xlsx files with a size less than 500kb")])]),t._v(" "),"1"==t.upload_type?e("v-tooltip",{staticStyle:{"margin-left":"30px"},attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,a=r.attrs;return[e("v-btn",t._g(t._b({attrs:{icon:"",href:"/downloads/order_template.xlsx",target:"_blank"}},"v-btn",a,!1),o),[e("v-icon",{attrs:{color:"primary lighten-1"}},[t._v("\n                                mdi-download\n                            ")])],1)]}}],null,!1,2277820239)},[t._v(" "),e("span",[t._v("Download Template")])]):e("v-tooltip",{staticStyle:{"margin-left":"30px"},attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,a=r.attrs;return[e("v-btn",t._g(t._b({attrs:{icon:"",href:"/downloads/order_template2.xlsx",target:"_blank"}},"v-btn",a,!1),o),[e("v-icon",{attrs:{color:"primary lighten-1"}},[t._v("\n                                mdi-download\n                            ")])],1)]}}])},[t._v(" "),e("span",[t._v("Download Template")])]),t._v(" "),e("v-spacer")],1)],1)],1)],1)}),[],!1,null,null,null).exports;function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=k(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var j={props:["orders","e1","form","upload_type"],data:function(){return{search:"",valid:!1,invalid_row:[],headers:[{text:"Order id",value:"order_no"},{text:"Product name",value:"product_name"},{text:"Client name",value:"client_name"},{text:"Address",value:"address"},{text:"Phone",value:"phone"},{text:"Status",value:"status"},{text:"Delivery date",value:"delivery_date"},{text:"Special instructions",value:"notes"},{text:"Total price",value:"cod_amount"},{text:"Actions",value:"actions"}],pickerOptions:{disabledDate:function(t){return t.getTime()+864e5<Date.now()},shortcuts:[{text:"Today",onClick:function(t){t.$emit("pick",new Date)}},{text:"Tomorrow",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}}]}}},methods:{row_classes:function(t){if(console.log(t.products),!t.product_exists)return eventBus.$emit("invalidEvent"),"not_valid";eventBus.$emit("validEvent")},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},handleError:function(t,e){this.$store.dispatch("page_loader",!1),this.$message.error("Something went wrong. Please check your excel file! Make sure you've choosen the vendor and warehouse")},handleSuccess:function(t,e){eventBus.$emit("orderResponseEvent",t),this.orders_upload=t},beforeUpload:function(t){this.$store.dispatch("page_loader",!0),console.log(t);t.type},upload:function(){this.$refs.upload.submit()},remove:function(t){var e=this.orders.sales.indexOf(t);this.orders.sales.splice(e,1)},getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},product_select:function(t){var e=this.orders.sales.indexOf(t),r=Object.assign({},t);r.product_exists=!0,Object.assign(this.orders.sales[e],r)},checkvalidate:function(){console.log(this.upload_type),console.log(this.upload_type),console.log(this.upload_type),console.log(this.upload_type),console.log(this.upload_type),console.log(this.upload_type);for(var t=0;t<this.orders.sales.length;t++){var e=this.orders.sales[t];console.log(e.products),console.log(e.products[t].id),e.products[t].id&&""!=e.products[t].id||!1}}},computed:S(S({},Object(o.b)(["products","loading","statuses"])),{},{validate:function(){error_arr=[];var t=!0;console.log(this.upload_type),console.log(this.upload_type),console.log(this.upload_type),console.log(this.upload_type),console.log(this.upload_type),console.log(this.upload_type);for(var e=0;e<this.orders.sales.length;e++){var r=this.orders.sales[e];r.order_no&&r.products.forEach((function(e){e.id||(t=!1)})),r.products[e].id&&""!=r.products[e].id||(t=!1)}return"2"==this.upload_type&&(t=!0),eventBus.$emit("validEvent",t),t}}),mounted:function(){this.getStatus()}},P=(r(773),Object(l.a)(j,(function(){var t=this,e=t._self._c;return e("v-card",[e("v-card-title",{attrs:{"primary-title":""}}),t._v(" "),2==t.e1?e("v-card-text",[e("el-collapse",{attrs:{accordion:""}},[t.orders.exist_orders.length>0?e("el-collapse-item",{attrs:{name:"1"}},[e("template",{staticStyle:{color:"red"},slot:"title"},[e("span",[e("b",{staticStyle:{color:"red"}},[t._v(t._s(t.orders.exist_orders.length)+" Orders Exists")]),e("i",{staticClass:"header-icon el-icon-info"})])]),t._v(" "),e("div",[e("v-list",{attrs:{dense:"","two-line":""}},[e("v-list-item-group",{attrs:{color:"primary"}},t._l(t.orders.exist_orders,(function(r,o){return e("v-list-item",{key:o},[e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(r.order_no)+" ")])],1)],1)})),1)],1)],1)],2):t._e()],1),t._v(" "),e("v-data-table",{attrs:{headers:t.headers,items:t.orders.sales,search:t.search,loading:t.loading,"item-class":t.row_classes},scopedSlots:t._u([{key:"item.product_name",fn:function(r){var o=r.item;return t._l(o.products,(function(r,a){return e("v-layout",{key:a,staticStyle:{padding:"10px 0"},attrs:{row:""}},[e("v-flex",{attrs:{sm8:""}},[e("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},on:{change:function(e){return t.product_select(o)}},model:{value:r.id,callback:function(e){t.$set(r,"id",e)},expression:"product.id"}},t._l(t.products.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.product_name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm4:""}},[e("el-input",{attrs:{placeholder:"Please input"},model:{value:r.quantity,callback:function(e){t.$set(r,"quantity",e)},expression:"product.quantity"}})],1)],1)}))}},{key:"item.actions",fn:function(r){var o=r.item;return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.remove(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"pink darken-2"}},[t._v("mdi-delete")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Remove")])])]}},{key:"item.address",fn:function(r){var o=r.item;return[e("el-input",{attrs:{type:"textarea",placeholder:"Please input",rows:"3"},model:{value:o.address,callback:function(e){t.$set(o,"address",e)},expression:"item.address"}})]}},{key:"item.client_name",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Please input"},model:{value:o.client_name,callback:function(e){t.$set(o,"client_name",e)},expression:"item.client_name"}})]}},{key:"item.phone",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Please input"},model:{value:o.phone,callback:function(e){t.$set(o,"phone",e)},expression:"item.phone"}})]}},{key:"item.status",fn:function(r){var o=r.item;return[e("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:o.status,callback:function(e){t.$set(o,"status",e)},expression:"item.status"}},t._l(t.statuses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.status,value:t.status}})})),1)]}},{key:"item.delivery_date",fn:function(r){var o=r.item;return[e("el-date-picker",{staticStyle:{width:"width: 140px"},attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day","picker-options":t.pickerOptions},model:{value:o.delivery_date,callback:function(e){t.$set(o,"delivery_date",e)},expression:"item.delivery_date"}})]}},{key:"item.notes",fn:function(r){var o=r.item;return[e("el-input",{attrs:{type:"textarea",placeholder:"Please input",rows:"3"},model:{value:o.notes,callback:function(e){t.$set(o,"notes",e)},expression:"item.notes"}})]}}],null,!1,3362942525)})],1):t._e()],1)}),[],!1,null,null,null).exports);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function D(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var I={props:["orders"],data:function(){return{expanded:[],singleExpand:!1,headers:[{text:"Order id",value:"order_id"},{text:"Quantity",value:"Products.quantity"},{text:"Client name",value:"client_name"},{text:"Address",value:"address"},{text:"Phone",value:"phone"},{text:"Special instructions",value:"special_instructions"},{text:"Total price",value:"total_amount"},{text:"Actions",value:"actions"}]}},methods:{getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},remove:function(t){var e=this.orders.sales.indexOf(t);this.orders.sales.splice(e,1)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["products","statuses"])),mounted:function(){this.getStatus()}},B={name:"excel",props:["user","tenant"],components:{myFileUpload:x,myDisplayOrders:P,myMapping:Object(l.a)(I,(function(){var t=this,e=t._self._c;return e("div",[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.orders.Orders,"single-expand":t.singleExpand,expanded:t.expanded,"item-key":"id","show-expand":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:""}},[e("v-toolbar-title",[t._v("Expandable Table")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-switch",{staticClass:"mt-2",attrs:{label:"Single expand"},model:{value:t.singleExpand,callback:function(e){t.singleExpand=e},expression:"singleExpand"}})],1)]},proxy:!0},{key:"expanded-item",fn:function(r){var o=r.item;return[e("table",{staticClass:"table table-responsive table-hover",staticStyle:{width:"400px"}},[e("tbody",t._l(t.orders.Products,(function(r,a){return r.order_id==o.order_id?e("tr",{key:a},[e("td",{attrs:{colspan:"1"}},[e("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:r.product_name,callback:function(e){t.$set(r,"product_name",e)},expression:"product.product_name"}},t._l(t.products.data,(function(t,r){return e("el-option",{key:r,attrs:{label:t.product_name,value:t.product_name}})})),1)],1),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("el-input-number",{attrs:{min:1},model:{value:r.quantity,callback:function(e){t.$set(r,"quantity",e)},expression:"product.quantity"}})],1)]):t._e()})),0)])]}}])})],1)}),[],!1,null,null,null).exports},data:function(){return{dialog:!1,loading:!1,e1:1,form:{vendor_id:"",warehouse_id:"",platform:"Excel"},orders:[],upload_type:"1",options:"Orders with single products",validate:!0,invalid_data:!1}},methods:{goToStep2:function(){"1"==this.upload_type?this.form.platform="Excel":this.form.platform="Excel2",this.loading=!0,eventBus.$emit("fileUploadEvent"),this.getProducts()},getProducts:function(){var t={model:"client_products",update:"updateProductsList",id:this.user.is_vendor?this.user.id:this.form.vendor_id};this.$store.dispatch("showItem",t)},importOrders:function(){var t=this;this.form.orders=this.orders.sales;var e={data:this.form,model:"salesUpload"};this.$store.dispatch("postItems",e).then((function(e){t.e1=1,t.orders=[],t.dialog=!1}))},close:function(){this.dialog=!1}},created:function(){var t=this;eventBus.$on("openExcelUploadEvent",(function(e){t.dialog=!0})),eventBus.$on("orderResponseEvent",(function(e){t.orders=e,t.loading=!1,t.e1=2})),eventBus.$on("validEvent",(function(e){t.invalid_data=!1})),eventBus.$on("invalidEvent",(function(e){t.invalid_data=!0}))},computed:{}},N=Object(l.a)(B,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[e("v-icon",[t._v("mdi-close")])],1),t._v(" "),e("v-toolbar-title",[t._v("Order upload")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-toolbar-items")],1),t._v(" "),e("v-stepper",{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[e("v-stepper-header",[e("v-stepper-step",{attrs:{complete:t.e1>1,step:"1"}},[t._v("Upload Details")]),t._v(" "),e("v-divider"),t._v(" "),e("v-stepper-step",{attrs:{complete:t.e1>2,step:"2"}},[t._v("Upload verification")])],1),t._v(" "),e("v-stepper-items",[e("v-stepper-content",{attrs:{step:"1"}},[e("el-radio",{attrs:{label:"1"},model:{value:t.upload_type,callback:function(e){t.upload_type=e},expression:"upload_type"}},[t._v("Orders with single products")]),t._v(" "),e("el-radio",{attrs:{label:"2"},model:{value:t.upload_type,callback:function(e){t.upload_type=e},expression:"upload_type"}},[t._v("Orders with multiple products")]),t._v(" "),e("myFileUpload",{attrs:{form:t.form,user:t.user,upload_type:t.upload_type,tenant:t.tenant}}),t._v(" "),e("v-btn",{staticStyle:{"text-transform":"none",color:"#fff"},attrs:{color:"red",rounded:""},on:{click:t.goToStep2}},[e("v-icon",[t._v("mdi-chevron-right")]),t._v(" "),e("span",[t._v("Next")])],1),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("Cancel")])],1),t._v(" "),e("v-stepper-content",{attrs:{step:"2"}},[e("myDisplayOrders",{attrs:{orders:t.orders,form:t.form,e1:t.e1,upload_type:t.upload_type}}),t._v(" "),e("v-btn",{staticStyle:{"text-transform":"none",color:"#fff"},attrs:{color:"red",rounded:""},on:{click:t.importOrders}},[e("v-icon",[t._v("mdi-import")]),t._v(" "),e("span",[t._v("Import")])],1),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:function(e){t.e1=1}}},[t._v("Back")]),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("Close")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,U=r(262);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function R(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=T(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=T(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==T(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var M={props:["form","user"],data:function(){return{dialog:!1,loading:!1,orders:{}}},methods:{disable_btn:function(){this.loading=!0,this.$refs.google_form.submit()},close:function(){this.dialog=!1},getWarehouses:function(){this.$store.dispatch("getItems",{model:"/warehouses",update:"updateWarehouseList"})},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})},get_orders:function(){var t=this,e={model:"get_orders",data:this.form};this.$store.dispatch("postItems",e).then((function(e){t.getProducts(),t.orders=e.data,e.data.sales.length>0?eventBus.$emit("googleResponseEvent",e.data):t.$message({type:"error",message:"No Data found"})}))},getProducts:function(){var t={model:"client_products",update:"updateProductsList",id:this.form.vendor_id};this.$store.dispatch("showItem",t)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){R(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["sellers","warehouses"])),created:function(){var t=this;this.getSellers(),this.getWarehouses(),eventBus.$on("googleUploadEvent",(function(e){t.get_orders()}))}},z=Object(l.a)(M,(function(){var t=this,e=t._self._c;return e("v-card",[e("v-card-title",[t._v("\n        Upload orders from Google sheets\n    ")]),t._v(" "),e("v-container",{attrs:{"grid-list-md":""}},[e("v-card-text",[t.user.is_vendor?t._e():e("div",[e("label",{attrs:{for:""}},[t._v("Vendor")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"client",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("div",{staticStyle:{height:"10px"}}),t._v(" "),e("label",{attrs:{for:""}},[t._v("Warehouse")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"warehouse",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.warehouse_id,callback:function(e){t.$set(t.form,"warehouse_id",e)},expression:"form.warehouse_id"}},t._l(t.warehouses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),e("v-row",[e("v-col",{attrs:{sm:"5"}},[e("label",{attrs:{for:""}},[t._v("Order date from")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1),t._v(" "),e("v-col",{attrs:{sm:"5","offset-sm":"1"}},[e("label",{attrs:{for:""}},[t._v("Order date to")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1)],1),t._v(" "),e("label",{attrs:{for:""}},[t._v("Sheet Name")]),t._v(" "),e("el-input",{attrs:{placeholder:""},model:{value:t.form.sheet_name,callback:function(e){t.$set(t.form,"sheet_name",e)},expression:"form.sheet_name"}}),t._v(" "),e("label",{attrs:{for:""}},[t._v("Worksheet")]),t._v(" "),e("el-input",{attrs:{placeholder:""},model:{value:t.form.work_sheet,callback:function(e){t.$set(t.form,"work_sheet",e)},expression:"form.work_sheet"}})],1)],1)],1)}),[],!1,null,null,null).exports;function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function W(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=L(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var q={props:["form","user"],data:function(){return{dialog:!1,loading:!1,orders:{}}},methods:{disable_btn:function(){this.loading=!0,this.$refs.google_form.submit()},close:function(){this.dialog=!1},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["sellers","warehouses"])),created:function(){eventBus.$on("googleUploadEvent",(function(t){}))}},F=Object(l.a)(q,(function(){var t=this,e=t._self._c;return e("v-card",[e("v-card-title",[t._v("\n        Upload orders from Shopify\n    ")]),t._v(" "),e("v-container",{attrs:{"grid-list-md":""}},[e("v-card-text",[e("v-layout",{attrs:{row:"",wrap:""}},[t.user.is_vendor?t._e():e("v-flex",{attrs:{sm5:""}},[e("label",{attrs:{for:""}},[t._v("Vendor")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"client",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("label",{attrs:{for:""}},[t._v("Warehouse")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"warehouse",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.warehouse_id,callback:function(e){t.$set(t.form,"warehouse_id",e)},expression:"form.warehouse_id"}},t._l(t.warehouses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("label",{attrs:{for:""}},[t._v("Start date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a Date",format:"yyyy/MM/dd"},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("label",{attrs:{for:""}},[t._v("End date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a Date",format:"yyyy/MM/dd"},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports;function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function K(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=Q(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var G={props:["form","user"],data:function(){return{dialog:!1,loading:!1,orders:{}}},methods:{disable_btn:function(){this.loading=!0,this.$refs.google_form.submit()},close:function(){this.dialog=!1},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})},get_orders:function(){var t=this,e={model:"google_sheets",data:this.form};this.$store.dispatch("postItems",e).then((function(e){t.orders=e.data,eventBus.$emit("googleResponseEvent",e.data)}))}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){K(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["sellers","warehouses"])),created:function(){var t=this;eventBus.$on("googleUploadEvent",(function(e){t.get_orders()}))}},Z=Object(l.a)(G,(function(){var t=this,e=t._self._c;return e("v-card",[e("v-card-title",[t._v("\n        Upload orders from Woocommerce\n    ")]),t._v(" "),e("v-container",{attrs:{"grid-list-md":""}},[e("v-card-text",[e("v-layout",{attrs:{row:"",wrap:""}},[t.user.is_vendor?t._e():e("v-flex",{attrs:{sm5:""}},[e("label",{attrs:{for:""}},[t._v("Vendor")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"client",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("label",{attrs:{for:""}},[t._v("Warehouse")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{name:"warehouse",filterable:"",placeholder:"type at least 3 characters",loading:t.loading},model:{value:t.form.warehouse_id,callback:function(e){t.$set(t.form,"warehouse_id",e)},expression:"form.warehouse_id"}},t._l(t.warehouses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("label",{attrs:{for:""}},[t._v("Start date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a Date",format:"yyyy/MM/dd"},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("label",{attrs:{for:""}},[t._v("End date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a Date",format:"yyyy/MM/dd"},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports;function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function H(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=X(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=X(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==X(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tt={name:"display",props:["orders"],data:function(){return{search:"",valid:!1,invalid_row:[],headers:[{text:"Order id",value:"order_no"},{text:"Quantity",value:"quantity"},{text:"Product name",value:"product_name"},{text:"Client name",value:"client_name"},{text:"Address",value:"address"},{text:"Phone",value:"phone"},{text:"Special instructions",value:"note"},{text:"Total price",value:"cod_amount"},{text:"Actions",value:"actions"}]}},methods:{getStatus:function(){this.$store.dispatch("getItems",{model:"api_status",update:"updateApiStatusItemList"})},getApiStatuses:function(){this.$store.dispatch("getApiStatuses")},remove:function(t){var e=this.orders.sales.indexOf(t);this.orders.sales.splice(e,1)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(r),!0).forEach((function(e){H(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["products","api_status","loading"])),mounted:function(){}},et=(r(775),{name:"Order_import",props:["user"],components:{myGoogle:z,myShopify:F,myWoocommerce:Z,myDisplayOrders:Object(l.a)(tt,(function(){var t=this,e=t._self._c;return e("v-card",[e("v-card-title",{attrs:{"primary-title":""}}),t._v(" "),e("v-card-text",[e("v-data-table",{attrs:{headers:t.headers,items:t.orders.sales,search:t.search,loading:t.loading},scopedSlots:t._u([{key:"item.product_name",fn:function(r){var o=r.item;return t._l(o.products,(function(r,o){return e("v-layout",{key:o,staticStyle:{padding:"10px 0"},attrs:{row:""}},[e("v-flex",{attrs:{sm8:""}},[e("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:r.id,callback:function(e){t.$set(r,"id",e)},expression:"product.id"}},t._l(t.products.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.product_name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm4:""}},[e("el-input",{attrs:{placeholder:"Please input"},model:{value:r.quantity,callback:function(e){t.$set(r,"quantity",e)},expression:"product.quantity"}})],1)],1)}))}},{key:"item.actions",fn:function(r){var o=r.item;return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.remove(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"pink darken-2"}},[t._v("mdi-delete")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Remove")])])]}},{key:"item.address",fn:function(r){var o=r.item;return[e("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"Please input"},model:{value:o.address,callback:function(e){t.$set(o,"address",e)},expression:"item.address"}})]}},{key:"item.client_name",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Please input"},model:{value:o.client_name,callback:function(e){t.$set(o,"client_name",e)},expression:"item.client_name"}})]}},{key:"item.phone",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Please input"},model:{value:o.phone,callback:function(e){t.$set(o,"phone",e)},expression:"item.phone"}})]}},{key:"item.note",fn:function(r){var o=r.item;return[e("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"Please input"},model:{value:o.note,callback:function(e){t.$set(o,"note",e)},expression:"item.note"}})]}}])})],1)],1)}),[],!1,null,"c6afc4b6",null).exports},data:function(){return{dialog:!1,loading:!1,e1:1,form:{vendor_id:null,warehouse_id:null,platform:"",upload_type:"1"},orders:[]}},methods:{getWarehouses:function(){this.$store.dispatch("getItems",{model:"/warehouses",update:"updateWarehouseList"})},goToStep2:function(){this.loading=!0,"Excel"==this.form.platform||"Excel"==this.form.platform?eventBus.$emit("fileUploadEvent"):this.get_orders()},importOrders:function(){this.form.orders=this.orders.sales;var t={data:this.form,model:"/salesUpload"};this.$store.dispatch("postItems",t).then((function(t){eventBus.$emit("saleEvent")}))},getProducts:function(){var t={model:"client_products",update:"updateProductsList",id:this.user.is_vendor?this.user.id:this.form.vendor_id};this.$store.dispatch("showItem",t)},get_orders:function(){var t=this,e={model:"get_orders",data:this.form};this.$store.dispatch("postItems",e).then((function(e){t.getProducts(),t.orders=e.data,e.data.sales.length>0?eventBus.$emit("OrderResponseEvent"):t.$message({type:"error",message:"No Data found"})}))},close:function(){this.dialog=!1}},computed:{},created:function(){var t=this;eventBus.$on("openOrderUploadEvent",(function(e){console.log(e),t.dialog=!0,t.form.platform=e,t.getWarehouses()})),eventBus.$on("OrderResponseEvent",(function(e){console.log(e),t.loading=!1,t.e1=2}))}}),rt=Object(l.a)(et,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{persistent:"",width:"1500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-stepper",{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[e("v-stepper-header",[e("v-stepper-step",{attrs:{complete:t.e1>1,step:"1"}},[t._v("Upload details")]),t._v(" "),e("v-divider"),t._v(" "),e("v-stepper-step",{attrs:{complete:t.e1>2,step:"2"}},[t._v("Confirmation")])],1),t._v(" "),e("v-stepper-items",[e("v-stepper-content",{attrs:{step:"1"}},["Google"==t.form.platform?e("myGoogle",{attrs:{form:t.form,user:t.user}}):t._e(),t._v(" "),"Shopify"==t.form.platform?e("myShopify",{attrs:{form:t.form,user:t.user}}):t._e(),t._v(" "),"Woocommerce"==t.form.platform?e("myWoocommerce",{attrs:{form:t.form,user:t.user}}):t._e(),t._v(" "),e("v-btn",{staticStyle:{"text-transform":"none",color:"#fff"},attrs:{color:"red",rounded:""},on:{click:t.goToStep2}},[e("v-icon",[t._v("mdi-chevron-right")]),t._v(" "),e("span",[t._v("Next")])],1),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("Close")])],1),t._v(" "),e("v-stepper-content",{attrs:{step:"2"}},[2==t.e1?e("div",[e("myDisplayOrders",{attrs:{orders:t.orders}}),t._v(" "),e("v-btn",{staticStyle:{"text-transform":"none",color:"#fff"},attrs:{color:"red",rounded:""},on:{click:t.importOrders}},[e("v-icon",[t._v("mdi-import")]),t._v(" "),e("span",[t._v("Import")])],1),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:function(e){t.e1=1}}},[t._v("Back")]),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:t.close}},[t._v("Close")])],1):t._e()])],1)],1)],1)}),[],!1,null,null,null).exports,ot=r(269),at={components:{draggable:r.n(ot).a},data:function(){return{dialog:!1,form:{},table_column:[]}},methods:{save:function(){var t={model:"columns",data:this.table_column};this.$store.dispatch("postItems",t)},getColumns:function(){var t=this;this.$store.dispatch("getItems",{model:"table_column",update:"updateColumnList"}).then((function(e){t.table_column=e.data}))}},created:function(){var t=this;eventBus.$on("openCustomViewEvent",(function(e){t.dialog=!0}))},mounted:function(){this.getColumns()},computed:{}},nt=Object(l.a)(at,(function(){var t=this,e=t._self._c;return e("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Custome View\n                "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{text:"",icon:"",color:"primary",small:""},on:{click:function(e){t.dialog=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),e("v-card-text",[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Fields")])]),t._v(" "),e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Labels")])])],1),t._v(" "),e("draggable",{model:{value:t.table_column,callback:function(e){t.table_column=e},expression:"table_column"}},t._l(t.table_column,(function(r){return e("v-layout",{key:r.id,staticStyle:{"margin-top":"10px"},attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm1:""}},[e("el-checkbox",{model:{value:r.checked,callback:function(e){t.$set(r,"checked",e)},expression:"item.checked"}})],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("el-select",{attrs:{placeholder:"Select"},model:{value:r.field,callback:function(e){t.$set(r,"field",e)},expression:"item.field"}},t._l(t.table_column,(function(t,r){return e("el-option",{key:r,attrs:{label:t.field,value:t.field}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("el-input",{attrs:{placeholder:"Please input"},model:{value:r.label,callback:function(e){t.$set(r,"label",e)},expression:"item.label"}})],1),t._v(" "),e("v-flex",{attrs:{sm1:""}},[e("v-icon",[t._v("mdi-drag")])],1)],1)})),1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),e("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,it=r(506);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function ct(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=st(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=st(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==st(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ut={name:"orderRider",data:function(){return{loading:!1,dialog:!1,form:[]}},created:function(){var t=this;eventBus.$on("orderRiderEvent",(function(e){t.dialog=!0,t.form=e,t.riders.length<1&&t.getRider()}))},methods:{getRider:function(){this.$store.dispatch("getItems",{model:"rider/riders",update:"updateRidersList"})},updateRider:function(){var t={model:"rider/rider_update",id:this.form.id,data:this.form};this.$store.dispatch("patchItems",t).then((function(t){eventBus.$emit("saleEvent")}))}},mounted:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(r),!0).forEach((function(e){ct(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["riders"]))},dt=Object(l.a)(ut,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline",staticStyle:{margin:"auto"}},[t._v("Assign Rider")])]),t._v(" "),e("VDivider"),t._v(" "),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("label",{staticClass:"col-md-5 col-lg-5"},[t._v("Rider")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:t.form.rider_id,callback:function(e){t.$set(t.form,"rider_id",e)},expression:"form.rider_id"}},t._l(t.riders,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{staticStyle:{color:"#52627d"},attrs:{for:""}},[t._v("Comments")]),t._v(" "),e("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"comments",maxlength:"500","show-word-limit":""},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),e("VSpacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.updateRider}},[t._v("Update")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,vt=r(428);r(78);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function ft(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=pt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=pt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _t={props:["user"],data:function(){return{selectedItem:0}},methods:{createOrder:function(t){this.$router.push({name:"create_order"})},uploadOrder:function(t){"Excel"==t?eventBus.$emit("openExcelUploadEvent",t):eventBus.$emit("openOrderUploadEvent",t)},googleUpload:function(){eventBus.$emit("GoogleUploadEvent")},shopifyUpload:function(t){eventBus.$emit("ShopifyUploadEvent",t.row)},woocommerceUpload:function(t){eventBus.$emit("WoocommerceUploadEvent",t.row)}},mounted:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(r),!0).forEach((function(e){ft(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["api_connect"]))},yt=(r(778),Object(l.a)(_t,(function(){var t=this,e=t._self._c;return e("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,a=r.attrs;return[e("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"}},"v-btn",a,!1),o),[e("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),e("v-list",{attrs:{dense:""}},[e("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[e("v-list-item",{on:{click:function(e){return t.createOrder()}}},[e("v-list-item-icon",[e("v-icon",[t._v("mdi-plus-circle")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("New Order")])],1)],1),t._v(" "),e("v-list-item",{on:{click:function(e){return t.uploadOrder("Excel")}}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-file-excel")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Import orders from Excel")])],1)],1),t._v(" "),t.api_connect.google_sheets?e("v-list-item",{on:{click:function(e){return t.uploadOrder("Google")}}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-shopping")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Import orders from Shopify")])],1)],1):t._e(),t._v(" "),e("v-list-item",{on:{click:function(e){return t.uploadOrder("Shopify")}}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-shopping")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Import orders from Shopify")])],1)],1),t._v(" "),e("v-list-item",{on:{click:function(e){return t.uploadOrder("Woocommerce")}}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-wordpress")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v("Import orders from woocommerce")])],1)],1)],1)],1)],1)}),[],!1,null,"ee4671de",null).exports);function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function gt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=bt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=bt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xt={name:"Charges",components:{},data:function(){return{dialog:!1,form:{data:null}}},methods:{update:function(){var t={data:this.form,model:"charges_apply"};this.$store.dispatch("postItems",t).then((function(t){}))},getServices:function(){this.$store.dispatch("getItems",{model:"services",update:"updateService"})}},created:function(){var t=this;eventBus.$on("chargeEvent",(function(e){t.dialog=!0,t.form.data=e,t.getServices()}))},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach((function(e){gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["services","loading"]))},kt=Object(l.a)(xt,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.dialog?e("v-card",[e("v-card-title",[e("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[t._v("Charges")]),t._v(" "),e("VSpacer"),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){t.dialog=!1}},slot:"activator"},o),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("close")])],1)]}}],null,!1,4192872154)},[t._v(" "),e("span",[t._v("close")])])],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",filterable:"",clearable:"",multiple:""},model:{value:t.form.services_id,callback:function(e){t.$set(t.form,"services_id",e)},expression:"form.services_id"}},t._l(t.services,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),e("VSpacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.update}},[t._v("Update")])],1)],1):t._e()],1)],1)}),[],!1,null,null,null).exports;function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function wt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Ot(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=Ot(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ot(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jt={name:"assign",data:function(){return{dialog:!1,form:{},user_id:null}},created:function(){var t=this;eventBus.$on("assignEvent",(function(e){t.dialog=!0,t.form=e,t.users.length<1&&t.getUsers()}))},methods:{getUsers:function(){this.$store.dispatch("getItems",{model:"agents",update:"updateUsersList"})},update:function(){var t=this,e=this.form.map((function(t){return t.id})),r={model:"assign_agent",id:this.user_id,data:e};this.$store.dispatch("patchItems",r).then((function(e){eventBus.$emit("saleEvent","mult"),t.close(),eventBus.$emit("saleEvent")}))},close:function(){this.dialog=!1}},mounted:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?St(Object(r),!0).forEach((function(e){wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["users","errors","loading"]))},Pt=Object(l.a)(jt,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline",staticStyle:{margin:"auto"}},[t._v("Assign orders")])]),t._v(" "),e("VDivider"),t._v(" "),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("label",{staticClass:"col-md-5 col-lg-5"},[t._v("Agent")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:t.user_id,callback:function(e){t.user_id=e},expression:"user_id"}},t._l(t.users,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.errors.user_id?e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errors.user_id[0]))]):t._e()],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),e("VSpacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.update}},[t._v("Update")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,$t=r(429),Ct=r(507),Et=r(268);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function Bt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Dt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=Dt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Nt={props:["user","tenant"],components:{CopyToClipboard:r.n(Et).a,myShow:f.a,myUpload:rt,myStatus:U.a,myExcel:N,myRecording:m,myCustomView:nt,myAssign:Pt,myRider:dt,myFilter:vt.a,myOrder:yt,mySetup:$t.a,myContact:c,myStatusMult:Ct.a,myCharges:kt,myPod:it.a},inject:["theme"],data:function(){return{overlay:!1,dynamic_text:"",s_color:"#95bf47",w_color:"#9b5c8f",g_color:"#34a853",singleSelect:!1,selected:[],order_item:{search:""},filter_form:{app_custom_id:null},form:{},ready:!1,deleted_orders:!1,search:"",checkedRows:[],activeName:"All",columns:[{label:"Created On",field:"created_at"},{label:"Client Name",field:"client_name"},{label:"Created By",field:"user_name"},{label:"Sub total",field:"sub_total"},{label:"Discount",field:"discount"},{label:"Total",field:"total_price"},{label:"Charges",field:"shipping_charges"},{label:"Printed",field:"printed"},{label:"Actions",field:"actions",sortable:!1}],snack:!1,setup_loaded:!0,tab_filter:"all",default_filter:!0,search_filter:!1,comment_dialog:!1,comment_form:{comment:""}}},filters:{columnHead:function(t){return t.split("_").join(" ").toUpperCase()}},methods:{canUpdateStatus:function(t){var e=this.user.roles[0].name;console.log(e);var r=t.delivery_status;return["Call Center","Follow Up"].includes(e)?["New","Pending","Out Of Stock","Cancelled","Undispatched","Rescheduled","Returned","Scheduled"].includes(r):!["Operations","Warehouse"].includes(e)&&("Finance"===e?["In Transit","Awaiting Return","Return Pending","Pending Approval","Return received"].includes(r):!this.user.is_vendor)},isButtonDisabled:function(t){return"Delivered"===t.delivery_status},getButtonColor:function(t){return{Delivered:"success",Dispatched:"warning",Scheduled:"primary",New:"teal",Returned:"error",Cancelled:"error"}[t]||""},getStatusIcon:function(t){return{Delivered:"mdi-check-circle-outline",Dispatched:"mdi-progress-check",Scheduled:"mdi-update",New:"mdi-new-box",Returned:"mdi-cancel",Cancelled:"mdi-cancel"}[t]||"mdi-progress-alert"},upsell:function(t){var e=this,r={data:{},model:"upsell",id:t};this.$store.dispatch("patchItems",r).then((function(t){e.refreshSales()}))},editProduct:function(t){eventBus.$emit("productEvent",t)},update_item:function(t,e){var r={data:{update:e,data:t},model:"order_edit",id:t.id};this.$store.dispatch("patchItems",r).then((function(t){}))},assignOrders:function(){eventBus.$emit("assignEvent",this.selected)},makecall:function(t,e){var r=t.client.phone;"alt_phone"==e&&(r=t.client.alt_phone);var o={call:"api",phoneNumber:r,order:t,data:t.client?t.client:t};eventBus.$emit("callEvent",o)},open_pod:function(t){eventBus.$emit("openPod",t)},update_date:function(t){var e={data:t,model:"delivery_date",id:t.id};this.$store.dispatch("patchItems",e).then((function(t){}))},getOrderZones:function(t){var e=t,r={model:"sale_zones/"+t.id,update:"UpdateEmpty"};this.$store.dispatch("getItems",r).then((function(t){e.zone_to=t.data.zone_to,e.zone_from=t.data.zone_id,eventBus.$emit("orderStatusEvent",e)}))},copyText:function(t){var e=document.createElement("textarea");e.textContent=t,e.setAttribute("style","position:absolute; right:200%;"),document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),e.remove()},handleClick:function(t,e){this.tab_filter=t.name,this.refreshSales()},cancel:function(){},open_dialog:function(){},update_data:function(t){var e={data:t,model:"order_update",id:t.id};this.$store.dispatch("patchItems",e).then((function(t){}))},filter:function(){this.overlay=!0,eventBus.$emit("openFilterEvent")},close:function(){},open:function(t,e,r){var o=this;this.$prompt("Please enter reason for re-printing",{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then((function(a){var n=a.value;"mult"==r?o.printmult_change(t,n):o.print_change(t,e,n)})).catch((function(){}))},print_change:function(t,e,r){var o=this,a={model:"/print_change",id:e,data:{printed:t,comment:r}};this.$store.dispatch("patchItems",a).then((function(t){o.refreshSales()}))},printmult_change:function(t,e){var r=this,o={model:"/print_mult_change",data:{orders:this.selected,printed:t,comment:e}};this.$store.dispatch("postItems",o).then((function(){r.refreshSales()}))},search_order:function(){this.search_filter=!0,this.default_filter=!1;var t={model:"order_search",update:"updateSaleList",search:this.order_item.search};this.$store.dispatch("searchItems",t)},printOrder:function(){},openOrder:function(t){eventBus.$emit("drawerEvent",t.id)},openShow:function(t){eventBus.$emit("openShowSale",t)},openCalls:function(t){eventBus.$emit("showEvent",t)},googleUpload:function(){eventBus.$emit("GoogleUploadEvent")},updateStatus:function(t){this.user.can["Order update status"]&&this.getOrderZones(t)},openComment:function(t){this.comment_id=t,this.comment_dialog=!0},addComment:function(){this.comment_form.sale_id=this.comment_id;var t={model:"comments",data:this.comment_form};this.$store.dispatch("postItems",t)},assign:function(t,e){eventBus.$emit(e,t)},openEdit:function(t){var e=t.id;this.$router.push({name:"editOrder",params:{id:e}}),this.getWarehouses()},get_orders:function(t){var e=this;if(t){var r={model:"/app_custom",id:t,update:"updateSaleList"};this.$store.dispatch("showItem",r).then((function(t){e.columns=t.data.columns}))}else this.getSales()},confirm_delete:function(t){var e=this;this.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.deleteItem(t)})).catch((function(){e.$message({type:"error",message:"Delete canceled"})}))},restore_order:function(t){var e=this;this.$confirm("This will restore this order. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.restoreItem(t)})).catch((function(){e.$message({type:"error",message:"Restore canceled"})}))},restoreItem:function(t){var e=this,r={model:"sales_restore",data:{},id:t.id};this.$store.dispatch("patchItems",r).then((function(t){e.deletedOrders()}))},customView:function(){eventBus.$emit("openCustomViewEvent")},uploadOrder:function(t){eventBus.$emit("openOrderUploadEvent",t.row)},createOrder:function(t){this.$router.push({name:"create_order"})},deleteItem:function(t){var e=this;this.$store.dispatch("deleteItem","sales/"+t.id).then((function(t){e.$message({type:"success",message:"Delete completed"}),e.get_orders()}))},applyCharge:function(){eventBus.$emit("chargeEvent",this.selected)},returnOrder:function(){var t=this;this.$confirm("Return this orders. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){var e={model:"send_returns",data:t.selected};t.$store.dispatch("postItems",e).then((function(e){t.refreshSales(),t.selected=[]}))})).catch((function(){}))},deleteItems:function(){var t=this;this.$confirm("This will delete the Order. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.get_orders();var e={model:"/sales_delete",data:t.selected};t.$store.dispatch("postItems",e).then((function(e){t.selected=[],t.get_orders()}))})).catch((function(){t.$message({type:"error",message:"Delete canceled"})}))},getSales:function(){var t=this,e={model:"sale_filter",update:"updateSaleList",data:this.form};this.$store.dispatch("filterItems",e).then((function(e){t.ready=!0,t.deleted_orders=!1}))},refreshSales:function(){if(this.deleted_orders=!1,this.search_filter){var t={path:this.sales.sales.path,page:this.sales.sales.current_page,tab:this.tab_filter};eventBus.$emit("filterItemsEvent",t),this.search_filter=!1}else if(this.default_filter){t={path:this.sales.sales.path,page:this.sales.sales.current_page,tab:this.tab_filter};eventBus.$emit("refreshEvent",t)}else{var t={tab:this.tab_filter};this.default_filter=!0,eventBus.$emit("filterItemsEvent")}},downloadSale:function(){if(this.search_filter){var t={path:this.sales.sales.path,page:this.sales.sales.current_page,tab:this.tab_filter};eventBus.$emit("downloadItemsEvent",t),this.search_filter=!1}else if(this.default_filter){t={path:this.sales.sales.path,page:this.sales.sales.current_page,tab:this.tab_filter};eventBus.$emit("downloadItemsEvent",t)}else{var t={tab:this.tab_filter};this.default_filter=!0,eventBus.$emit("downloadItemsEvent")}},deletedOrders:function(){var t=this;this.$store.dispatch("getItems",{model:"deleted_sales",update:"updateSaleList"}).then((function(e){t.deleted_orders=!0,t.ready=!0}))},get_filter:function(t){var e=this,r={model:"/columns",id:this.user.id,update:"updateFilterList"};this.$store.dispatch("showItem",r).then((function(t){e.deleted_orders=!1,e.form.app_custom_id=t.data.id,e.filter_form.app_custom_id=t.data.id,t.data>0&&e.get_orders(t.data.id)}))},getWarehouses:function(){this.$store.dispatch("getItems",{model:"/warehouses",update:"updateWarehouseList"})},getCustom:function(){this.$store.dispatch("getItems",{model:"/app_custom",update:"updateAppCustomList"})},next_page:function(t,e){var r={path:t,page:e};eventBus.$emit("refreshNextEvent",r)},getSetup:function(){var t=this;this.$store.dispatch("getItems",{model:"/setup",update:"updateSetup"}).then((function(e){t.setup_loaded=!0}))},orderStatus:function(){eventBus.$emit("multStatusEvent",this.selected)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?It(Object(r),!0).forEach((function(e){Bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["app_custom","sales","loading","custom_sale","setup"])),mounted:function(){eventBus.$emit("LoadingEvent"),this.getSales()},created:function(){var t=this;eventBus.$on("saleEvent",(function(e){t.refreshSales(),t.selected=[]})),eventBus.$on("closeFilterEvent",(function(e){t.overlay=!1})),eventBus.$on("statusChangeEvent",(function(e){for(var r=0;r<t.sales.sales.data.length;r++){var o=t.sales.sales.data[r];if(o.id==e.id)var a=o}var n=t.sales.sales.data.indexOf(a);if(-1!==n){var i={data:e,index:n};t.$store.dispatch("updateStatus",i)}})),eventBus.$on("responseChooseEvent",(function(t){"Excel"==t?eventBus.$emit("openEditSale"):eventBus.$emit("openCreateSale")}))},beforeRouteEnter:function(t,e,r){r((function(t){t.user.can["Order view"]?r():r("/")}))},beforeRouteLeave:function(t,e,r){r()}},Ut=(r(780),Object(l.a)(Nt,(function(){var t=this,e=t._self._c;return e("div",[e("v-container",{attrs:{fluid:"","fill-height":"",id:"orders"}},[e("v-overlay",{attrs:{value:t.overlay}}),t._v(" "),t.ready?e("v-card",{staticStyle:{padding:"20px 20px"},attrs:{width:"100%"}},[e("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("Dashboard")]),t._v(" "),e("el-breadcrumb-item",[t._v("Sales")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-flex",{attrs:{sm8:""}},[e("v-text-field",{attrs:{label:"Search waybill(order no, phone, name)",required:"","prepend-icon":"mdi-magnify"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_order.apply(null,arguments)}},model:{value:t.order_item.search,callback:function(e){t.$set(t.order_item,"search",e)},expression:"order_item.search"}})],1),t._v(" "),e("v-flex",{attrs:{sm3:"","offset-sm1":"",id:"filter"}},[e("myFilter",{attrs:{form:t.filter_form,user:t.user}})],1),t._v(" "),e("v-dialog",{attrs:{width:"500"},model:{value:t.comment_dialog,callback:function(e){t.comment_dialog=e},expression:"comment_dialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v("\n                            Comment\n                        ")]),t._v(" "),e("v-card-text",{staticStyle:{"padding-top":"20px"}},[e("el-input",{attrs:{placeholder:"Please input"},model:{value:t.comment_form.comment,callback:function(e){t.$set(t.comment_form,"comment",e)},expression:"comment_form.comment"}})],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"primary",text:""},on:{click:t.addComment}},[e("v-icon",[t._v("mdi-comment")]),t._v(" "),e("span",[t._v("Comment")])],1)],1)],1)],1),t._v(" "),e("v-flex",{staticStyle:{margin:"30px 0"},attrs:{sm12:""}},[t.sales.sales.last_page>1?e("v-pagination",{attrs:{length:t.sales.sales.last_page,"total-visible":"5",circle:""},on:{input:function(e){return t.next_page(t.sales.sales.path,t.sales.sales.current_page)}},model:{value:t.sales.sales.current_page,callback:function(e){t.$set(t.sales.sales,"current_page",e)},expression:"sales.sales.current_page"}}):t._e()],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm8:""}},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"All",name:"All"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Follow up",name:"Open"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"New",name:"New"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Pending",name:"Pending"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Confirmed",name:"Confirmed"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Undispatched",name:"Undispatched"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Awaiting Dispatch",name:"Awaiting Dispatch"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Awaiting Return",name:"Awaiting Return"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Shipped",name:"Shipped"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Closed",name:"Closed"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Returned",name:"Returned"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"Out Of Stock",name:"Out Of Stock"}})],1)],1),t._v(" "),e("v-flex",{attrs:{sm3:""}},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.refreshSales},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-refresh")])],1)]}}],null,!1,3244470444)},[t._v(" "),e("span",[t._v("Refresh")])]),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.downloadSale},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-file-excel")])],1)]}}],null,!1,1812056439)},[t._v(" "),e("span",[t._v("Download")])]),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.filter},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-filter")])],1)]}}],null,!1,2821125572)},[t._v(" "),e("span",[t._v("Filter")])]),t._v(" "),e("myOrder")],1)],1)],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Quick Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e("v-data-table",{staticClass:"elevation-1",staticStyle:{"font-size":"10px !important"},attrs:{headers:t.sales.columns,items:t.sales.sales.data,search:t.search,"single-select":t.singleSelect,"item-key":"id","show-select":"",loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.customView},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-face-agent")])],1)]}}],null,!1,324424207)},[t._v(" "),e("span",[t._v("Custom view")])]),t._v(" "),t.user.can["Order update status"]&&t.selected.length>0&&!t.deleted_orders?e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.orderStatus},slot:"activator"},o),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-upload-network-outline")])],1)]}}],null,!1,3406986819)},[t._v(" "),e("span",[t._v("Update orders Status")])]):t._e(),t._v(" "),t.selected.length>0&&!t.deleted_orders&&t.user.can["Order assign"]?e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.assignOrders},slot:"activator"},o),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-clipboard-text")])],1)]}}],null,!1,3194942244)},[t._v(" "),e("span",[t._v("Assign to an agent")])]):t._e(),t._v(" "),t.selected.length>0&&t.user.can["Order print edit"]&&!t.deleted_orders?e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.open(0,0,"mult")}},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-printer-check")])],1)]}}],null,!1,2249689019)},[t._v(" "),e("span",[t._v("Mark orders as printed")])]):t._e(),t._v(" "),t.selected.length>0&&t.user.can["Order print edit"]&&!t.deleted_orders?e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.open(1,0,"mult")}},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-tray-remove")])],1)]}}],null,!1,4279011042)},[t._v(" "),e("span",[t._v("Mark orders as not printed")])]):t._e(),t._v(" "),t.user.can["Order delete"]?e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.deletedOrders},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-delete-sweep-outline")])],1)]}}],null,!1,2220292649)},[t._v(" "),e("span",[t._v("Deleted Orders")])]):t._e(),t._v(" "),t.selected.length>0&&t.user.can["Order delete"]&&!t.deleted_orders?e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.deleteItems},slot:"activator"},o),[e("v-icon",{attrs:{color:"red darken-2",small:""}},[t._v("mdi-delete")])],1)]}}],null,!1,656046575)},[t._v(" "),e("span",[t._v("Delete selected orders")])]):t._e(),t._v(" "),t.selected.length>0&&!t.deleted_orders&&t.user.can["Manage service"]?e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.applyCharge},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-cash")])],1)]}}],null,!1,3033195187)},[t._v(" "),e("span",[t._v("Apply charges")])]):t._e(),t._v(" "),t.selected.length?e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.returnOrder},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-file-send")])],1)]}}],null,!1,20201303)},[t._v(" "),e("span",[t._v("Send for return")])]):t._e()]},proxy:!0},{key:"item.created_at",fn:function(r){var o=r.item;return[e("el-tag",{attrs:{type:"warning"}},[t._v(t._s(o.created_at))])]}},t.user.can["Order edit"]||t.user.is_vendor?{key:"item.delivery_date",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.delivery_date,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"delivery_date",e)},"update:return-value":function(e){return t.$set(r.item,"delivery_date",e)},save:function(e){return t.update_date(r.item)},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update name\n                                    ")]),t._v(" "),e("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","value-format":"yyyy-MM-dd"},model:{value:r.item.delivery_date,callback:function(e){t.$set(r.item,"delivery_date",e)},expression:"props.item.delivery_date"}})]},proxy:!0}],null,!0)},[e("el-tag",{attrs:{type:"info"}},[t._v(t._s(r.item.delivery_date))])],1)]}}:null,{key:"item.sub_total",fn:function(r){var o=r.item;return[e("el-tag",{attrs:{type:"info"}},[t._v(t._s(o.sub_total))])]}},{key:"item.total",fn:function(r){var o=r.item;return[e("el-tag",{attrs:{type:"error"}},[t._v(t._s(o.total))])]}},{key:"item.delivery_status",fn:function(r){var o=r.item;return[t.canUpdateStatus(o)?e("div",[e("v-btn",{attrs:{disabled:t.isButtonDisabled(o),color:t.getButtonColor(o.delivery_status),text:"",label:""},on:{click:function(e){return t.updateStatus(o)}}},[e("v-icon",{attrs:{left:""}},[t._v("\n                                        "+t._s(t.getStatusIcon(o.delivery_status))+"\n                                    ")]),t._v("\n                                    "+t._s(o.delivery_status)+"\n                                ")],1)],1):e("div",[e("v-btn",{attrs:{color:t.getButtonColor(o.delivery_status),text:"",label:"",disabled:""}},[e("v-icon",{attrs:{left:""}},[t._v("\n                                        "+t._s(t.getStatusIcon(o.delivery_status))+"\n                                    ")]),t._v("\n                                    "+t._s(o.delivery_status)+"\n                                ")],1)],1)]}},{key:"item.paid",fn:function(t){var r=t.item;return[e("el-tooltip",{attrs:{content:r.paid?"Paid":"Not paid",placement:"top"}},[e("v-avatar",{staticStyle:{cursor:"pointer"},attrs:{color:r.paid?"green":"red",small:""}})],1)]}},{key:"item.printed",fn:function(r){var o=r.item;return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[t.user.can["Order print edit"]?e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.open(o.printed,o.id)}},slot:"activator"},a),[o.printed?e("v-icon",{attrs:{small:"",color:"green"}},[t._v("mdi-check-circle")]):e("v-icon",{attrs:{small:"",color:"grey darken-2"}},[t._v("mdi-check-circle")])],1):e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},slot:"activator"},a),[o.printed?e("v-icon",{attrs:{small:"",color:"green"}},[t._v("mdi-check-circle")]):e("v-icon",{attrs:{small:"",color:"grey darken-2"}},[t._v("mdi-check-circle")])],1)]}}],null,!0)},[t._v(" "),o.printed?e("span",[t._v("Mark order as not printed ")]):e("span",[t._v("Mark order as printed ")])])]}},{key:"item.mpesa_code",fn:function(r){var o=r.item;return[e("el-tag",[t._v(t._s(o.mpesa_code))])]}},{key:"item.order_no",fn:function(r){var o=r.item;return[e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.openOrder(o)}}},["Shopify"==o.platform?e("v-icon",{staticStyle:{"font-size":"16px","margin-right":"10px"},attrs:{color:t.s_color,small:""}},[t._v("fab fa-shopify")]):"Woocommerce"==o.platform?e("v-icon",{staticStyle:{"font-size":"16px","margin-right":"10px"},attrs:{color:t.w_color,small:""}},[t._v("fab\n                                    fa-wordpress-simple")]):"Google Sheets"==o.platform?e("v-icon",{staticStyle:{"font-size":"16px","margin-right":"10px"},attrs:{color:t.g_color,small:""}},[t._v("mdi-google-spreadsheet")]):"API"==o.platform?e("v-icon",{staticStyle:{"font-size":"16px","margin-right":"10px"},attrs:{color:"primary",small:""}},[t._v("mdi-api")]):"Upload"==o.platform?e("v-icon",{staticStyle:{"font-size":"16px","margin-right":"10px"},attrs:{color:"primary",small:""}},[t._v("fas fa-file-excel")]):e("v-icon",{staticStyle:{"font-size":"16px","margin-right":"10px"},attrs:{color:"red",small:""}},[t._v("mdi-monitor-dashboard")]),t._v("\n                                "+t._s(o.order_no)+"\n                            ")],1),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on,n=r.attrs;return[e("v-btn",t._g(t._b({staticStyle:{float:"right"},attrs:{icon:"",color:"primary"},on:{click:function(e){return t.copyText(o.order_no)}}},"v-btn",n,!1),a),[e("v-icon",{attrs:{small:""}},[t._v("mdi-content-copy")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Copy order No.")])])]}},t.user.can["Order edit"]||t.user.is_vendor?{key:"item.delivered_on",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.delivered_on,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"delivered_on",e)},"update:return-value":function(e){return t.$set(r.item,"delivered_on",e)},save:function(e){return t.update_item(r.item,"delivered_on")},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update\n                                    ")]),t._v(" "),e("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","value-format":"yyyy-MM-dd"},model:{value:r.item.delivered_on,callback:function(e){t.$set(r.item,"delivered_on",e)},expression:"props.item.delivered_on"}})]},proxy:!0}],null,!0)},[e("el-tag",{attrs:{type:"info"}},[t._v(t._s(r.item.delivered_on))])],1)]}}:null,t.user.can["Order edit"]||t.user.is_vendor?{key:"item.returned_on",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.returned_on,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"returned_on",e)},"update:return-value":function(e){return t.$set(r.item,"returned_on",e)},save:function(e){return t.update_item(r.item,"returned_on")},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update\n                                    ")]),t._v(" "),e("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","value-format":"yyyy-MM-dd"},model:{value:r.item.returned_on,callback:function(e){t.$set(r.item,"returned_on",e)},expression:"props.item.returned_on"}})]},proxy:!0}],null,!0)},[e("el-tag",{attrs:{type:"info"}},[t._v(t._s(r.item.returned_on))])],1)]}}:null,{key:"item.pod",fn:function(r){var o=r.item;return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.open_pod(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-eye")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("View PDO")])])]}},t.user.can["Order view"]?{key:"item.actions",fn:function(r){var o=r.item;return[e("div",{staticStyle:{"min-width":"280px"}},[t.user.can.Recordings?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openCalls(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"red darken-2"}},[t._v("mdi-play-circle")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Recordings")])]):t._e(),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openShow(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-magnify-plus-cursor")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Quick view")])]),t._v(" "),t.user.can["Order edit"]&&!t.deleted_orders?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openEdit(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-pencil")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Edit order "+t._s(o.order_no))])]):t._e(),t._v(" "),t.user.can["Order update status"]&&!t.deleted_orders?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.updateStatus(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-upload-network-outline")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Update order "+t._s(o.order_no)+" Status")])]):t._e(),t._v(" "),t.user.can["Order update status"]&&!t.deleted_orders?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openComment(o.id)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-comment")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Comment")])]):t._e(),t._v(" "),t.user.can["Order assign rider"]&&!t.deleted_orders?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.assign(o,"orderRiderEvent")}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-registered-trademark")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Assign order "+t._s(o.order_no)+" to a rider")])]):t._e(),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t.user.can["Order view details"]?{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openOrder(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-eye")])],1)]}}:null],null,!0)},[t._v(" "),e("span",[t._v("Order "+t._s(o.order_no)+" details")])]),t._v(" "),!t.user.can["Order print edit"]||o.printed||t.deleted_orders?t._e():e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:"",href:"/pack_download/"+o.id,target:"_blank"},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-printer")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Print Waybill "+t._s(o.order_no))])]),t._v(" "),!t.user.can["Order print edit"]||o.printed||t.deleted_orders?t._e():e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:"",href:"/sticker_pdf/"+o.id,target:"_blank"},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-barcode-scan")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Print sticker "+t._s(o.order_no))])]),t._v(" "),t.user.can["Order delete"]&&!t.deleted_orders?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.confirm_delete(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"pink darken-2"}},[t._v("mdi-delete")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Delete order "+t._s(o.order_no))])]):t._e(),t._v(" "),t.user.can["Order delete"]&&t.deleted_orders?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.restore_order(o)}},slot:"activator"},a),[e("v-icon",{attrs:{small:"",color:"pink darken-2"}},[t._v("mdi-history")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Delete order "+t._s(o.order_no))])]):t._e()],1)]}}:null,t.user.can["Order edit"]?{key:"item.client_phone",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.client_phone,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"client_phone",e)},"update:return-value":function(e){return t.$set(r.item,"client_phone",e)},save:function(e){return t.update_data(r.item)},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update phone\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.client_phone,callback:function(e){t.$set(r.item,"client_phone",e)},expression:"props.item.client_phone"}})]},proxy:!0}],null,!0)},[e("div",[t._v(t._s(r.item.client_phone))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(o){var a=o.on,n=o.attrs;return[e("v-btn",t._g(t._b({staticStyle:{float:"right"},attrs:{icon:"",color:"primary"},on:{click:function(e){return t.makecall(r.item,"phone")}}},"v-btn",n,!1),a),[e("v-icon",{attrs:{small:""}},[t._v("mdi-phone")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Call")])])]}}:null,{key:"item.alt_phone",fn:function(r){return[e("span",[t._v("\n                                "+t._s(r.item.alt_phone)+"\n                            ")]),t._v(" "),r.item.alt_phone?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(o){var a=o.on,n=o.attrs;return[e("v-btn",t._g(t._b({staticStyle:{float:"right"},attrs:{icon:"",color:"primary"},on:{click:function(e){return t.makecall(r.item,"alt_phone")}}},"v-btn",n,!1),a),[e("v-icon",{attrs:{small:""}},[t._v("mdi-phone")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Call")])]):t._e()]}},t.user.can["Order edit"]?{key:"item.client_name",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.client_name,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"client_name",e)},"update:return-value":function(e){return t.$set(r.item,"client_name",e)},save:function(e){return t.update_data(r.item)},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update name\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.client_name,callback:function(e){t.$set(r.item,"client_name",e)},expression:"props.item.client_name"}})]},proxy:!0}],null,!0)},[e("div",[t._v(t._s(r.item.client_name))])])]}}:null,t.user.can["Order edit"]?{key:"item.client_address",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.client_address,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"client_address",e)},"update:return-value":function(e){return t.$set(r.item,"client_address",e)},save:function(e){return t.update_data(r.item)},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update address\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.client_address,callback:function(e){t.$set(r.item,"client_address",e)},expression:"props.item.client_address"}})]},proxy:!0}],null,!0)},[e("span",{attrs:{id:"address_tab"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:r.item.client_address,placement:"top-start"}},[e("span",[t._v("\n                                            "+t._s(r.item.client_address)+"\n                                        ")])])],1)])]}}:null,t.user.can["Order edit"]?{key:"item.client_city",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.client_city,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"client_city",e)},"update:return-value":function(e){return t.$set(r.item,"client_city",e)},save:function(e){return t.update_data(r.item)},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update address\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.client_city,callback:function(e){t.$set(r.item,"client_city",e)},expression:"props.item.client_city"}})]},proxy:!0}],null,!0)},[e("span",{attrs:{id:"address_tab"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:r.item.client_city,placement:"top-start"}},[e("span",[t._v("\n                                            "+t._s(r.item.client_city)+"\n                                        ")])])],1)])]}}:null,t.user.can["Order edit"]?{key:"item.total_price",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.total_price,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"total_price",e)},"update:return-value":function(e){return t.$set(r.item,"total_price",e)},save:function(e){return t.update_item(r.item,"total_price")},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update amount\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.total_price,callback:function(e){t.$set(r.item,"total_price",e)},expression:"props.item.total_price"}})]},proxy:!0}],null,!0)},[e("el-tag",{attrs:{type:"info"}},[t._v(t._s(r.item.total_price))])],1)]}}:null,t.user.can["Order edit"]?{key:"item.weight",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.weight,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"weight",e)},"update:return-value":function(e){return t.$set(r.item,"weight",e)},save:function(e){return t.update_item(r.item,"weight")},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update Weight\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.weight,callback:function(e){t.$set(r.item,"weight",e)},expression:"props.item.weight"}})]},proxy:!0}],null,!0)},[e("el-tag",{attrs:{type:"info"}},[t._v(t._s(r.item.weight))])],1)]}}:null,t.user.can["Order edit"]?{key:"item.shipping_charges",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.shipping_charges,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"shipping_charges",e)},"update:return-value":function(e){return t.$set(r.item,"shipping_charges",e)},save:function(e){return t.update_item(r.item,"shipping_charges")},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update Charges\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.shipping_charges,callback:function(e){t.$set(r.item,"shipping_charges",e)},expression:"props.item.shipping_charges"}})]},proxy:!0}],null,!0)},[e("el-tag",{attrs:{type:"info"}},[t._v(t._s(r.item.shipping_charges))])],1)]}}:null,t.user.can["Order edit"]?{key:"item.invoice_value",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.invoice_value,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"invoice_value",e)},"update:return-value":function(e){return t.$set(r.item,"invoice_value",e)},save:function(e){return t.update_item(r.item,"invoice_value")},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update name\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.invoice_value,callback:function(e){t.$set(r.item,"invoice_value",e)},expression:"props.item.invoice_value"}})]},proxy:!0}],null,!0)},[e("el-tag",{attrs:{type:"info"}},[t._v(t._s(r.item.invoice_value))])],1)]}}:null,t.user.can["Order edit"]?{key:"item.customer_notes",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.customer_notes,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"customer_notes",e)},"update:return-value":function(e){return t.$set(r.item,"customer_notes",e)},save:function(e){return t.update_item(r.item,"customer_notes")},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                                        Update Notes\n                                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.customer_notes,callback:function(e){t.$set(r.item,"customer_notes",e)},expression:"props.item.customer_notes"}})]},proxy:!0}],null,!0)},[e("span",{attrs:{id:"address_tab"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:r.item.customer_notes,placement:"top-start"}},[e("span",[t._v("\n                                            "+t._s(r.item.customer_notes)+"\n                                        ")])])],1)])]}}:null,{key:"item.product_name",fn:function(r){return[e("div",{on:{click:function(e){return t.openShow(r.item)}}},[e("span",{attrs:{id:"address_tab"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:r.item.product_name,placement:"top-start"}},[e("span",[t._v("\n                                            "+t._s(r.item.product_name)+"\n                                        ")])])],1)]),t._v(" "),t.user.can["Order edit"]?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(o){var a=o.on,n=o.attrs;return[e("v-btn",t._g(t._b({staticStyle:{float:"right"},attrs:{icon:"",color:"primary"},on:{click:function(e){return t.editProduct(r.item)}}},"v-btn",n,!1),a),[e("v-icon",{attrs:{small:""}},[t._v("mdi-pencil-circle")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Edit")])]):t._e()]}},{key:"item.upsell",fn:function(r){var o=r.item;return[e("v-checkbox",{attrs:{disabled:!t.user.roles[0].Admin},on:{click:function(e){return t.upsell(o.id)}},model:{value:o.upsell,callback:function(e){t.$set(o,"upsell",e)},expression:"item.upsell"}})]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1):e("v-sheet",{staticClass:"px-3 pt-3 pb-3",staticStyle:{width:"100vw"},attrs:{color:"grey ".concat(t.theme.isDark?"darken-2":"lighten-4")}},[e("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-width":"900",type:"table"}})],1),t._v(" "),e("myShow"),t._v(" "),e("myStatus"),t._v(" "),e("myUpload",{attrs:{user:t.user,tenant:t.tenant}}),t._v(" "),e("myExcel",{attrs:{user:t.user,tenant:t.tenant}}),t._v(" "),e("myCustomView"),t._v(" "),e("myContact"),t._v(" "),e("myRider"),t._v(" "),e("myStatusMult"),t._v(" "),e("myCharges"),t._v(" "),e("myAssign"),t._v(" "),e("myPod"),t._v(" "),e("myRecording")],1)],1)}),[],!1,null,null,null));e.default=Ut.exports},735:function(t,e,r){"use strict";r(599)},736:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".pulse[data-v-446ca4b9]{margin-left:50%;display:block;width:22px;height:22px;border-radius:50%;background:#2bb956;cursor:pointer;box-shadow:0 0 0 rgba(43,185,86,.67);animation:pulse-446ca4b9 2s infinite}@keyframes pulse-446ca4b9{0%{box-shadow:0 0 0 rgba(43,185,86,.67)}70%{box-shadow:0 0 0 10px rgba(204,169,44,0)}to{box-shadow:0 0 0 0 rgba(204,169,44,0)}}",""])},737:function(t,e,r){"use strict";r(600)},738:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".pulse[data-v-6f092efa]{margin-left:50%;display:block;width:22px;height:22px;border-radius:50%;background:rgba(225,19,19,.788235294117647);cursor:pointer;box-shadow:0 0 0 rgba(198,40,40,.67);animation:pulse-6f092efa 2s infinite}@keyframes pulse-6f092efa{0%{box-shadow:0 0 0 rgba(198,40,40,.67)}70%{box-shadow:0 0 0 10px rgba(204,169,44,0)}to{box-shadow:0 0 0 0 rgba(204,169,44,0)}}",""])},771:function(t,e,r){"use strict";r(616)},772:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,"a{text-decoration:none!important}",""])},773:function(t,e,r){"use strict";r(617)},774:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".el-collapse-item__header{color:red!important}.not_valid{background-color:red}",""])},775:function(t,e,r){"use strict";r(618)},776:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".el-collapse-item__header[data-v-c6afc4b6]{color:red!important}",""])},778:function(t,e,r){"use strict";r(619)},779:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".el-dropdown-link[data-v-ee4671de]{cursor:pointer;color:#409eff}.el-icon-arrow-down[data-v-ee4671de]{font-size:12px}",""])},78:function(t,e,r){"use strict";var o=r(2);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={name:"integration",data:function(){return{dialog:!1,form:{file:""},mpesa_data:{id:"",customer_key:"",customer_secret:"",shortcode:"",confirmation_url:"",validation_url:"",environment:"",account_type:"Till",registered:"",created_at:"",updated_at:""},headers:{_token:document.querySelector('meta[name="csrf-token"]').getAttribute("content")},api_data:"",jsonstr:"",jsonerror:""}},created:function(){var t=this;eventBus.$on("ApiConnectEvent",(function(e){console.log("ðŸš€ ~ file: api.vue:201 ~ created ~ data:",e),"google_sheets"==e.value?t.get_json():"m_pesa"==e.value?t.getMpesa():"twilio"!=e.value&&"africas_talking"!=e.value&&"celcomafrica"!=e.value||t.getApi(0),t.api_data=e,t.dialog=!0}))},methods:{save:function(){if("m_pesa"==this.api_data.value){var t={model:"mpesa-store/",data:this.mpesa_data};this.$store.dispatch("postItems",t).then((function(t){}))}else{t={model:"api_connect/"+this.api_data.value,data:this.form};this.$store.dispatch("postItems",t).then((function(t){}))}},register:function(){var t={model:"url_register/",data:this.mpesa_data};this.$store.dispatch("postItems",t).then((function(t){})).catch((function(t){console.log(t)}))},getSellers:function(){this.$store.dispatch("getItems",{model:"/seller/sellers",update:"updateSellerList"})},get_json:function(){var t=this;this.$store.dispatch("getItems",{model:"get_json",update:"updatApi"}).then((function(e){console.log(e),e.data&&(t.form.file=JSON.stringify(e.data,null,2))}))},getApi:function(t){var e=this,r={model:"api_exist",id:t,update:"updatApi"};this.$store.dispatch("showItem",r).then((function(r){console.log(r),r.data?(e.form=r.data,e.form.file=JSON.stringify(r.data.file,null,2)):e.form={vendor_id:t,file:""}}))},getMpesa:function(){var t=this;this.$store.dispatch("getItems",{model:"mpesa",update:"updatEmpty"}).then((function(e){console.log(e),t.mpesa_data=e.data}))},submitUpload:function(){this.$refs.upload.submit()},close:function(){this.dialog=!1},get_data:function(t){var e=this;console.log(t);var r={model:"api_exist",id:t.site,update:"updatApi"};this.$store.dispatch("showItem",r).then((function(t){console.log(t),t.data&&(e.form=t.data)}))}},filters:{pretty:function(t){return JSON.stringify(JSON.parse(t),null,2)}},computed:i(i({},Object(o.b)(["loading","sellers"])),{},{prettyFormat:function(){this.jsonerror="";var t="";try{t=JSON.parse(this.form.file)}catch(t){this.jsonerror=JSON.stringify(t.message);var e=document.getElementById("jsonText");if(this.jsonerror.indexOf("position")>-1){var r=this.jsonerror.lastIndexOf("position")+8,o=parseInt(this.jsonerror.substr(r,this.jsonerror.lastIndexOf('"')));o>=0&&e.setSelectionRange(o,o+1)}return""}return JSON.stringify(t,null,2)}}),mounted:function(){this.getSellers()}},c=r(0),u=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{staticStyle:{padding:"0 20px"}},[e("v-card-title",[e("span",{staticClass:"headline text-center",staticStyle:{margin:"auto"}},[t._v(t._s(t.api_data.site)+" Connection")])]),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-card-text",[e("v-layout",{attrs:{row:"",wrap:""}},["woocommerce"==t.api_data.value||"shopify"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{staticStyle:{color:"#52627d"},attrs:{for:""}},[t._v("Vendor Name*")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"type at least 3 characters",loading:t.loading},on:{change:t.getApi},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),t._v(" "),"africas_talking"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Africa's Talking Username")]),t._v(" "),e("el-input",{attrs:{placeholder:"user name"},model:{value:t.form.africas_talkig_username,callback:function(e){t.$set(t.form,"africas_talkig_username",e)},expression:"form.africas_talkig_username"}})],1):t._e(),t._v(" "),"africas_talking"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Africa's Talking Api Key")]),t._v(" "),e("el-input",{attrs:{placeholder:"api key"},model:{value:t.form.africas_talkig_api_key,callback:function(e){t.$set(t.form,"africas_talkig_api_key",e)},expression:"form.africas_talkig_api_key"}})],1):t._e(),t._v(" "),"twilio"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Twilio SID")]),t._v(" "),e("el-input",{attrs:{placeholder:"sid"},model:{value:t.form.twilio_sid,callback:function(e){t.$set(t.form,"twilio_sid",e)},expression:"form.twilio_sid"}})],1):t._e(),t._v(" "),"twilio"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Twilio Auth Token")]),t._v(" "),e("el-input",{attrs:{placeholder:"Secret"},model:{value:t.form.twilio_auth_token,callback:function(e){t.$set(t.form,"twilio_auth_token",e)},expression:"form.twilio_auth_token"}})],1):t._e(),t._v(" "),"twilio"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Twilio Number")]),t._v(" "),e("el-input",{attrs:{placeholder:"number"},model:{value:t.form.twilio_number,callback:function(e){t.$set(t.form,"twilio_number",e)},expression:"form.twilio_number"}})],1):t._e(),t._v(" "),"celcomafrica"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Partner Id")]),t._v(" "),e("el-input",{attrs:{placeholder:"Partner id"},model:{value:t.form.celcomafrica_partner_id,callback:function(e){t.$set(t.form,"celcomafrica_partner_id",e)},expression:"form.celcomafrica_partner_id"}})],1):t._e(),t._v(" "),"celcomafrica"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Api Key")]),t._v(" "),e("el-input",{attrs:{placeholder:"Api key"},model:{value:t.form.celcomafrica_api_key,callback:function(e){t.$set(t.form,"celcomafrica_api_key",e)},expression:"form.celcomafrica_api_key "}})],1):t._e(),t._v(" "),"celcomafrica"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Shortcode/Sender id")]),t._v(" "),e("el-input",{attrs:{placeholder:"Shortcode"},model:{value:t.form.celcomafrica_short_code,callback:function(e){t.$set(t.form,"celcomafrica_short_code",e)},expression:"form.celcomafrica_short_code"}})],1):t._e(),t._v(" "),"twilio"==t.api_data.value||"africas_talking"==t.api_data.value||"celcomafrica"==t.api_data.value?e("v-flex",{staticStyle:{"margin-top":"20px"},attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v(t._s(t.api_data.site)+" will be made default to send sms")]),t._v(" "),"twilio"==t.api_data.value?e("el-radio",{staticStyle:{width:"100%"},attrs:{label:t.api_data.value},model:{value:t.form.sms_default,callback:function(e){t.$set(t.form,"sms_default",e)},expression:"form.sms_default"}}):t._e(),t._v(" "),"africas_talking"==t.api_data.value?e("el-radio",{staticStyle:{width:"100%"},attrs:{label:t.api_data.value},model:{value:t.form.sms_default,callback:function(e){t.$set(t.form,"sms_default",e)},expression:"form.sms_default"}},[t._v(t._s(t.api_data.site))]):t._e(),t._v(" "),"celcomafrica"==t.api_data.value?e("el-radio",{staticStyle:{width:"100%"},attrs:{label:t.api_data.value},model:{value:t.form.sms_default,callback:function(e){t.$set(t.form,"sms_default",e)},expression:"form.sms_default"}},[t._v(t._s(t.api_data.site))]):t._e()],1):t._e(),t._v(" "),"google_sheets"==t.api_data.value?e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("File content\n                                    "),e("el-tooltip",{attrs:{content:"Copy the file here",placement:"top"}},[e("v-icon",{attrs:{small:"",color:"black"}},[t._v("mdi-help")])],1)],1),t._v(" "),e("div",{attrs:{id:"vueapp"}},[t.form.file&&t.jsonerror?e("div",{staticClass:"text-danger"},[t._v(t._s(t.jsonerror))]):t._e(),t._v(" "),t.jsonerror?t._e():e("div",{staticClass:"text-success"},[t._v("Valid JSON âœ”")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.file,expression:"form.file"}],staticClass:"form-control",attrs:{rows:"10",id:"jsonText",placeholder:"paste or type JSON here..."},domProps:{value:t.form.file},on:{input:function(e){e.target.composing||t.$set(t.form,"file",e.target.value)}}}),t._v(" "),e("pre",[t._v(t._s(t.prettyFormat))])])]):t._e(),t._v(" "),"woocommerce"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Website URL")]),t._v(" "),e("el-input",{attrs:{placeholder:"woocommerce"},model:{value:t.form.woocommerce_url,callback:function(e){t.$set(t.form,"woocommerce_url",e)},expression:"form.woocommerce_url"}})],1):t._e(),t._v(" "),"woocommerce"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Website Consumer Key")]),t._v(" "),e("el-input",{attrs:{placeholder:"woocommerce"},model:{value:t.form.woocommerce_consumer_key,callback:function(e){t.$set(t.form,"woocommerce_consumer_key",e)},expression:"form.woocommerce_consumer_key"}})],1):t._e(),t._v(" "),"woocommerce"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Website Consumer Secret")]),t._v(" "),e("el-input",{attrs:{placeholder:"woocommerce"},model:{value:t.form.woocommerce_consumer_secret,callback:function(e){t.$set(t.form,"woocommerce_consumer_secret",e)},expression:"form.woocommerce_consumer_secret"}})],1):t._e(),t._v(" "),"shopify"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Shop name")]),t._v(" "),e("el-input",{attrs:{placeholder:"shopify url"},model:{value:t.form.shopify_url,callback:function(e){t.$set(t.form,"shopify_url",e)},expression:"form.shopify_url"}},[e("template",{slot:"prepend"},[t._v("https://")]),t._v(" "),e("template",{slot:"append"},[t._v(".myshopify.com")])],2)],1):t._e(),t._v(" "),"shopify"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Admin Api Secret")]),t._v(" "),e("el-input",{attrs:{placeholder:"shopify secret"},model:{value:t.form.shopify_secret,callback:function(e){t.$set(t.form,"shopify_secret",e)},expression:"form.shopify_secret"}})],1):t._e(),t._v(" "),"m_pesa"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Customer key")]),t._v(" "),e("el-input",{attrs:{placeholder:"",disabled:t.mpesa_data.registered},model:{value:t.mpesa_data.customer_key,callback:function(e){t.$set(t.mpesa_data,"customer_key",e)},expression:"mpesa_data.customer_key"}})],1):t._e(),t._v(" "),"m_pesa"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Customer Secret")]),t._v(" "),e("el-input",{attrs:{placeholder:"",disabled:t.mpesa_data.registered,type:"password"},model:{value:t.mpesa_data.customer_secret,callback:function(e){t.$set(t.mpesa_data,"customer_secret",e)},expression:"mpesa_data.customer_secret"}})],1):t._e(),t._v(" "),"m_pesa"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Shortcode")]),t._v(" "),e("el-input",{attrs:{placeholder:"",disabled:t.mpesa_data.registered},model:{value:t.mpesa_data.shortcode,callback:function(e){t.$set(t.mpesa_data,"shortcode",e)},expression:"mpesa_data.shortcode"}})],1):t._e(),t._v(" "),"m_pesa"==t.api_data.value?e("v-flex",{attrs:{sm6:""}},[e("v-radio-group",{attrs:{row:""},model:{value:t.mpesa_data.account_type,callback:function(e){t.$set(t.mpesa_data,"account_type",e)},expression:"mpesa_data.account_type"}},[e("v-radio",{attrs:{label:"Till No",value:"Till"}}),t._v(" "),e("v-radio",{attrs:{label:"Paybill",value:"Paybill"}})],1)],1):t._e()],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Close")]),t._v(" "),e("v-spacer"),t._v(" "),"m_pesa"==t.api_data.value?e("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.mpesa_data.registered,expression:"!mpesa_data.registered"}],attrs:{color:"error",text:"",loading:t.loading},on:{click:t.register}},[t._v("Register URL")]):t._e(),t._v(" "),""==t.jsonerror&&"google_sheets"==t.api_data.value?e("v-btn",{attrs:{color:"blue darken-1",text:"",loading:t.loading,disabled:t.loading},on:{click:t.save}},[t._v("Save")]):t._e(),t._v(" "),"google_sheets"!=t.api_data.value?e("v-btn",{attrs:{color:"blue darken-1",text:"",loading:t.loading,disabled:t.loading},on:{click:t.save}},[t._v("Save")]):t._e()],1)],1)],1)],1)}),[],!1,null,"29152abe",null);e.a=u.exports},780:function(t,e,r){"use strict";r(620)},781:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".el-input--prefix .el-input__inner{border-radius:50px!important}.v-toolbar__content,.v-toolbar__extension{height:auto!important}.v-avatar{height:10px!important;width:10px!important;margin-left:40%!important}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){cursor:pointer!important}#orders td{padding:10px 4px!important}#orders .v-data-table>.v-data-table__wrapper>table{width:150%!important}#address_tab span{font-style:inherit;font-weight:inherit;white-space:nowrap;text-overflow:ellipsis;max-width:180px;overflow:hidden;display:block;-webkit-line-clamp:3;-webkit-box-orient:vertical}",""])}}]);