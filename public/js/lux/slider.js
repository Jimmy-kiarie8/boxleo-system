(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1126:function(t,e,a){"use strict";a.r(e);var i={components:{},props:["product_id"],data:function(){return{errors:{},loading:!1,disabled:!0,avatar:"",actualImage:!1,imagePlaced:!1,files:[],dialog:!1,upload_files:[],product:[],images:[]}},methods:{close:function(){this.actualImage=!1},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this;this.imagePlaced=!0;var a=t.target.files;if(a[0].name.lastIndexOf(".")<=0)return alert("please upload a valid image");var i=new FileReader;i.addEventListener("load",(function(){e.avatar=i.result})),i.readAsDataURL(a[0]),this.image=a[0]},Getimage:function(t){var e=this,a=t.target.files[0],i=new FileReader;i.readAsDataURL(a),i.onload=function(t){e.avatar=t.target.result},this.imagePlaced=!0;var n=new FormData;n.append("image",a),this.file=n,console.log(t.target.files)},cancle:function(){this.avatar=this.product.image,this.imagePlaced=!1},upload:function(){var t=this;this.loading=!0;this.file,this.product_id;axios.post("slider",this.file).then((function(e){t.loading=!1,eventBus.$emit("alertRequest","Successifully uploaded"),t.imagePlaced=!1,t.color="black",t.text="slider updated",t.snackbar=!0})).catch((function(e){t.loading=!1,500!==e.response.status?t.errors=e.response.data.errors:eventBus.$emit("errorEvent",e.response.statusText)}))}},created:function(){var t=this;eventBus.$on("openSliderEvent",(function(e){t.dialog=!0}))}},n=(a(800),a(0)),o={props:["user"],components:{mySlider:Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",{attrs:{"primary-title":""}},[e("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){t.dialog=!1}},slot:"activator"},[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("close")])],1)],1),t._v(" "),e("v-card-text",[e("v-form",{ref:"form",on:{submit:function(t){t.preventDefault()}}},[e("v-divider"),t._v(" "),e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{sm8:""}},[e("img",{staticStyle:{width:"100%",height:"200px"},attrs:{src:t.avatar}}),t._v(" "),e("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"red","darken-1":"",raised:""},on:{click:t.onPickFile}},[t._v("Update Image")]),t._v(" "),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.Getimage}}),t._v(" "),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.imagePlaced,expression:"imagePlaced"}],attrs:{text:""},on:{click:t.cancle}},[t._v("Cancle")]),t._v(" "),e("v-btn",{attrs:{text:"",disabled:t.loading,loading:t.loading},on:{click:t.upload}},[t._v("Update")])],1),t._v(" "),e("v-flex",{attrs:{sm3:"","offset-sm-1":""}},t._l(t.images,(function(a){return e("div",{key:a.id},[e("img",{attrs:{id:"image",src:a.image,alt:a.id}}),t._v(" "),e("small",{staticStyle:{cursor:"pointer",color:"red","margin-bottom":"5px"},on:{click:function(e){return t.remove(a.id)}}},[t._v("remove")])])})),0)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.files.length,expression:"files.length"}],attrs:{disabled:t.loading,loading:t.loading,text:"",color:"primary"},on:{click:function(e){return t.submitFiles()}}},[t._v("Submit")])],1)],1)],1)],1)],1)}),[],!1,null,"695b9fc6",null).exports},data:function(){return{form:{},loader:!1,search:"",columns:[{label:"Id#",field:"id",type:"number"},{label:"Slider",field:"image"},{label:"Content",field:"content"},{label:"Created On",field:"created_at"},{label:"Actions",field:"actions",sortable:!1}]}},methods:{openSlider:function(){eventBus.$emit("openSliderEvent")},openEdit:function(t){eventBus.$emit("openEditSlider",t)},confirm_delete:function(t){var e=this;this.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.deleteItem(t)})).catch((function(){e.$message({type:"error",message:"Delete canceled"})}))},deleteItem:function(t){var e=this;this.$store.dispatch("deleteItem","slider/"+t.id).then((function(t){e.$message({type:"success",message:"Delete completed"}),e.getSliders()}))},openShow:function(t){eventBus.$emit("openShowSlider",t)},getSliders:function(){this.$store.dispatch("getItems",{model:"slider",update:"updateSliderList"})}},computed:{slider:function(){return this.$store.getters.slider},isLoading:function(){return this.$store.getters.loading}},mounted:function(){eventBus.$emit("LoadingEvent"),this.getSliders()},created:function(){var t=this;eventBus.$on("sliderEvent",(function(e){t.getSliders()})),eventBus.$on("responseChooseEvent",(function(t){console.log(t),"Excel"==t?eventBus.$emit("openEditSlider"):eventBus.$emit("openSliderSlider")}))}},r=(a(802),Object(n.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("v-card",{staticStyle:{padding:"20px 0"}},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("Dashboard")]),t._v(" "),e("el-breadcrumb-item",[t._v("Sliders")])],1)],1)],1),t._v(" "),e("v-flex",{attrs:{sm12:""}}),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("v-card",{staticStyle:{padding:"10px 0"}},[e("v-layout",{attrs:{row:""}},[e("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm1:""}},[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.getSliders},slot:"activator"},i),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),e("span",[t._v("Refresh")])])],1),t._v(" "),e("v-flex",{attrs:{sm2:""}},[e("h3",{staticStyle:{"margin-left":"30px !important","margin-top":"10px"}},[t._v("Sliders")])]),t._v(" "),e("v-flex",{attrs:{"offset-sm8":"",sm2:""}},[e("v-btn",{attrs:{color:"info",text:""},on:{click:t.openSlider}},[t._v("Create Slider")])],1)],1)],1)],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("vue-good-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"table-hover",attrs:{columns:t.columns,rows:t.slider,"search-options":{enabled:!0},"pagination-options":{enabled:!0,mode:"pages"}},scopedSlots:t._u([{key:"table-row",fn:function(a){return["created_at"==a.column.field?e("span",[e("span",[e("el-tag",{attrs:{type:"success"}},[t._v(t._s(a.formattedRow.created_at))])],1)]):"image"==a.column.field?e("span",[e("img",{attrs:{src:a.row.image,alt:""}})]):"actions"==a.column.field?e("span",[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.openEdit(a.row)}},slot:"activator"},n),[e("v-icon",{attrs:{small:"",color:"blue darken-2"}},[t._v("mdi-pen")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Edit "+t._s(a.row.name))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.confirm_delete(a.row)}},slot:"activator"},n),[e("v-icon",{attrs:{small:"",color:"pink darken-2"}},[t._v("mdi-delete")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Delete "+t._s(a.row.name))])])],1):e("span",[t._v(t._s(a.formattedRow[a.column.field]))])]}}])})],1)],1)],1),t._v(" "),e("mySlider")],1)}),[],!1,null,"9b178794",null));e.default=r.exports},630:function(t,e,a){var i=a(801);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(4)(i,n);i.locals&&(t.exports=i.locals)},631:function(t,e,a){var i=a(803);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(4)(i,n);i.locals&&(t.exports=i.locals)},800:function(t,e,a){"use strict";a(630)},801:function(t,e,a){(t.exports=a(3)(!1)).push([t.i,"input[type=file][data-v-695b9fc6]{opacity:0;width:100%;height:200px;position:absolute;cursor:pointer}.filezone[data-v-695b9fc6]{outline:2px dashed grey;outline-offset:-10px;background:#ccc;color:#696969;padding:10px;min-height:200px;position:relative;cursor:pointer}.filezone[data-v-695b9fc6]:hover{background:silver}.filezone p[data-v-695b9fc6]{font-size:1.2em;text-align:center;padding:50px}div.file-listing img[data-v-695b9fc6]{max-width:90%}div.file-listing[data-v-695b9fc6]{margin:auto;padding:10px;border-bottom:1px solid #ddd}div.file-listing img[data-v-695b9fc6]{height:100px}div.success-container[data-v-695b9fc6]{text-align:center;color:green}div.remove-container[data-v-695b9fc6]{text-align:center}div.remove-container a[data-v-695b9fc6]{color:red;cursor:pointer}a.submit-button[data-v-695b9fc6]{display:block;text-align:center;width:200px;padding:10px;text-transform:uppercase;background-color:#ccc;color:#fff;font-weight:700;margin:20px auto auto}#image[data-v-695b9fc6]{width:90%;height:150px}",""])},802:function(t,e,a){"use strict";a(631)},803:function(t,e,a){(t.exports=a(3)(!1)).push([t.i,".el-input--prefix .el-input__inner[data-v-9b178794]{border-radius:50px!important}.v-toolbar__content[data-v-9b178794],.v-toolbar__extension[data-v-9b178794]{height:auto!important}.v-avatar[data-v-9b178794]{height:10px!important;width:10px!important;margin-left:40%!important}img[data-v-9b178794]{width:50px;border-radius:30%;height:40px}",""])}}]);