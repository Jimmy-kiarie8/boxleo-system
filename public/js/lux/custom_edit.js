(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1145:function(t,e,a){"use strict";a.r(e);var o=a(2),r=a(269);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function s(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var o=a.call(t,e||"default");if("object"!=l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n={components:{draggable:a.n(r).a},data:function(){return{deliver_status:[{value:"Open"},{value:"Inprogress"},{value:"Shipped"},{value:"Delivered"},{value:"Confirmed"},{value:"Closed"}],operators:[{value:"AND"},{value:"OR"}],conditions:[{value:"is",op:"="},{value:"is not",op:"!="},{value:"contains",op:"LIKE"},{value:"doesn't contain"},{value:"is in"},{value:"is not in"},{value:"starts with"}],radio:"1",form:{conditions:[{condition:"",row:{Type:""},operator:"When",value:""}],selected_columns:[]},available_rows:[],controlOnStart:!0}},methods:{save:function(){var t={data:this.form,model:"app_custom",id:this.$route.params.id};this.$store.dispatch("patchItems",t).then((function(t){}))},remove:function(t){this.form.conditions.splice(t,1)},getApp:function(){var t={model:"cusom_edit",id:this.$route.params.id,update:"updateTableRows"};this.$store.dispatch("showItem",t)},getRows:function(){this.$store.dispatch("searchItems",{model:"table_rows",search:"sales",update:"updateTableRows"})},get_row:function(){var t=this;axios.get("table_rows/sales").then((function(e){t.available_rows=e.data})).catch((function(t){console.log(t)}))},getStatus:function(){this.$store.dispatch("getItems",{model:"statuses",update:"updateStatusList"})},add_row:function(){this.form.conditions.push({condition:"",row:{Type:""},operator:"AND",value:""})},clone:function(t){return{label:t.label}},pullFunction:function(){return!this.controlOnStart||"clone"},start:function(t){var e=t.originalEvent;this.controlOnStart=e.ctrlKey},getCustoms:function(){var t=this,e={model:"cusom_edit",id:this.$route.params.id,update:"updateTableRows"};this.$store.dispatch("showItem",e).then((function(e){t.form=e.data,t.form.selected_columns=e.data.columns}))}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.b)(["table_rows","statuses"])),mounted:function(){this.getRows(),this.get_row(),this.getStatus(),this.getCustoms()}},c=a(0),u=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("v-card",{staticStyle:{padding:"20px 0"}},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("Dashboard")]),t._v(" "),e("el-breadcrumb-item",[t._v("Custom View")])],1),t._v(" "),e("v-btn",{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:t.getApp}},[e("v-icon",[t._v("mdi-refresh")])],1)],1)],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("v-card",[e("label",{attrs:{for:""}},[t._v("Name")]),t._v(" "),e("el-input",{attrs:{placeholder:"Please input"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),e("h3",[t._v("Define the criteria ( if any )")]),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),t._l(t.form.conditions,(function(a,o){return e("v-layout",{key:o,staticStyle:{"margin-top":"20px"},attrs:{row:"",wrap:""}},[e("v-flex",{staticStyle:{"margin-left":"30px"},attrs:{sm2:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select",disabled:0==o},model:{value:a.operator,callback:function(e){t.$set(a,"operator",e)},expression:"items.operator"}},t._l(t.operators,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),e("v-flex",{staticStyle:{"margin-left":"20px"},attrs:{sm3:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select","value-key":"key"},model:{value:a.row,callback:function(e){t.$set(a,"row",e)},expression:"items.row"}},t._l(t.table_rows,(function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm3:""}},[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:a.condition,callback:function(e){t.$set(a,"condition",e)},expression:"items.condition"}},t._l(t.conditions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),a.condition?e("v-flex",{attrs:{sm2:""}},[t.form.conditions.length>0?e("div",["tinyint(1)"==t.form.conditions[o].row.Type?e("div",[e("el-radio",{attrs:{label:"true"},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"items.value"}},[t._v("True")]),t._v(" "),e("el-radio",{attrs:{label:"false"},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"items.value"}},[t._v("False")])],1):"Inprogress"==t.form.conditions[o].row.Default?e("div",["status"==t.form.conditions[o].row.Field?e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"items.value"}},t._l(t.statuses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.status,value:t.status}})})),1):e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Select"},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"items.value"}},t._l(t.deliver_status,(function(t,a){return e("el-option",{key:a,attrs:{label:t.value,value:t.value}})})),1)],1):"datetime"==t.form.conditions[o].row.Type||"timestamp"==t.form.conditions[o].row.Type?e("div",[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a day"},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"items.value"}})],1):e("div",[e("el-input",{attrs:{type:-1!==t.form.conditions[o].row.Type.indexOf("int")||-1!==t.form.conditions[o].row.Type.indexOf("decimal")?"number":"text",placeholder:"Please input"},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"items.value"}})],1)]):t._e()]):t._e(),t._v(" "),o>0?e("v-flex",{staticStyle:{margin:"5px 0 0 20px"},attrs:{sm1:""}},[e("v-btn",{attrs:{text:"",icon:"",color:"pink"},on:{click:function(e){return t.remove(o)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)],1):t._e()],1)})),t._v(" "),e("v-btn",{attrs:{small:"",text:"",color:"primary"},on:{click:t.add_row}},[e("v-icon",[t._v("mdi-plus")]),t._v(" "),e("span",[t._v("Add Criteria")])],1),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticStyle:{"margin-left":"30px"},attrs:{sm3:""}},[e("v-card",[e("v-card-title",{attrs:{"primary-title":""}},[e("h3",[t._v("Available Columns")])]),t._v(" "),e("v-card-text",{staticStyle:{"max-height":"300px","overflow-y":"scroll !important"}},[e("draggable",{staticClass:"dragArea list-group",attrs:{list:t.available_rows,clone:t.clone,group:{name:"people",pull:t.pullFunction}},on:{start:t.start}},t._l(t.available_rows,(function(a,o){return e("div",{key:o,staticClass:"list-group-item"},[t._v("\n                                            "+t._s(a.label)),e("v-icon",{staticStyle:{float:"right"}},[t._v("mdi-drag")])],1)})),0)],1)],1)],1),t._v(" "),e("v-flex",{attrs:{sm3:"","offset-sm1":""}},[e("v-card",[e("v-card-title",{attrs:{"primary-title":""}},[e("h3",[t._v("Selected Columns")])]),t._v(" "),e("v-card-text",{staticStyle:{"max-height":"300px","overflow-y":"scroll !important"}},[e("draggable",{staticClass:"dragArea list-group",attrs:{list:t.form.selected_columns,group:"people"}},t._l(t.form.selected_columns,(function(a,o){return e("div",{key:o,staticClass:"list-group-item"},[t._v("\n                                            "+t._s(a.label)),e("v-icon",{staticStyle:{float:"right"}},[t._v("mdi-drag")])],1)})),0)],1)],1)],1)],1),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),e("h3",[t._v("Share this with:")]),t._v(" "),e("div",{staticStyle:{"margin-top":"30px"}}),t._v(" "),e("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Option A")]),t._v(" "),e("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Option B")])],2)],1)],1),t._v(" "),e("v-footer",{staticStyle:{background:"#e2e0e0 !important"},attrs:{app:""}},[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[e("v-icon",[t._v("mdi-content-save")]),t._v(" "),e("span",[t._v("Save")])],1),t._v(" "),e("v-spacer")],1)],1)],1)}),[],!1,null,null,null);e.default=u.exports}}]);