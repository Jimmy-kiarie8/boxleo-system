(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1104:function(e,t,n){"use strict";n.r(t);var i=n(79),r=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={data:function(){return{search:"",headers:[]}},methods:{getInvoices:function(){this.$store.dispatch("getItems",{model:"invoices",update:"updateInvoiceList"}).then((function(e){}))},handleClick:function(e){eventBus.$emit("resizeEvent",e),this.headers=[{text:"Invoice no",value:"invoice_details"}]},set_header:function(){this.headers=[{text:"Created On.",align:"start",value:"created_at"},{text:"Invoice No.",align:"start",value:"invoice_no"},{text:"Order No.",value:"order_no"},{text:"Customer Name",value:"client_name"},{text:"Status",value:"status"},{text:"Amount",value:"total"},{text:"Due Date",value:"due_date"}]}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)(["invoices"])),created:function(){var e=this;this.set_header(),eventBus.$on("closeReturnEvent",(function(t){e.set_header()}))},mounted:function(){this.getInvoices()}},c=n(0),u=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",[t("v-container",{attrs:{fluid:"","fill-height":""}},[t("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[t("v-card",{staticStyle:{width:"100%"}},[t("v-card-title",[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:e.getInvoices},slot:"activator"},i),[t("v-icon",{attrs:{color:"blue darken-2",small:""}},[e._v("mdi-refresh")])],1)]}}])},[e._v(" "),t("span",[e._v("Refresh")])]),e._v(" "),t("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t("v-data-table",{attrs:{headers:e.headers,items:e.invoices.data,search:e.search},on:{"click:row":e.handleClick},scopedSlots:e._u([{key:"item.invoice_details",fn:function(n){var i=n.item;return[t("v-list-item",{staticStyle:{cursor:"pointer"}},[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(i.client_name)+" ")]),e._v(" "),t("v-list-item-subtitle",{staticClass:"text--primary"},[t("span",{staticStyle:{color:"#f00"}},[e._v(" "+e._s(i.order_no)+" ")]),e._v("| "+e._s(i.created_at))]),e._v(" "),t("v-list-item-subtitle",[e._v(e._s(i.status))])],1),e._v(" "),t("v-list-item-action",[t("v-list-item-action-text",[t("el-tag",{attrs:{type:"success"}},[e._v(e._s(i.status))])],1)],1)],1)]}}])})],1)],1)],1)],1)}),[],!1,null,null,null).exports;function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var v={props:["user"],data:function(){return{invoice:{}}},created:function(){var e=this;eventBus.$on("resizeEvent",(function(t){e.invoice=t})),eventBus.$on("printInvoiceEvent",(function(t){e.print_invoice()}))},methods:{print_invoice:function(){for(var e=document.getElementById("print").innerHTML,t="",n=0,i=d(document.querySelectorAll('link[rel="stylesheet"], style'));n<i.length;n++){t+=i[n].outerHTML}var r=window.open("","","left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0");r.document.write("<!DOCTYPE html>\n            <html>\n            <head>\n                ".concat(t,"\n            </head>\n            <body>\n                ").concat(e,"\n            </body>\n            </html>")),r.document.close(),r.focus(),r.print(),r.close()}},computed:{total:function(){for(var e=0,t=0;t<this.invoice.sale.products.length;t++){var n=this.invoice.sale.products[t];console.log(n),e+=parseInt(n.pivot.price)*parseInt(n.pivot.quantity)}return e},discount:function(){return parseInt(this.total)-parseInt(this.invoice.total)}}},h=Object(c.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("v-card",{staticStyle:{padding:"20px",width:"80%",margin:"auto"},attrs:{id:"print"}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{sm6:""}},[t("img",{staticStyle:{width:"150px"},attrs:{src:e.user.company.logo}})]),e._v(" "),t("v-flex",{attrs:{sm3:"","offset-sm3":""}},[e._v("\n                Invoice: "+e._s(e.invoice.invoice_no)+" "),t("br"),e._v(" "),t("strong",[e._v("Due Date"+e._s(e.invoice.due_date))]),e._v(" "),t("br"),e._v(" "),t("span",[t("strong",[e._v("Status:")]),e._v(" "+e._s(e.invoice.status))])])],1),e._v(" "),t("v-card-text",[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{sm5:""}},[t("h6",{staticClass:"mb-3"},[e._v("Shipping address:")]),e._v(" "),t("div",[t("strong",[e._v(e._s(e.invoice.sale.client.name))])]),e._v(" "),t("div",[e._v(e._s(e.invoice.sale.client.address))]),e._v(" "),t("div",[e._v(e._s(e.invoice.sale.client.phone))])]),e._v(" "),t("v-flex",{attrs:{sm5:"","offset-sm2":""}},[t("h6",{staticClass:"mb-3"},[e._v("Billing address:")]),e._v(" "),t("div",[t("strong",[e._v(e._s(e.invoice.sale.client.name))])]),e._v(" "),t("div",[e._v(e._s(e.invoice.sale.client.address))]),e._v(" "),t("div",[e._v(e._s(e.invoice.sale.client.phone))])])],1),e._v(" "),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{sm12:""}},[t("table",{staticClass:"table table-striped"},[t("thead",[t("tr",[t("th",{staticClass:"center"},[e._v("#")]),e._v(" "),t("th",[e._v("Item & Description")]),e._v(" "),t("th",{staticClass:"right"},[e._v("Unit Cost")]),e._v(" "),t("th",{staticClass:"center"},[e._v("Qty")]),e._v(" "),t("th",{staticClass:"right"},[e._v("Total")])])]),e._v(" "),t("tbody",e._l(e.invoice.sale.products,(function(n,i){return t("tr",{key:n.id},[t("td",{staticClass:"center"},[e._v(e._s(i+1))]),e._v(" "),t("td",{staticClass:"left strong"},[e._v(e._s(n.product_name))]),e._v(" "),t("td",{staticClass:"left"},[e._v(e._s(n.pivot.price))]),e._v(" "),t("td",{staticClass:"left"},[e._v(e._s(n.pivot.quantity))]),e._v(" "),t("td",{staticClass:"right"},[e._v(e._s(parseInt(n.pivot.quantity)*parseInt(n.pivot.price)))])])})),0)])])],1),e._v(" "),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{sm6:""}}),e._v(" "),t("v-flex",{attrs:{sm5:""}},[t("table",{staticClass:"table table-clear"},[t("tbody",[t("tr",[t("td",{staticClass:"left"},[t("strong",[e._v("Subtotal")])]),e._v(" "),t("td",{staticClass:"right"},[e._v(e._s(e.total))])]),e._v(" "),t("tr",[t("td",{staticClass:"left"},[t("strong",[e._v("Discount")])]),e._v(" "),t("td",{staticClass:"right"},[t("strong",[e._v(e._s(e.discount))])])]),e._v(" "),t("tr",[t("td",{staticClass:"left"},[t("strong",[e._v("Total")])]),e._v(" "),t("td",{staticClass:"right"},[t("strong",[e._v(e._s(e.invoice.total))])])])])])])],1)],1)],1)],1)}),[],!1,null,null,null).exports;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={data:function(){return{toggle_exclusive:void 0,invoice:{}}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)(["invoices","packages","saleorder"])),methods:{getInvoices:function(){this.$store.dispatch("getItems",{model:"invoices",update:"updateInvoiceList"}).then((function(e){}))},confirm_delete:function(e){var t=this;this.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.deleteItem(e)})).catch((function(){t.$message({type:"error",message:"Delete canceled"})}))},deleteItem:function(e){var t=this;this.$store.dispatch("deleteItem","invoices/"+this.invoice.id).then((function(e){t.$message({type:"success",message:"Delete completed"}),t.getInvoices()}))},print_pdf:function(){eventBus.$emit("printInvoiceEvent")},download_pdf:function(){var e={data:invoice,id:this.invoice.id,model:"download_pdf"};this.$store.dispatch("patchItems",e).then((function(e){}))},status_update:function(e){var t=this,n={data:{status:e},id:this.invoice.id,model:"inv_status"};this.$store.dispatch("patchItems",n).then((function(e){t.invoice.paid=e.data}))},close_details:function(){eventBus.$emit("closeReturnEvent")},sale_return:function(){eventBus.$emit("returnSaleEvent")},confirm:function(){var e={model:"confirm",data:"",id:this.$route.params.id};this.$store.dispatch("patchItems",e).then((function(e){eventBus.$emit("routerChangeEvent")}))},receive:function(){eventBus.$emit("openReceiveEvent")},openSend:function(){eventBus.$emit("openSendEvent")}},created:function(){var e=this;eventBus.$on("resizeEvent",(function(t){e.invoice=t}))}},y=(n(850),Object(c.a)(b,(function(){var e=this,t=e._self._c;return t("v-toolbar",{attrs:{dense:""}},[t("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.toggle_exclusive,callback:function(t){e.toggle_exclusive=t},expression:"toggle_exclusive"}},[e.invoice.paid?t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,r=n.attrs;return[t("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",r,!1),i),[t("v-icon",{attrs:{small:"",color:"success"}},[e._v("mdi-check-circle")])],1)]}}],null,!1,2400169127)},[e._v(" "),t("span",[e._v("paid")])]):t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,r=n.attrs;return[t("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return e.status_update("Paid")}}},"v-btn",r,!1),i),[t("v-icon",{attrs:{small:"",color:"grey"}},[e._v("mdi-check-circle")])],1)]}}])},[e._v(" "),t("span",[e._v("Mark as paid")])]),e._v(" "),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,r=n.attrs;return[t("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.openSend}},"v-btn",r,!1),i),[t("v-icon",{attrs:{small:"",color:"grey"}},[e._v("mdi-mail")])],1)]}}])},[e._v(" "),t("span",[e._v("Send to mail")])]),e._v(" "),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,r=n.attrs;return[t("v-btn",e._g(e._b({attrs:{icon:"",href:"/download_pdf/"+e.invoice.id,target:"_blank"}},"v-btn",r,!1),i),[t("v-icon",{attrs:{small:"",color:"grey"}},[e._v("mdi-adobe-acrobat")])],1)]}}])},[e._v(" "),t("span",[e._v("Download")])]),e._v(" "),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,r=n.attrs;return[t("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.confirm_delete}},"v-btn",r,!1),i),[t("v-icon",{attrs:{small:"",color:"pink"}},[e._v("mdi-delete")])],1)]}}])},[e._v(" "),t("span",[e._v("Delete")])])],1),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{text:"",icon:"",color:"primary"},on:{click:e.close_details}},[t("v-icon",[e._v("mdi-close")])],1)],1)}),[],!1,null,"0cf60954",null).exports);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=g(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z={props:["user"],components:{myTable:u,Splitpanes:i.b,Pane:i.a,myInvoice:h,myHeader:y},data:function(){return{search:"",edit_size:0,table_size:100,invoice_order:{},dialog:!1}},methods:{handleClick:function(e){this.headers=[{text:"Created On",align:"start",value:"created_at"}]},editOrder:function(e){console.log(e),this.$router.push({name:"edit_returns",params:{id:e}})},status_update:function(){var e={data:this.invoice_order,id:this.invoice_order.id,model:"main_inv"};this.$store.dispatch("patchItems",e).then((function(e){}))}},mounted:function(){},created:function(){var e=this;eventBus.$on("resizeEvent",(function(t){e.table_size="50",e.edit_size="70",e.invoice_order=t})),eventBus.$on("closeReturnEvent",(function(t){e.table_size="100",e.edit_size="0"})),eventBus.$on("openSendEvent",(function(t){e.dialog=!0}))},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.b)(["loading"]))},P=Object(c.a)(z,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{padding:"0"}},[t("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[t("splitpanes",[t("pane",{attrs:{"min-size":"30",size:e.table_size}},[t("myTable")],1),e._v(" "),t("pane",{attrs:{size:e.edit_size}},[t("div",{staticStyle:{width:"100%","margin-top":"50px"}},[t("myHeader"),e._v(" "),t("myInvoice",{attrs:{user:e.user}})],1)])],1),e._v(" "),e.dialog?t("el-dialog",{attrs:{title:"Mail to",visible:e.dialog},on:{"update:visible":function(t){e.dialog=t}}},[t("el-input",{attrs:{placeholder:"Please input"},model:{value:e.invoice_order.sale.client.email,callback:function(t){e.$set(e.invoice_order.sale.client,"email",t)},expression:"invoice_order.sale.client.email"}}),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),e._v(" "),t("v-btn",{attrs:{small:"",elevation:"2",color:"primary",text:""},on:{click:function(t){return e.status_update("mail")}}},[e._v("Send")]),e._v(" "),t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.status_update("mail")}}},[e._v("Confirm")])],1)],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=P.exports},1149:function(e,t,n){"use strict";n.r(t);var i=n(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var c={props:["user"],data:function(){return{hasDuplicates:!1,radio:"1",search:"",auto_zone:!1,invalidOrders:[],existingOrders:[],data:"",form:{search:"",zone_from:null,zone_to:null,rider_id:null},orders:[],headers:[{text:"Created On",value:"created_at"},{text:"Order no",value:"order_no"},{text:"Client Name",value:"client_name"},{text:"Client Address",value:"client_address"},{text:"Client Phone",value:"client_phone"},{text:"Delivery Status",value:"delivery_status"},{text:"Total",value:"total_price"},{text:"Actions",value:"actions",sortable:!1}]}},watch:{data:function(e){this.checkForDuplicates()}},methods:{checkForDuplicates:function(){var e=this.data.split(/\r?\n/).filter(Boolean),t=new Set;this.hasDuplicates=!1;var n,i=o(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(t.has(r)){this.hasDuplicates=!0;break}t.add(r)}}catch(e){i.e(e)}finally{i.f()}this.hasDuplicates&&console.warn("Duplicate order numbers detected!")},reset:function(){this.orders=[],this.invalidOrders=[],this.existingOrders=[]},dispatch:function(){var e=this,t={model:"dispatch_orders",data:{orders:this.orders,zone_from:this.form.zone_from,zone_to:this.form.zone_to,rider_id:this.form.rider_id}};this.$store.dispatch("postItems",t).then((function(t){console.log(t),e.reset(),e.$refs.focusMe.focus()})).catch((function(e){console.log(e)}))},printList:function(){console.log("printList");var e=this.orders.map((function(e){return{id:e.id,seller_id:e.seller_id,seller:e.seller?{name:e.seller.name}:null,products:e.products.map((function(e){return{id:e.id,product_name:e.product_name,pivot:{seller_id:e.pivot?e.pivot.seller_id:null,quantity:e.pivot?e.pivot.quantity:1}}}))}})),t=(this.form.zone_from,this.form.zone_to,this.form.rider_id,document.createElement("form"));t.method="POST",t.action="/dispatch_print_list",t.target="_blank";var n=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),i=document.createElement("input");i.type="hidden",i.name="_token",i.value=n,t.appendChild(i);var r=document.createElement("input");r.type="hidden",r.name="orders",r.value=JSON.stringify(e),t.appendChild(r);var s=document.createElement("input");s.type="hidden",s.name="zone_from",s.value=this.form.zone_from,t.appendChild(s);var a=document.createElement("input");a.type="hidden",a.name="zone_to",a.value=this.form.zone_to,t.appendChild(a);var o=document.createElement("input");o.type="hidden",o.name="rider_id",o.value=this.form.rider_id,t.appendChild(o),document.body.appendChild(t),t.submit(),document.body.removeChild(t)},add_order:function(){var e=this,t=!1;if(this.orders.forEach((function(n){n.order_no==e.form.search&&(t=!0,e.$message({type:"error",message:"Order already scanned"}))})),!t){var n={model:"scan",update:"updateSaleList",search:this.form.search};this.$store.dispatch("searchItems",n).then((function(t){e.form.search="",t.data.geocode&&e.auto_zone&&(e.form.zone_to=t.data.geocode),e.orders.push(t.data)})).catch((function(e){console.log(e)}))}},remove:function(e){this.orders.splice(e,1)},getZones:function(){this.$store.dispatch("getItems",{model:"zones",update:"updateZone"})},getRiders:function(){this.$store.dispatch("getItems",{model:"rider/riders",update:"updateRidersList"})},getCouriers:function(){this.$store.dispatch("getItems",{model:"couriers",update:"updateCouriersList"})},get_waybills:function(){var e=this,t={model:"get_dispatch",update:"UpdateEmpty",data:{data:this.data}};this.$store.dispatch("filterItems",t).then((function(t){console.log(t),t.data.valid_orders.forEach((function(t){e.orders.some((function(e){return e.order_no===t.order_no}))?e.existingOrders.push(t):e.orders.push(t)})),t.data.invalid_orders.forEach((function(t){e.invalidOrders.push(t)}))})).catch((function(e){console.log(e)}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(i.b)(["zones","loading","riders","couriers"])),mounted:function(){this.getCouriers(),this.zones.length<1&&this.getZones(),this.riders.length<1&&this.getRiders()}},u=n(0),d=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("v-container",{attrs:{fluid:"","fill-height":""}},[t("v-layout",{attrs:{"justify-center":"","align-center":"",wrap:""}},[t("v-flex",{attrs:{sm12:""}},[t("v-card",{staticStyle:{padding:"20px 0"}},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("Dashboard")]),e._v(" "),t("el-breadcrumb-item",[e._v("Dispatch")])],1)],1)],1),e._v(" "),t("v-flex",{attrs:{sm12:""}},[t("v-card",{staticStyle:{padding:"10px 0"}},[t("v-layout",{staticStyle:{"margin-left":"5px"},attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{sm2:""}},[t("label",{attrs:{for:""}},[e._v("Zone from")]),e._v(" "),t("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:e.form.zone_from,callback:function(t){e.$set(e.form,"zone_from",t)},expression:"form.zone_from"}},e._l(e.zones,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),t("v-flex",{attrs:{sm2:""}},[t("label",{attrs:{for:""}},[e._v("Zone to")]),e._v(" "),t("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:e.form.zone_to,callback:function(t){e.$set(e.form,"zone_to",t)},expression:"form.zone_to"}},e._l(e.zones,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),t("v-flex",{staticStyle:{"margin-left":"5px"},attrs:{sm2:""}},[t("label",{attrs:{for:""}},[e._v("Rider")]),e._v(" "),t("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:e.form.rider_id,callback:function(t){e.$set(e.form,"rider_id",t)},expression:"form.rider_id"}},e._l(e.riders,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),t("v-flex",{staticStyle:{"margin-left":"5px"},attrs:{sm2:""}},[t("label",{attrs:{for:""}},[e._v("Courier")]),e._v(" "),t("el-select",{attrs:{placeholder:"Select",filterable:"",clearable:""},model:{value:e.form.courier_id,callback:function(t){e.$set(e.form,"courier_id",t)},expression:"form.courier_id"}},e._l(e.couriers,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),e.user.can["Order dispatch"]?t("v-flex",{staticStyle:{"margin-left":"5px","margin-top":"30px"},attrs:{sm2:""}},[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,r=n.attrs;return[t("v-btn",e._g(e._b({attrs:{icon:"",color:"primary"},on:{click:e.dispatch}},"v-btn",r,!1),i),[t("v-icon",[e._v("mdi-update")])],1)]}}],null,!1,2567917798)},[e._v(" "),t("span",[e._v("Dispatch")])])],1):e._e(),e._v(" "),e.user.can["Order dispatch"]?t("v-flex",{staticStyle:{"margin-left":"5px","margin-top":"30px"},attrs:{sm2:""}},[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on,r=n.attrs;return[t("v-btn",e._g(e._b({attrs:{icon:"",color:"primary"},on:{click:e.printList}},"v-btn",r,!1),i),[t("v-icon",[e._v("mdi-printer")]),e._v(" Picking list\n                                    ")],1)]}}],null,!1,173252055)},[e._v(" "),t("span",[e._v("Print")])])],1):e._e(),e._v(" "),t("v-spacer"),e._v(" "),t("hr"),e._v(" "),t("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("Scan one by one")]),e._v(" "),t("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("Input waybills")]),e._v(" "),t("v-flex",{staticStyle:{"margin-right":"20px"},attrs:{sm6:""}},[1==e.radio?t("v-text-field",{ref:"focusMe",attrs:{"append-icon":"mdi-magnify",label:"Scan"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add_order.apply(null,arguments)}},model:{value:e.form.search,callback:function(t){e.$set(e.form,"search",t)},expression:"form.search"}}):t("div",[t("label",{attrs:{for:""}},[e._v("Input waybills separated by commas or a new line")]),e._v(" "),t("el-input",{attrs:{type:"textarea",rows:3,placeholder:"Please input"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{small:"",elevation:"3",color:"primary",text:""},on:{click:e.get_waybills}},[e._v("Search")])],1)],1),e._v(" "),e.invalidOrders.length>0?t("v-flex",{attrs:{sm6:""}},[t("div",{staticClass:"text-center"},[t("h6",[e._v("Order status with invalid statuses")]),e._v(" "),e._l(e.invalidOrders,(function(n){return t("v-chip",{staticClass:"ma-2"},[e._v("\n                                    "+e._s(n.order_no)+" : "+e._s(n.delivery_status)+"\n                                ")])}))],2)]):e._e(),e._v(" "),e.invalidOrders.length>0?t("v-flex",{attrs:{sm6:""}},[t("div",{staticClass:"text-center"},[t("h6",[e._v("Orders already scanned")]),e._v(" "),e._l(e.existingOrders,(function(n){return t("v-chip",{staticClass:"ma-2"},[e._v("\n                                    "+e._s(n.order_no)+" : "+e._s(n.delivery_status)+"\n                                ")])}))],2)]):e._e()],1),e._v(" "),t("br"),e._v(" "),e.hasDuplicates?t("div",{staticStyle:{color:"red"}},[e._v("\n                        Duplicate order numbers detected!\n                    ")]):e._e(),e._v(" "),t("v-divider"),e._v(" "),t("v-layout",{attrs:{row:""}},[t("v-flex",{staticStyle:{"margin-left":"10px"},attrs:{sm1:""}},[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(n){var i=n.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:e.reset},slot:"activator"},i),[t("v-icon",{attrs:{color:"blue darken-2",small:""}},[e._v("mdi-refresh")])],1)]}}])},[e._v(" "),t("span",[e._v("Reset")])])],1),e._v(" "),t("v-flex",{attrs:{sm2:""}},[t("h3",{staticStyle:{"margin-left":"30px !important","margin-top":"10px"}},[e._v("Dispatch")])])],1),e._v(" "),t("v-flex",{attrs:{sm12:""}},[t("v-data-table",{attrs:{headers:e.headers,items:e.orders,search:e.search,loading:e.loading},scopedSlots:e._u([{key:"item.actions",fn:function(n){n.item;var i=n.index;return[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on;return[t("v-btn",e._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(t){return e.remove(i)}},slot:"activator"},r),[t("v-icon",{attrs:{small:"",color:"pink darken-2"}},[e._v("mdi-delete")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("Remove")])])]}}])})],1)],1)],1)],1)],1)],1)}),[],!1,null,"6f84eb50",null);t.default=d.exports},654:function(e,t,n){var i=n(851);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(i,r);i.locals&&(e.exports=i.locals)},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f}));var i=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&c(e,n,t[n]);return e};function d(e,t,n,i,r,s,a,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}const p={name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((e,t)=>(e[t.id]=t)&&e,{})}},methods:{updatePaneComponents(){this.panes.forEach(e=>{e.update&&e.update({[this.horizontal?"height":"width"]:this.indexedPanes[e.id].size+"%"})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(e,t){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(e,t){"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===t?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,t),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=t,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick(e,t){let n=0;this.panes=this.panes.map((e,i)=>(e.size=i===t?e.max:e.min,i!==t&&(n+=e.min),e)),this.panes[t].size-=n,this.$emit("pane-maximize",this.panes[t])},onPaneClick(e,t){this.$emit("pane-click",this.indexedPanes[t])},getCurrentMouseDrag(e){const t=this.container.getBoundingClientRect(),{clientX:n,clientY:i}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:n-t.left,y:i-t.top}},getCurrentDragPercentage(e){e=e[this.horizontal?"y":"x"];const t=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=t-e),100*e/t},calculatePanesSize(e){const t=this.touch.activeSplitter;let n={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0};const i=0+(this.pushOtherPanes?0:n.prevPanesSize),r=100-(this.pushOtherPanes?0:n.nextPanesSize),s=Math.max(Math.min(this.getCurrentDragPercentage(e),r),i);let a=[t,t+1],o=this.panes[a[0]]||null,l=this.panes[a[1]]||null;const c=o.max<100&&s>=o.max+n.prevPanesSize,u=l.max<100&&s<=100-(l.max+this.sumNextPanesSize(t+1));if(c||u)c?(o.size=o.max,l.size=Math.max(100-o.max-n.prevPanesSize-n.nextPanesSize,0)):(o.size=Math.max(100-l.max-n.prevPanesSize-this.sumNextPanesSize(t+1),0),l.size=l.max);else{if(this.pushOtherPanes){const e=this.doPushOtherPanes(n,s);if(!e)return;({sums:n,panesToResize:a}=e),o=this.panes[a[0]]||null,l=this.panes[a[1]]||null}null!==o&&(o.size=Math.min(Math.max(s-n.prevPanesSize-n.prevReachedMinPanes,o.min),o.max)),null!==l&&(l.size=Math.min(Math.max(100-s-n.nextPanesSize-n.nextReachedMinPanes,l.min),l.max))}},doPushOtherPanes(e,t){const n=this.touch.activeSplitter,i=[n,n+1];return t<e.prevPanesSize+this.panes[i[0]].min&&(i[0]=this.findPrevExpandedPane(n).index,e.prevReachedMinPanes=0,i[0]<n&&this.panes.forEach((t,r)=>{r>i[0]&&r<=n&&(t.size=t.min,e.prevReachedMinPanes+=t.min)}),e.prevPanesSize=this.sumPrevPanesSize(i[0]),void 0===i[0])?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((t,i)=>{i>0&&i<=n&&(t.size=t.min,e.prevReachedMinPanes+=t.min)}),this.panes[i[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[i[1]].min&&(i[1]=this.findNextExpandedPane(n).index,e.nextReachedMinPanes=0,i[1]>n+1&&this.panes.forEach((t,r)=>{r>n&&r<i[1]&&(t.size=t.min,e.nextReachedMinPanes+=t.min)}),e.nextPanesSize=this.sumNextPanesSize(i[1]-1),void 0===i[1])?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((t,i)=>{i<this.panesCount-1&&i>=n+1&&(t.size=t.min,e.nextReachedMinPanes+=t.min)}),this.panes[i[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:i}},sumPrevPanesSize(e){return this.panes.reduce((t,n,i)=>t+(i<e?n.size:0),0)},sumNextPanesSize(e){return this.panes.reduce((t,n,i)=>t+(i>e+1?n.size:0),0)},findPrevExpandedPane(e){return[...this.panes].reverse().find(t=>t.index<e&&t.size>t.min)||{}},findNextExpandedPane(e){return this.panes.find(t=>t.index>e+1&&t.size>t.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(e=>{const t=e.classList.contains("splitpanes__pane"),n=e.classList.contains("splitpanes__splitter");if(!t&&!n)return e.parentNode.removeChild(e),void console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.")})},addSplitter(e,t,n=!1){const i=e-1,r=document.createElement("div");r.classList.add("splitpanes__splitter"),n||(r.onmousedown=e=>this.onMouseDown(e,i),"undefined"!=typeof window&&"ontouchstart"in window&&(r.ontouchstart=e=>this.onMouseDown(e,i)),r.onclick=e=>this.onSplitterClick(e,i+1)),this.dblClickSplitter&&(r.ondblclick=e=>this.onSplitterDblClick(e,i+1)),t.parentNode.insertBefore(r,t)},removeSplitter(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters(){const e=Array.from(this.container.children);e.forEach(e=>{e.className.includes("splitpanes__splitter")&&this.removeSplitter(e)});let t=0;e.forEach(e=>{e.className.includes("splitpanes__pane")&&(!t&&this.firstSplitter?this.addSplitter(t,e,!0):t&&this.addSplitter(t,e),t++)})},requestUpdate(e){var t=e,{target:n}=t,i=((e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&l.call(e,i)&&(n[i]=e[i]);return n})(t,["target"]);const r=this.indexedPanes[n._uid];Object.entries(i).forEach(([e,t])=>r[e]=t)},onPaneAdd(e){let t=-1;Array.from(e.$el.parentNode.children).some(n=>(n.className.includes("splitpanes__pane")&&t++,n===e.$el));const n=parseFloat(e.minSize),i=parseFloat(e.maxSize);this.panes.splice(t,0,{id:e._uid,index:t,min:isNaN(n)?0:n,max:isNaN(i)?100:i,size:null===e.size?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((e,t)=>e.index=t),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[t]}),this.$emit("pane-add",{index:t,panes:this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))})})},onPaneRemove(e){const t=this.panes.findIndex(t=>t.id===e._uid),n=this.panes.splice(t,1)[0];this.panes.forEach((e,t)=>e.index=t),this.$nextTick(()=>{var e,i;this.redoSplitters(),this.resetPaneSizes({removedPane:(e=u({},n),i={index:t},r(e,s(i)))}),this.$emit("pane-remove",{removed:n,panes:this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))})})},resetPaneSizes(e={}){e.addedPane||e.removedPane?this.panes.some(e=>null!==e.givenSize||e.min||e.max<100)?this.equalizeAfterAddOrRemove(e):this.equalize():this.initialPanesSizing(),this.ready&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size})))},equalize(){const e=100/this.panesCount;let t=0,n=[],i=[];this.panes.forEach(r=>{r.size=Math.max(Math.min(e,r.max),r.min),t-=r.size,r.size>=r.max&&n.push(r.id),r.size<=r.min&&i.push(r.id)}),t>.1&&this.readjustSizes(t,n,i)},initialPanesSizing(){this.panesCount;let e=100,t=[],n=[],i=0;this.panes.forEach(r=>{e-=r.size,null!==r.size&&i++,r.size>=r.max&&t.push(r.id),r.size<=r.min&&n.push(r.id)});let r=100;e>.1&&(this.panes.forEach(t=>{null===t.size&&(t.size=Math.max(Math.min(e/(this.panesCount-i),t.max),t.min)),r-=t.size}),r>.1&&this.readjustSizes(e,t,n))},equalizeAfterAddOrRemove({addedPane:e,removedPane:t}={}){let n=100/this.panesCount,i=0,r=[],s=[];e&&null!==e.givenSize&&(n=(100-e.givenSize)/(this.panesCount-1)),this.panes.forEach(e=>{i-=e.size,e.size>=e.max&&r.push(e.id),e.size<=e.min&&s.push(e.id)}),Math.abs(i)<.1||(this.panes.forEach(t=>{e&&null!==e.givenSize&&e.id===t.id||(t.size=Math.max(Math.min(n,t.max),t.min)),i-=t.size,t.size>=t.max&&r.push(t.id),t.size<=t.min&&s.push(t.id)}),i>.1&&this.readjustSizes(i,r,s))},readjustSizes(e,t,n){let i;i=e>0?e/(this.panesCount-t.length):e/(this.panesCount-n.length),this.panes.forEach((r,s)=>{if(e>0&&!t.includes(r.id)){const t=Math.max(Math.min(r.size+i,r.max),r.min),n=t-r.size;e-=n,r.size=t}else if(!n.includes(r.id)){const t=Math.max(Math.min(r.size+i,r.max),r.min),n=t-r.size;e-=n,r.size=t}r.update({[this.horizontal?"height":"width"]:this.indexedPanes[r.id].size+"%"})}),Math.abs(e)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(e){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((t,n)=>{t.ondblclick=e?e=>this.onSplitterDblClick(e,n):void 0})}},beforeDestroy(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(e){return e("div",{ref:"container",class:["splitpanes","splitpanes--"+(this.horizontal?"horizontal":"vertical"),{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default)}};const v={};var h=d(p,void 0,void 0,!1,m,null,null,null);function m(e){for(let e in v)this[e]=v[e]}var f=function(){return h.exports}();const _={};var b=d({name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeDestroy(){this.onPaneRemove(this)},methods:{update(e){this.style=e}},computed:{sizeNumber(){return this.size||0===this.size?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(e){this.requestUpdate({target:this,size:e})},minSizeNumber(e){this.requestUpdate({target:this,min:e})},maxSizeNumber(e){this.requestUpdate({target:this,max:e})}}},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"splitpanes__pane",style:e.style,on:{click:function(t){return e.onPaneClick(t,e._uid)}}},[e._t("default")],2)}),[],!1,y,null,null,null);function y(e){for(let e in _)this[e]=_[e]}var g=function(){return b.exports}()},850:function(e,t,n){"use strict";n(654)},851:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".el-dropdown-link[data-v-0cf60954]{cursor:pointer;color:#409eff}.el-icon-arrow-down[data-v-0cf60954]{font-size:12px}.demonstration[data-v-0cf60954]{display:block;color:#8492a6;font-size:14px;margin-bottom:20px}",""])}}]);