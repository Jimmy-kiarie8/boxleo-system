(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{441:function(t,e,r){var o=r(529);"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(4)(o,n);o.locals&&(t.exports=o.locals)},528:function(t,e,r){"use strict";r(441)},529:function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".v-sheet.v-card[data-v-57544cc6]{width:90%;margin:auto}",""])},870:function(t,e,r){"use strict";r.r(e);var o=r(2);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={props:["user"],data:function(){return{e6:1,search:"",item:{value:null},form:{},form_id:null,copy_val:"",dialog:!1,headers:[{text:"Product name",value:"product_name"},{text:"Quantity",value:"quantity"},{text:"Price/Kg",value:"price"},{text:"Weight(KGS)",value:"weight"},{text:"Clearing company",value:"clearing_company"},{text:"Actions",value:"actions"}],columns:[{text:"Product name",value:"product_name"},{text:"Quantity",value:"quantity"},{text:"Position",value:"position"},{text:"Actions",value:"actions"}]}},methods:{submit:function(){var t=this,e={model:"shipment-request",data:this.form};this.$store.dispatch("postItems",e).then((function(e){console.log("ðŸš€ ~ file: create.vue:159 ~ submit ~ response:",e),t.form={},t.e6=1}))},getWarehouses:function(){this.$store.dispatch("getItems",{model:"warehouses",update:"updateWarehouseList"})},getVendors:function(){this.$store.dispatch("getItems",{model:"sellers",update:"updateSellerList"})},getProducts:function(t){},goTo2:function(){this.e6=2},goTo3:function(){this.e6=3},bin_check:function(){var t={model:"bins_check",update:"updateBin",data:this.form};this.$store.dispatch("postItems",t)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["sellers","products","warehouses"])),mounted:function(){this.getVendors(),this.getWarehouses()},created:function(){var t=this;eventBus.$on("CreateShipmentEvent",(function(){t.dialog=!0,setTimeout((function(){t.user.is_vendor&&t.getProducts(t.user.id)}),500)}))}},l=r(0),c=Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{width:"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{staticClass:"mb-12",attrs:{elevation:"3"}},[e("v-card-title",{attrs:{"primary-title":""}},[t._v("\n            Shipment\n        ")]),t._v(" "),e("v-card-text",[e("br"),t._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Waybill No.")]),t._v(" "),e("el-input",{attrs:{placeholder:"Waybill No"},model:{value:t.form.waybill_no,callback:function(e){t.$set(t.form,"waybill_no",e)},expression:"form.waybill_no"}})],1),t._v(" "),e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Weight")]),t._v(" "),e("el-input",{attrs:{placeholder:"Weight"},model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",e)},expression:"form.weight"}})],1),t._v(" "),e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Amount")]),t._v(" "),e("el-input",{attrs:{placeholder:"Amount"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1),t._v(" "),e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Arrival date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a Date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd"},model:{value:t.form.arrival_date,callback:function(e){t.$set(t.form,"arrival_date",e)},expression:"form.arrival_date"}})],1),t._v(" "),e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Warehouse")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select"},model:{value:t.form.warehouse_id,callback:function(e){t.$set(t.form,"warehouse_id",e)},expression:"form.warehouse_id"}},t._l(t.warehouses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),t.user.is_vendor?t._e():e("v-flex",{attrs:{sm6:""}},[e("label",{attrs:{for:""}},[t._v("Vendor")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",clearable:"",filterable:""},on:{change:t.getProducts},model:{value:t.form.seller_id,callback:function(e){t.$set(t.form,"seller_id",e)},expression:"form.seller_id"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Product")]),t._v(" "),e("el-input",{attrs:{placeholder:"Description"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"primary"},on:{click:t.submit}},[t._v("\n                Submit\n            ")])],1)],1)],1)}),[],!1,null,null,null).exports;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function v(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p={props:["user"],data:function(){return v(v(v(v(v(v(v(v(v({singleExpand:!0,search:"",expanded:[],e6:1},"search",""),"item",{value:null}),"form",{}),"form_id",null),"copy_val",""),"dialog",!1),"headers",[{text:"Product Name ",value:"product.product_name"},{text:"Quantity",value:"quantity"},{text:"Received Quantity",value:"received_quantity"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}]),"headers2",[{text:"Product name",value:"product.product_name"},{text:"Quantity",value:"quantity"},{text:"Quantity Received",value:"received_quantity"},{text:"Price/Kg",value:"price"},{text:"Weight(KGS)",value:"weight"},{text:"Clearing company",value:"clearing_company"},{text:"Actions",value:"actions"}]),"columns",[{text:"Product name",value:"product.product_name"},{text:"Quantity",value:"quantity"},{text:"Quantity Received",value:"received_quantity"},{text:"Position",value:"position"},{text:"Actions",value:"actions"}])},methods:{submit:function(){var t=this,e={model:"receive",data:this.form,id:this.form.id};this.$store.dispatch("patchItems",e).then((function(e){console.log("ðŸš€ ~ file: edit.vue:242 ~ submit ~ response:",e),t.form={},t.e6=1}))},getWarehouses:function(){this.$store.dispatch("getItems",{model:"warehouses",update:"updateWarehouseList"})},getVendors:function(){this.$store.dispatch("getItems",{model:"sellers",update:"updateSellerList"})},getProducts:function(t){var e={model:"vendor_product",update:"updateProductsList",id:t};this.$store.dispatch("showItem",e)},goTo2:function(){this.e6=2},goTo3:function(){var t=this,e={model:"warehouse_pickup",data:this.form};this.$store.dispatch("postItems",e).then((function(e){t.form_id=e.data.id,t.e6=3}))},getBins:function(){this.$store.dispatch("getItems",{model:"bins",update:"updateBins"})},bin_check:function(){var t={model:"bins_check",update:"updateBin",data:this.form};this.$store.dispatch("postItems",t)}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["sellers","products","warehouses","bins"])),mounted:function(){this.getVendors(),this.getWarehouses(),this.getBins()},created:function(){var t=this;eventBus.$on("editShipmentEvent",(function(e){t.form=e,t.form.vendor_id=e.seller_id,t.dialog=!0,setTimeout((function(){t.user.is_vendor&&t.getProducts(t.user.id)}),500)}))}},m=Object(l.a)(p,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e("v-dialog",{attrs:{width:"900"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-stepper",{attrs:{vertical:""},model:{value:t.e6,callback:function(e){t.e6=e},expression:"e6"}},[e("v-stepper-step",{attrs:{complete:t.e6>1,step:"1",editable:t.e6>1}},[t._v("\n                Basic details\n                "),e("small",[t._v("details")])]),t._v(" "),e("v-stepper-content",{attrs:{step:"1"}},[e("v-card",{staticClass:"mb-12",staticStyle:{padding:"10px"},attrs:{elevation:"3"}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Arrival date")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a Date",format:"yyyy/MM/dd","value-format":"yyyy-MM-dd",disabled:""},model:{value:t.form.arrival_date,callback:function(e){t.$set(t.form,"arrival_date",e)},expression:"form.arrival_date"}})],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Warehouse")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",disabled:""},model:{value:t.form.warehouse_id,callback:function(e){t.$set(t.form,"warehouse_id",e)},expression:"form.warehouse_id"}},t._l(t.warehouses,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),t.user.is_vendor?t._e():e("v-flex",{attrs:{sm12:""}},[e("label",{attrs:{for:""}},[t._v("Vendor")]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select",disabled:""},model:{value:t.form.vendor_id,callback:function(e){t.$set(t.form,"vendor_id",e)},expression:"form.vendor_id"}},t._l(t.sellers.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),e("v-flex",{attrs:{sm12:""}},[e("v-data-table",{attrs:{headers:t.headers,items:t.form.products,search:t.search}})],1)],1),t._v(" "),e("v-card-text")],1),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.goTo2}},[t._v("\n                    Continue\n                ")])],1),t._v(" "),e("v-stepper-step",{attrs:{complete:t.e6>2,step:"2",editable:t.e6>2}},[t._v("\n                Product details\n            ")]),t._v(" "),e("v-stepper-content",{attrs:{step:"2"}},[e("v-card",{staticClass:"mb-12",staticStyle:{padding:"10px"},attrs:{elevation:"3"}},[e("v-card-title",{attrs:{"primary-title":""}},[e("v-btn",{attrs:{color:"primary",text:""},on:{click:t.bin_check}},[t._v("Check for bins")])],1),t._v(" "),e("v-card-text",[[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers2,items:t.form.products,"items-per-page":5,search:t.search},scopedSlots:t._u([{key:"item.quantity",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Please input",disabled:""},model:{value:o.quantity,callback:function(e){t.$set(o,"quantity",e)},expression:"item.quantity"}})]}},{key:"item.received_quantity",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Please input"},model:{value:o.received_quantity,callback:function(e){t.$set(o,"received_quantity",e)},expression:"item.received_quantity"}})]}},{key:"item.clearing_company",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Please input"},model:{value:o.clearing_company,callback:function(e){t.$set(o,"clearing_company",e)},expression:"item.clearing_company"}})]}},{key:"item.price",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Price/KG"},model:{value:o.price,callback:function(e){t.$set(o,"price",e)},expression:"item.price"}})]}},{key:"item.weight",fn:function(r){var o=r.item;return[e("el-input",{attrs:{placeholder:"Weight in kgs"},model:{value:o.weight,callback:function(e){t.$set(o,"weight",e)},expression:"item.weight"}})]}},{key:"item.actions",fn:function(r){r.item;return[e("v-btn",{attrs:{color:"pink",text:"",icon:""}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)]}}])})]],2)],1),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.goTo3}},[t._v("\n                Continue\n            ")]),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:function(e){t.e6=1}}},[t._v("\n                Back\n            ")])],1),t._v(" "),e("v-stepper-step",{attrs:{complete:t.e6>3,step:"3"}},[t._v("\n            Putaway\n        ")]),t._v(" "),e("v-stepper-content",{attrs:{step:"3"}},[e("v-card",{staticClass:"mb-12",staticStyle:{padding:"10px"},attrs:{elevation:"3"}},[e("v-card-title",{attrs:{"primary-title":""}},[e("v-btn",{attrs:{color:"primary",text:"",href:"/pickup_note/"+t.form_id,target:"_blank"}},[t._v("Print Clearance form")]),t._v(" "),e("v-btn",{attrs:{color:"primary",text:"",href:"/product_sticker/"+t.form_id,target:"_blank"}},[t._v("Print product stickers")])],1),t._v(" "),e("v-card-text",[[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.columns,items:t.form.products,"items-per-page":5,search:t.search},scopedSlots:t._u([{key:"item.position",fn:function(r){var o=r.item;return[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select"},model:{value:o.position,callback:function(e){t.$set(o,"position",e)},expression:"item.position"}},t._l(t.bins,(function(t){return e("el-option",{key:t.id,attrs:{label:t.code,value:t.code}})})),1)]}},{key:"item.actions",fn:function(r){r.item;return[e("v-btn",{attrs:{color:"primary",text:"",icon:""}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-printer")])],1)]}}])})]],2)],1),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.submit}},[t._v("\n                Put away\n            ")]),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:function(e){t.e6=2}}},[t._v("\n                Back\n            ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,f={props:{modelRoute:String,title:String},data:function(){return{dialog:!1,file:null,form:{},loading:!1,snackbar:!1,text:"Document uploaded",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content"),accept:"application/json"},fileList:[]}},methods:{handlePreview:function(){},handleRemove:function(){},handleError:function(t,e){this.$store.dispatch("page_loader",!1),this.$message.error("Something went wrong. Please check your file!")},handleSuccess:function(t,e){},beforeUpload:function(t){},handleFileUpload:function(){this.$refs.upload.submit()},handleFileUpload_:function(){var t=this;if(this.$refs.fileUpload&&this.$refs.fileUpload.files)if(this.file=this.$refs.fileUpload.files[0],this.file){this.loading=!0;var e=new FormData;e.append("file",this.file),axios.post("shipment-document".concat(this.form.id),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.loading=!1,console.log("File uploaded successfully",e)})).catch((function(e){t.loading=!1,console.error("Error uploading file",e)}))}else console.error("No file selected");else console.error("File input element not found")},close:function(){this.dialog=!1},show:function(){this.dialog=!0}},created:function(){var t=this;eventBus.$on("uploadShipmentEvent",(function(e){t.dialog=!0,t.form=e}))}},h={props:["user"],data:function(){return{selectedItem:0,documents:{},dialog:!1}},methods:{},created:function(){var t=this;eventBus.$on("showShipmentEvent",(function(e){t.documents=e,t.dialog=!0}))}};function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=_(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g={props:["form_bin","user"],components:{myCreate:c,myEdit:m,myUpload:Object(l.a)(f,(function(){var t=this,e=t._self._c;return e("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",{attrs:{"primary-title":""}},[t._v("\n                Upload Document\n            ")]),t._v(" "),e("hr"),t._v(" "),e("v-card-text",[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"/shipment-document/".concat(t.form.id),"auto-upload":!1,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,multiple:"",headers:t.headers,"on-success":t.handleSuccess,"on-error":t.handleError}},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),e("em",[t._v("click to upload")])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("Upload you files here!")])])],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{"prepend-icon":"mdi-close",variant:"tonal",color:"error"},on:{click:t.close}},[t._v("\n                    Close\n                ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{"prepend-icon":"mdi-upload",variant:"tonal",loading:t.loading,color:"info"},on:{click:t.handleFileUpload}},[t._v("\n                    Upload\n                ")])],1)],1)],1),t._v(" "),e("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        "+t._s(t.text)+"\n    ")])],1)}),[],!1,null,null,null).exports,myFiles:Object(l.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",{attrs:{"primary-title":""}},[t._v("\n                Documents\n            ")]),t._v(" "),e("v-card-text",[e("v-list",{attrs:{dense:""}},[e("v-subheader",[t._v("REPORTS")]),t._v(" "),e("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},t._l(t.documents,(function(r,o){return e("v-list-item",{key:o},[e("v-list-item-icon",[e("v-icon",[t._v("mdi-file")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(r.file_name))])],1),t._v(" "),e("v-list-item-action",[e("v-btn",{attrs:{icon:"",href:r.path,target:"_blank"}},[e("v-icon",{attrs:{color:"success"}},[t._v("mdi-download")])],1)],1)],1)})),1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{search:"",loading:!1,form:{},headers:[{text:"Waybill",value:"waybill_no"},{text:"Amount",value:"amount"},{text:"Weight",value:"weight"},{text:"Arrival Date ",value:"arrival_date"},{text:"Created on",value:"created_at"},{text:"Merchant",value:"seller.name"},{text:"Payment Code",value:"payment_code"},{text:"Approved",value:"approve_status"},{text:"Last approved by",value:"last_aproved_by"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}]}},methods:{update_item:function(t,e){var r={data:{update:e,data:t},model:"shipment-edit",id:t.id};this.$store.dispatch("patchItems",r).then((function(t){}))},getShipments:function(){this.$store.dispatch("getItems",{model:"shipments",update:"updateShipments"})},openCreate:function(){eventBus.$emit("CreateShipmentEvent",this.form_bin)},closeShipments:function(){eventBus.$emit("displayChange","row")},printSticker:function(){},receiveItems:function(t){eventBus.$emit("editShipmentEvent",t)},approveItems:function(t){var e={model:"shipment-approve/".concat(t),data:{}};this.$store.dispatch("postItems",e)},uploadDocument:function(t){eventBus.$emit("uploadShipmentEvent",t)},showDocuments:function(t){eventBus.$emit("showShipmentEvent",t.documents)},deleteItem:function(){}},mounted:function(){this.getShipments()},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(o.b)(["shipments","loading"]))},x=(r(528),Object(l.a)(g,(function(){var t=this,e=t._self._c;return e("v-card",{attrs:{elevation:"4"}},[e("v-card-title",[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on;return[e("v-btn",t._g({staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:t.getShipments},slot:"activator"},o),[e("v-icon",{attrs:{color:"blue darken-2",small:""}},[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),e("span",[t._v("Refresh")])]),t._v(" "),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",outlined:""},on:{click:t.openCreate}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-plus-circle")]),t._v("\n            Create a Shipment Request\n        ")],1)],1),t._v(" "),e("v-data-table",{attrs:{headers:t.headers,items:t.shipments.data,search:t.search,loading:t.loading},scopedSlots:t._u([t.user.can["Order edit"]?{key:"item.payment_code",fn:function(r){return[e("v-edit-dialog",{attrs:{"return-value":r.item.payment_code,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(r.item,"payment_code",e)},"update:return-value":function(e){return t.$set(r.item,"payment_code",e)},save:function(e){return t.update_item(r.item,"payment_code")},cancel:t.cancel,open:t.open_dialog,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[e("div",{staticClass:"mt-4 title",staticStyle:{color:"#333"}},[t._v("\n                        Payment Code\n                    ")]),t._v(" "),e("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:r.item.payment_code,callback:function(e){t.$set(r.item,"payment_code",e)},expression:"props.item.payment_code"}})]},proxy:!0}],null,!0)},[e("span",{attrs:{id:"address_tab"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:r.item.payment_code,placement:"top-start"}},[e("span",[t._v("\n                            "+t._s(r.item.payment_code)+"\n                        ")])])],1)])]}}:null,{key:"item.approve_status",fn:function(t){var r=t.item;return[e("el-tooltip",{attrs:{content:r.approve_status?"Approved":"Pending",placement:"top"}},[e("v-avatar",{staticStyle:{cursor:"pointer"},attrs:{color:r.approve_status?"green":"red",small:""}})],1)]}},{key:"item.actions",fn:function(r){var o=r.item;return[t.user.is_vendor?t._e():e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,a=r.attrs;return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.uploadDocument(o)}}},"v-btn",a,!1),n),[e("v-icon",{attrs:{color:"primary lighten-1",small:""}},[t._v("\n                            mdi-upload\n                        ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Upload")])]),t._v(" "),t.user.is_vendor?t._e():e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,a=r.attrs;return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.showDocuments(o)}}},"v-btn",a,!1),n),[e("v-icon",{attrs:{color:"primary lighten-1",small:""}},[t._v("\n                            mdi-file\n                        ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Upload")])]),t._v(" "),!t.user.is_vendor&&o.approve_status?e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,a=r.attrs;return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.receiveItems(o)}}},"v-btn",a,!1),n),[e("v-icon",{attrs:{color:"success",small:""}},[t._v("\n                            mdi-warehouse\n                        ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Receive")])]):t._e(),t._v(" "),t.user.is_vendor||o.approve_status?t._e():e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,a=r.attrs;return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.approveItems(o.id)}}},"v-btn",a,!1),n),[e("v-icon",{attrs:{color:"success",small:""}},[t._v("\n                            mdi-check-underline-circle\n                        ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("Approve")])])]}}],null,!0)}),t._v(" "),e("myCreate",{attrs:{user:t.user}}),t._v(" "),e("myEdit",{attrs:{user:t.user}}),t._v(" "),e("myUpload",{attrs:{user:t.user}}),t._v(" "),e("myFiles")],1)}),[],!1,null,"57544cc6",null));e.default=x.exports}}]);