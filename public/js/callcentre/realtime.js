(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1157:function(t,e,a){"use strict";a.r(e);var r=a(2),o=a(510),n=a(511);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function i(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={components:{myOnline:o.a,myOffline:n.a},data:function(){return{search:"",headers:[{text:"Agent",value:"name"},{text:"Calls made",value:"calls_count"},{text:"Talk time (Min)",value:"calls_sum_duration_in_seconds"},{text:"Connected",value:"today_answered"},{text:"Not Connected",value:"today_unanswered"},{text:"Missed Calls",value:"today_missed"},{text:"On Break",value:"on_break"},{text:"On Call",value:"call_active"},{text:"Online status",value:"online"}]}},methods:{getRealtime:function(){this.$store.dispatch("getItems",{update:"updateRealtime",model:"agents",load:"no"})},updateUserStatus:function(t,e){var a=t.id,r=this.realtime.find((function(t){return t.id===a}));r&&(r.online=e,r.call_active=t.call_active,r.on_break=t.on_break)}},created:function(){var t=this;eventBus.$on("userOnlineEvent",(function(e){t.updateUserStatus(e.id,!0)})),eventBus.$on("userOfflineEvent",(function(e){t.updateUserStatus(e,!1)}))},mounted:function(){this.getRealtime()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.b)(["realtime","loading"]))},u=(a(862),a(0)),d=Object(u.a)(c,(function(){var t=this._self._c;return t("v-card",[t("v-card-text",[t("v-data-table",{attrs:{headers:this.headers,items:this.realtime,search:this.search,loading:this.loading},scopedSlots:this._u([{key:"item.online",fn:function(e){return[e.item.online?t("myOnline"):t("myOffline")]}},{key:"item.on_break",fn:function(e){return[e.item.on_break?t("myOnline"):t("myOffline")]}},{key:"item.call_active",fn:function(e){return[e.item.call_active?t("myOnline"):t("myOffline")]}}])})],1)],1)}),[],!1,null,null,null);e.default=d.exports},1158:function(t,e,a){"use strict";a.r(e);var r=a(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function s(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={data:function(){return{form:{},loading:!1,selectedReport:"",selectedProducts:[],dailyStatusDate:"",salesStartDate:"",salesEndDate:"",movementYear:"",movementMonth:"",performanceStartDate:"",performanceEndDate:"",dailyStatusReport:[],salesReport:[],movementReport:[],availabilityReport:[],performanceReport:[],reportTypes:["Daily Product Status Report","Product Sales Report","Monthly Product Movement Report","Product Performance Report"],dailyStatusHeaders:[{text:"Product",value:"product.product_name"},{text:"Delivered",value:"delivered"},{text:"Dispatched",value:"dispatched"},{text:"Scheduled",value:"scheduled"},{text:"Uploaded",value:"uploaded"},{text:"Returned",value:"returned"},{text:"Pending",value:"pending"},{text:"Closing Count",value:"closing_count"},{text:"Starting Count",value:"starting_count"}],salesHeaders:[{text:"Product Name",value:"product_name"},{text:"Total Sales",value:"total_sales"},{text:"Total Quantity Sold",value:"total_quantity_sold"},{text:"Revenue Generated",value:"revenue_generated"}],movementHeaders:[{text:"Product",value:"product_name"},{text:"Total Delivered",value:"total_delivered"},{text:"Total Dispatched",value:"total_dispatched"},{text:"Total Returned",value:"total_returned"},{text:"Total Scheduled",value:"total_scheduled"}],availabilityHeaders:[{text:"Product Name",value:"product_name"},{text:"Total Quantity",value:"total_quantity"},{text:"Bin Locations",value:"bin_locations"}],performanceHeaders:[{text:"Product Name",value:"product_name"},{text:"Total Sales",value:"total_sales"},{text:"Total Returns",value:"total_returns"},{text:"Average Daily Sales",value:"average_daily_sales"},{text:"Current Stock",value:"current_stock"}]}},methods:{fetchReport:function(){switch(this.selectedReport){case"Daily Product Status Report":this.fetchDailyProductStatusReport();break;case"Product Sales Report":this.fetchProductSalesReport();break;case"Monthly Product Movement Report":this.fetchMonthlyProductMovementReport();break;case"Product Availability Report":this.fetchProductAvailabilityReport();break;case"Product Performance Report":this.fetchProductPerformanceReport()}},clearReport:function(){this.dailyStatusReport=[],this.salesReport=[],this.movementReport=[],this.availabilityReport=[],this.performanceReport=[]},fetchDailyProductStatusReport:function(){var t=this;this.loading=!0,axios.get("/reports/daily-product-status",{params:{date:this.dailyStatusDate,products:this.selectedProducts}}).then((function(e){t.loading=!1,t.dailyStatusReport=e.data})).catch((function(e){t.loading=!1,console.error(e)}))},fetchProductSalesReport:function(){var t=this;this.loading=!0,axios.get("/reports/product-sales",{params:{start_date:this.salesStartDate,end_date:this.salesEndDate,products:this.selectedProducts}}).then((function(e){t.loading=!1,t.salesReport=e.data})).catch((function(e){t.loading=!1,console.error(e)}))},fetchMonthlyProductMovementReport:function(){var t=this;this.loading=!0,axios.get("/reports/monthly-product-movement",{params:{year:this.movementYear,month:this.movementMonth,products:this.selectedProducts}}).then((function(e){t.loading=!1,t.movementReport=e.data})).catch((function(e){t.loading=!1,console.error(e)}))},fetchProductAvailabilityReport:function(){var t=this;this.loading=!0,axios.get("/reports/product-availability",{params:{products:this.selectedProducts}}).then((function(e){t.loading=!1,t.availabilityReport=e.data})).catch((function(e){t.loading=!1,console.error(e)}))},fetchProductPerformanceReport:function(){var t=this;this.loading=!0,axios.get("/reports/product-performance",{params:{start_date:this.performanceStartDate,end_date:this.performanceEndDate,products:this.selectedProducts}}).then((function(e){t.loading=!1,t.performanceReport=e.data})).catch((function(e){t.loading=!1,console.error(e)}))},getProduct:function(t){if(t.length>2){var e={model:"product_filter_search",update:"updateProductsList",data:{search:t,vendors:this.form.client}};this.$store.dispatch("filterItems",e)}},fetchProducts:function(){this.$store.dispatch("getItems",{model:"products",update:"updateProductsList"})}},mounted:function(){this.fetchProducts(),this.fetchProductAvailabilityReport()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.b)(["products"]))},i=a(0),c=Object(i.a)(l,(function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-select",{attrs:{items:t.reportTypes,label:"Select Report Type"},on:{change:t.clearReport},model:{value:t.selectedReport,callback:function(e){t.selectedReport=e},expression:"selectedReport"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"type at least 3 characters","remote-method":t.getProduct,loading:t.loading,"value-key":"id",clearable:""},model:{value:t.selectedProducts,callback:function(e){t.selectedProducts=e},expression:"selectedProducts"}},t._l(t.products.data,(function(t){return e("el-option",{key:t.id,attrs:{label:t.product_name,value:t}})})),1)],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-btn",{on:{click:t.fetchReport}},[t._v("Filter")])],1)],1),t._v(" "),"Daily Product Status Report"===t.selectedReport?e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Select Date",type:"date"},model:{value:t.dailyStatusDate,callback:function(e){t.dailyStatusDate=e},expression:"dailyStatusDate"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{loading:t.loading,headers:t.dailyStatusHeaders,items:t.dailyStatusReport}})],1)],1):t._e(),t._v(" "),"Product Sales Report"===t.selectedReport?e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Start Date",type:"date"},model:{value:t.salesStartDate,callback:function(e){t.salesStartDate=e},expression:"salesStartDate"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"End Date",type:"date"},model:{value:t.salesEndDate,callback:function(e){t.salesEndDate=e},expression:"salesEndDate"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{loading:t.loading,headers:t.salesHeaders,items:t.salesReport}})],1)],1):t._e(),t._v(" "),"Monthly Product Movement Report"===t.selectedReport?e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Year",type:"number"},model:{value:t.movementYear,callback:function(e){t.movementYear=e},expression:"movementYear"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Month",type:"number"},model:{value:t.movementMonth,callback:function(e){t.movementMonth=e},expression:"movementMonth"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{loading:t.loading,headers:t.movementHeaders,items:t.movementReport}})],1)],1):t._e(),t._v(" "),"Product Availability Report"===t.selectedReport?e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{loading:t.loading,headers:t.availabilityHeaders,items:t.availabilityReport}})],1)],1):t._e(),t._v(" "),"Product Performance Report"===t.selectedReport?e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"Start Date",type:"date"},model:{value:t.performanceStartDate,callback:function(e){t.performanceStartDate=e},expression:"performanceStartDate"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{label:"End Date",type:"date"},model:{value:t.performanceEndDate,callback:function(e){t.performanceEndDate=e},expression:"performanceEndDate"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{loading:t.loading,headers:t.performanceHeaders,items:t.performanceReport}})],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=c.exports},510:function(t,e,a){"use strict";var r={},o=(a(735),a(0)),n=Object(o.a)(r,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",[t("span",{staticClass:"pulse"})])}],!1,null,"446ca4b9",null);e.a=n.exports},511:function(t,e,a){"use strict";var r={},o=(a(737),a(0)),n=Object(o.a)(r,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",[t("span",{staticClass:"pulse"})])}],!1,null,"6f092efa",null);e.a=n.exports},599:function(t,e,a){var r=a(736);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(4)(r,o);r.locals&&(t.exports=r.locals)},600:function(t,e,a){var r=a(738);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(4)(r,o);r.locals&&(t.exports=r.locals)},660:function(t,e,a){var r=a(863);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(4)(r,o);r.locals&&(t.exports=r.locals)},735:function(t,e,a){"use strict";a(599)},736:function(t,e,a){(t.exports=a(3)(!1)).push([t.i,".pulse[data-v-446ca4b9]{margin-left:50%;display:block;width:22px;height:22px;border-radius:50%;background:#2bb956;cursor:pointer;box-shadow:0 0 0 rgba(43,185,86,.67);animation:pulse-446ca4b9 2s infinite}@keyframes pulse-446ca4b9{0%{box-shadow:0 0 0 rgba(43,185,86,.67)}70%{box-shadow:0 0 0 10px rgba(204,169,44,0)}to{box-shadow:0 0 0 0 rgba(204,169,44,0)}}",""])},737:function(t,e,a){"use strict";a(600)},738:function(t,e,a){(t.exports=a(3)(!1)).push([t.i,".pulse[data-v-6f092efa]{margin-left:50%;display:block;width:22px;height:22px;border-radius:50%;background:rgba(225,19,19,.788235294117647);cursor:pointer;box-shadow:0 0 0 rgba(198,40,40,.67);animation:pulse-6f092efa 2s infinite}@keyframes pulse-6f092efa{0%{box-shadow:0 0 0 rgba(198,40,40,.67)}70%{box-shadow:0 0 0 10px rgba(204,169,44,0)}to{box-shadow:0 0 0 0 rgba(204,169,44,0)}}",""])},862:function(t,e,a){"use strict";a(660)},863:function(t,e,a){(t.exports=a(3)(!1)).push([t.i,".pulse{width:10px!important;height:10px!important;margin-left:20px!important}",""])}}]);